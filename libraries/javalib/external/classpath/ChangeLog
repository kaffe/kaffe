2006-02-04  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/RETokenNamedProperty.java(getHandler): Check for
	a Unicode block if the name starts with "In".
	(UnicodeBlockHandler): New inner class.

2006-02-04  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(getComponentZOrder): New method.
	(setComponentZOrder): New method.
	* javax/swing/JLayeredPane.java
	(setPosition): Reimplemented to use setComponentZOrder().
	(getIndexOf): Reimplemented to use getComponentZOrder().
	(addImpl): Pass layerContraint to super call. Important for possibly
	installed layout managers.
	(swapComponents): Remove unneeded method.

2006-02-04  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/jce/sig/DSSKeyPairGeneratorSpi.java: Implement
	DSAKeyPairGenerator.
	(initialize(int,SecureRandom)): Call initialize(keysize, false, random).
	(initialize(AlgorithmParameterSpec,SecureRandom)): More explicit error
	message.
	Surround call to adaptee in a try/catch.
	(initialize((DSAParams,SecureRandom)): New method.
	(initialize(int,boolean,SecureRandom)): New method.
	* gnu/java/security/jce/sig/KeyPairGeneratorAdapter.java: Extends
	KeyPairGenerator rather than KeyPairGeneratorSpi.
	(KeyPairGeneratorAdapter): Call super with algorithm name.

2006-02-04  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/sasl/srp/SRPServer.java (prng): New field.
	(getDefaultPRNG): New method.
	(parseO): Use method above.
	* gnu/javax/crypto/sasl/srp/SRPClient.java (prng): New field.
	(getDefaultPRNG): New method.
	(createO): Use method above.
	* gnu/javax/crypto/sasl/srp/KDF.java (prng): New class field.
	(nextByte): Use above field.
	* gnu/javax/crypto/pad/PKCS1_V1_5.java (selfTest): Use PRNG instance.
	* gnu/java/security/sig/rsa/RSA.java: New class field.
	(newR): Use above field
	* gnu/java/security/sig/rsa/EME_PKCS1_V1_5.java (prng): New field.
	(encode): Use field.above.
	* gnu/java/security/key/dss/FIPS186.java (prng): New field.
	(getDefaultPRNG): new method.
	(nextRandomBytes): Use above method.
	* gnu/java/security/key/rsa/RSAKeyPairGenerator.java: Likewise.
	* gnu/java/security/sig/BaseSignature.java: Likewise.
	* gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java: Likewise.
	* gnu/javax/crypto/key/dh/RFC2631.java: Likewise.
	* gnu/javax/crypto/key/srp6/SRPKeyPairGenerator.java: Likewise.
	* gnu/javax/crypto/key/BaseKeyAgreementParty.java: Likewise.
	* gnu/java/security/key/dss/DSSKeyPairGenerator.java (prng): New field.
	(getDefaultPRNG): new method.
	(nextRandomBytes): Use above method.
	(STRICT_DEFAULTS): new class field.
	(USE_DEFAULTS): more documentation to clarify behavior.
	(setup): amended to handle new attribute.
	* gnu/java/security/util/PRNG.java: New file.

2006-02-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicColorChooserUI.java:
	chooser field should be protected, not package-private.	

2006-02-03  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/DefaultStyledDocument.java
	(changeUpdate): Cleaned up code.
	(split): Likewise.
	(insertUpdate): Set offset to be equal to pos after
	insertContentTag call.
	(insertContentTag): If paragraph has no children, should use
	replace instead of Edit.
	(insertFracture): Moved around code to prevent any exception. Also,
	left side of tree should not be recreated if it has already been 
	edited. In that case, we should only be creating a new right branch
	when fracturing.
	(getEditForParagraphAndIndex): No need to check index. We should
	use the same edit for each paragraph.

2006-02-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/event/SwingPropertyChangeSupport.java
	(propertyListeners): Change type to HashMap.
	(SwingPropertyChangeSupport): Allocate HashMap.

2006-02-03  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/KeyPairGenerator.java (getInstance): Test for
	instanceof KeyPairGenerator before KeyPairGeneratorSpi.

2006-02-02  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	Made fields private.
	(RepaintWorker.run): Enclosed work stuff in try finally block in
	order to clean up correctly if invalidation or painting fails,
	otherwise we would get no more RepaintWorkers onto the EventQueue.
	Also, now the RepaintWorker is marked 'dead' only after it has
	finished its work, avoid more than one RepaintWorker on the queue.
	(ComponentComparator.compareTo): Compare dirty rectangle sizes
	instead of hierarchy depths.
	(workDirtyComponents): Removed unused field.
	(repaintOrder): Removed unused field.
	(workRepaintOrder): Removed unused field.
	(workInvalidComponents): Removed unused field.
	(RepaintManager()): Removed initialization of removed fields.
	(addInvalidComponent): Fine tuned synchronization.
	(removeInvalidComponent): Fine tune synchronization.
	(addDirtyRegion): Short circuit invalid dirty regions. Fine tuned
	synchronization. Don't manager repaintOrder here.
	(insertRepaintOrder): Removed method.
	(markCompletelyClean): Fine tuned synchronization.
	(validateInvalidComponents): Dont use a working copy of the
	invalidComponents list, instead fine tuned synchronization on this
	list. Also, don't search validateRoot, this is already done in
	addInvalidComponent().
	(paintDirtyRegions): Compute repaint order here, based on size of
	damaged regions. Fine tuned synchronization. Avoid use of working
	copies of dirtyComponent.

2006-02-02  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): JoinNextDirection should push the 
	'next' paragraph on the stack.

2006-02-02  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Rewrote code for Originate. This prevents
	leaves being created multiple times. If it is on the last 
	ElementSpec, the leaves need to be created right then; 
	otherwise, only a branch is created.
	(insertContentTag): Rewrote to add new leaf directly if
	this is a branch with no children. Otherwise, it
	recreates the remainder of the tree as before.

2006-02-02  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/REMatch.java(REMatchList): New inner utility class
	for making a list of REMatch instances.
	* gnu/regexp/RETokenOneOf.java(match): Rewritten using REMatchList.
	* gnu/regexp/RETokenRepeated.java(findDoables): New method.
	(match): Rewritten using REMatchList.
	(matchRest): Rewritten using REMatchList.

2006-02-02  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* examples/gnu/classpath/examples/CORBA/swing/x5/PlayingDesk.java 
	(friendsMove):	Call repaint() only after endOfGame is assigned.

2006-02-02  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25769 reported by Artemus Harper <subanark@gmail.com>
	* java/util/AbstractCollection.java (toString): Only use Iterator,
	check whether collection contains itself.

2006-02-01  Casey Marshall  <csm@gnu.org>

	Partial fix for PR classpath/25143.
	* javax/crypto/EncryptedPrivateKeyInfo.java (algName): new field.
	(<init>): fill in `algName,' derive `algOid' from `algName.'
	(getOid): new method.
	(encode): embed NULL value for parameters if `params' is `null.'

2006-02-01  Casey Marshall  <csm@gnu.org>

	Tag check and OTHER_NAME fixes suggested by Rafael Teixeira
	<monoman@gmail.com>.	
	* gnu/java/security/x509/ext/GeneralNames.java (<init>): fix tag
	check; fix OTHER_NAME parsing; fix DIRECTORY_NAME parsing.

2006-02-01  Casey Marshall  <csm@gnu.org>

	toString fix suggested by Rafael Teixeira <monoman@gmail.com>.
	* gnu/java/security/der/DERValue.java
	(getLength, getEncoded, getEncodedLength): throw an exception,
	don't initialize `encoded' to a bogus value.
	(toString): return a more helpful string.

	Partial fix for PR classpath/25144.
	* gnu/java/security/der/DERWriter.java (write): if the value is
	the pseudo-value used for CONSTRUCTED, write the encoded value
	directly.
	
2006-02-01  Tom Tromey  <tromey@redhat.com>

	* java/security/Security.java (loadProviders): Use system class
	loader.

2006-02-01  Mark Wielaard  <mark@klomp.org>

	* gnu/regexp/RE.java (getRETokenNamedProperty): Chain exception.
	* gnu/regexp/RETokenNamedProperty.java (LETTER, MARK, SEPARATOR,
	SYMBOL, NUMBER, PUNCTUATION, OTHER): New final byte[] fields.
	(getHandler): Check for grouped properties L, M, Z, S, N, P or C.
	(UnicodeCategoriesHandler): New private static class.
	
2006-02-01  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Removed unneeded fields.
	(insertUpdate): Removed field initialization.
	(insertContentTag): Rewrote part of function. Still
	not complete.

2006-02-01  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertParagraph): Cleaned up code.
	(insertFirstContentTag): Fixed call to recreateLeaves.
	(insertContentTag): Added check to code to determine where
	content should be inserted with respect to next element.
	(createFracture): Removed check, recreateLeaves is called in 
	other places when needed.
	(recreateLeaves): Added new parameter for paragraph instead
	of checking the stack. Removed editing for newBranch, replaced
	with a replace call.

2006-02-01  Anthony Balkissoon  <abalkiss@redhat.com>

	* doc/unicode/Blocks-4.0.0.txt: New file.
	* java/lang/Character.java: Regenerated inner class UnicodeBlock from 
	scripts/unicode-blocks.pl and doc/unicode/Blocks-4.0.0.txt.
	* scripts/unicode-blocks.pl: Copied this over from the generics branch
	but replaced some 1.5-only features (such as enum).

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/PasswordView.java
	(drawSelectedText): Use drawEchoCharacter() method to draw echo
	character.
	(drawUnselectedText): Use drawEchoCharacter() method to draw echo
	character.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextField.java
	(getPreferredSize): Also include textfield's insets in width
	calculation.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getPreferredSize): Include the textcomponent's insets in
	preferredSize.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/table/DefaultTableCellRenderer.java
	(getTableCellRendererComponent): Moved setting of the value into
	setValue(). Removed (bogus) special handling of JTextField values.
	(setValue): Made ?: statement more clear by rewriting it
	with if .. else.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly determine
	inser index for positions >= 0.
	(addImpl): Fixed API docs for the index parameter.

2006-01-31  Mark Wielaard  <mark@klomp.org>

	* java/net/URI.java (getURIGroup): Check for null to see whether
	group actually exists.

2006-01-31  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(changeUpdate): Fixed calls to split to incorporate 
	new parameter.
	(insertParagraph): Likewise. Uses 0 as editIndex
	because inserting into a new paragraph.
	(insertContentTag): Fixed check to use 
	recreateLeaves. Added a FIXME comment.
	(split): Added a new parameter for edits.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicRootPaneUI.java
	(installDefaults): Don't install a background color here.

2006-01-31  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Removed comment.
	(insertUpdate): Added comment.
	(recreateLeaves): Removed call to push newBranch onto the
	stack. This does not need to be done here.

2006-01-31  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/UnicodeReader.java,
	  gnu/xml/stream/XIncludeFilter.java,
	  gnu/xml/stream/XMLParser.java: Fix case where resolved InputSource
	  only resolved the system ID not the stream. Make some utility methods
	  public and static for use by other private XML APIs.
	* java/lang/ClassNotFoundException.java: Ensure that initCause can be
	  called without throwing IllegalStateException.
	* java/util/logging/SimpleFormatter.java: Write thrown exception if
	  provided.

2006-01-31  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22873
	* gnu/regexp/REMatch(toString(int)): Throw IndexOutOfBoundsException
	for an invalid index and return null for a skipped group.

2006-01-31  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #26002
	* gnu/regexp/gnu/regexp/RE.java(initialize): Parse /\p{prop}/.
	(NamedProperty): New inner class.
	(getNamedProperty): New method.
	(getRETokenNamedProperty): New Method.
	* gnu/regexp/RESyntax.java(RE_NAMED_PROPERTY): New syntax falg.
	* gnu/regexp/RETokenNamedProperty.java: New file.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/PlainView.java
	(paint): Call drawLine with baseline coordinates.
	(drawLine): Documented and indented this method.
	(drawUnselecetedText): Documented and indented this method.
	* javax/swing/plaf/text/Utilites.java
	(drawTabbedText): The coordinates denote the baseline of the text
	not the upper left corner.

2006-01-31  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTextUI.java
	(createKeymap): Don't store KeyBindings[] as focusInputMap in
	UIManager. Added FIXME regarding the implementation of this method.

2006-01-30  David Gilbert  <david.gilbert@object-refinery.com>

	* examples/gnu/classpath/examples/swing/ButtonDemo.java
	(ButtonDemo): Move content initialisation to new method,
	(initFrameContent): New method,
	(main): Call initFrameContent(),
	* examples/gnu/classpath/examples/swing/ComboBoxDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/FileChooserDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/ScrollBarDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/SliderDemo.java: Likewise,
	* examples/gnu/classpath/examples/swing/TextFieldDemo.java: Likewise.

2006-01-30  David Gilbert  <david.gilbert@object-refinery.com>

	* examples/gnu/classpath/examples/swing/Demo.java
	(Demo): Set frame size,
	(mkButtonBar): Removed stacked sub-panels.

2006-01-30  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Added new fields.
	(insert): Initialized fields. Removed call to addEdit, 
	and created ElementEdit instead.
	(insertUpdate): Added check for fracturing. If the
	fracturing was not successful, we should push the
	last element back on the stack.
	(insertParagraph): Fixed call to getEditForParagraphAndIndex.
	Also, changed replace calls to use Edit.
	(insertFirstContentTag): Removed unneeded check and fixed call
	to recreateLeaves.
	(insertContent): Fixed check to use new fields. Added code in
	to check if leaves overlap.
	(createFracture): Fixed call to recreateLeaves.
	(recreateLeaves): Fixed code and cleaned it up a bit.
	(insertFracture): Set fracNotCreated field.
	(addEdit): Removed, this method is not needed.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JRootPane.java
	(RootLayout.prefSize): Removed caching for preferredSize.
	(RootLayout.invalidateLayout): Likewise.
	(RootLayout.preferredLayoutSize): Likewise.	

2006-01-30  Roman Kennke  <kennke@aicas.com>

	PR classpath/26035
	* javax/swing/JFrame.java
	(frameInit): Handle the defaultLookAndFeelDecorated flag.
	* javax/swing/plaf/metal/MetalRootPaneUI.java
	(MetalFrameBorder): New inner class, provides the border for
	top level containers with L&F decorations.
	(MetalTitlePane): New inner class, provides the title pane for
	top level containers with L&F decorations.
	(MetalRootLayout): New inner class. Used to layout the root pane
	when L&F window decorations are enabled.
	(installUI): New method. Handles window decorations.
	(uninstallUI): New method. Handles window decorations.
	(propertyChange): Handles window decorations.
	(installWindowDecorations): New method. Handles window
	decorations.
	(uninstallWindowDecorations): New method. Handles window
	decorations.
	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getSupportsWindowDecorations): Overridden to return true.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JProgressBar.java (JProgressBar(int)): Document
	IllegalArgumentException when orientation is illegal.
	(JProgressBar(int, int, int)): Likewise and throw exception.
	(setOrientation): Likewise.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(minimumLayoutSize): Rewritten to unconditionally return (4,4).

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JProgressBar.java (orientation): Always set by
	constructor.
	(JProgressBar(int)): Document default on 'illegal' value.
	(JProgressBar(int, int, int)): Likewise and set orientation to
	HORIZONTAL when 'illegal'.
	(setOrientation): Likewise.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(ListDataHandler.contentsChanged): Update the
	updateLayoutStateNeeded flag.
	(ListDataHandler.intervalAdded): Update the
	updateLayoutStateNeeded flag.
	(ListDataHandler.intervalRemoved): Update the
	updateLayoutStateNeeded flag.
	(PropertyChangeHandler.propertyChange): Correctly update the
	listeners on new list model.
	(maybeUpdateLayoutState): Don't consider the validation state
	of the list.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* gnu/xml/transform/ApplyTemplatesNode.java (clone): Check whether
	sortKeys is null.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly insert
	components within different layers and -1 position.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* doc/api/Makefile.am (create_html): Add -validhtml.

2006-01-30  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(insertIndexForLayer): Fixed algorithm to correctly insert
	components within same layer and -1 position.

2006-01-30  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #24876
	* gnu/regexp/gnu/regexp/RE.java(REG_TRY_ENTIRE_MATCH):
	New execution flag.
	(getMatchImpl): if REG_TRY_ENTIRE_MATCH is set, add an
	implicit RETokenEnd at the end of the regexp chain.
	Do not select the longest match, but select the first match.
	(match): Do not take care of REMatch.empty.
	* gnu/regexp/REMatch.java(empty): To be used only in RETokenRepeated.
	* gnu/regexp/RETokenOneOf.java: Corrected a typo in a comment.
	* gnu/regexp/RETokenBackRef.java: Do not take care of REMatch.empty.
	* gnu/regexp/RETokenRepeated.java (match): Rewrote stingy matching.
	Do not take care of REMatch.empty. Set and check REMatch.empty
	when trying to match the single token.

2006-01-30  Mark Wielaard  <mark@klomp.org>

	* java/awt/Cursor.java (toString): Include name and type.

2006-01-30  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/mac/HMac.java (clone): Clone ipadHash, opadHash, and
	the ipad buffer.
	* gnu/javax/crypto/mac/BaseMac.java (clone): Clone underlyingHash.

2006-01-30  Audrius Meskauskas  <AudriusA@Bioinformatics.org>
        
        PR 26027
	* javax/swing/plaf/basic/BasicListUI.java  (maybeUpdateLayoutState):
	Consider the validation state of the list. 

2006-01-29  Robert Schuster  <robertschuster@fsfe.org>

	* gnu/java/beans/decoder/DefaultExceptionListener.java: Moved to
	parent package.
	* gnu/java/beans/DefaultExceptionListener.java: Constant public field
	INSTANCE added.
	* java/beans/XMLDecoder.java:
	(setExceptionListener): Use shared DefaultExceptionListener
	instance.
	* java/beans/Encoder.java:
	(setExceptionListener): Use shared DefaultExceptionListener
	instance.

2006-01-29  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ScrollPaneLayout.java
	(minimumLayoutSize): Rewritten to match JDKs behaviour.

2006-01-29  Mark Wielaard  <mark@klomp.org>

	* java/net/SocketPermission.java (setActions): Trim and lower case
	action.

2006-01-29  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/java/security/util/Prime2.java (passEulerCriterion): Was
	incorrectly failing primality test for some known primes. Fixed.
	(passFermatLittleTheorem): Removed.
	(passMillerRabin): Removed.
	(isProbablePrime): Cache primes that pass the primality tests.
	Use BigInteger.isProbablePrime(int) for primality tests.
	(debugBI): New static debugging method.

2006-01-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(updateLayoutState): Removed unneeded special case for VERTICAL.

2006-01-28  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getCellBounds): Determine correct list width when having a
	layoutOrientation of VERTICAL.
	(maybeUpdateLayoutState): Don't consider the validation state of
	the list.

2006-01-28  Mark Wielaard  <mark@klomp.org>

	Reported by Dimitri Fontaine <dimitri@dalibo.com>
	* java/awt/print/NoPrinterJob.java: New (fake) class.
	* java/awt/print/PrinterJob.java (getPrinterJob): Return NoPrinterJob.

2006-01-28  Mark Wielaard  <mark@klomp.org>

	* gnu/javax/crypto/mac/HMac.java (clone): Cast cloned ipad to byte[].

2006-01-28  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/classpath/examples/swing/Demo.java (mkTree): Make a larger tree.
	(addChildren): New method.

2006-01-28  Raif S. Naffah  <raif@swiftdsl.com.au>

	* gnu/javax/crypto/jce/mac/MacAdapter.java (MacAdapter(IMac, Map)): New
	constructor for cloning purposes.
	(clone): New implementation that ensures cloning.
	* gnu/javax/crypto/mac/HMac.java (clone): Implement Cloneable.
	* gnu/java/security/Registry.java: Changed value of GNU_SECURITY to
	  "GNU".

2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/plaf/basic/BasicTreeUI.java (updateCachedPreferredSize):
	Call updateCurrentVisiblePath.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* examples/gnu/classpath/examples/swing/MiniDemo.java: New file.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* examples/gnu/classpath/examples/swing/ButtonDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/ComboBoxDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/FileChooserDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/ScrollBarDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/SliderDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/TableDemo.java
	(createContent): Only create new content if we don't have one
	already.
	* examples/gnu/classpath/examples/swing/TextFieldDemo.java
	(createContent): Only create new content if we don't have one
	already.

2006-01-27  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFirstContentTag): Removed check, not needed. This
	still needs to be fixed for some cases. Added call to
	recreateLeaves.
	(createFracture): Added call to recreateLeaves.
	(recreateLeaves): New method used to recreate all the
	leaves after the initial insertion. This still needs 
	more work.
	(handleInsertAfterNewline): Removed else, not needed.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(inserIndexForLayer): Fixed direction of search.

2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTree.java (constructor): Put EXPANDED for the root 
	node into nodeStates.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JLayeredPane.java
	(FRAME_CONTENT_LAYER): Made field final.
	(componentToLayer): Made field private.
	(rectCache): Removed field.
	(layers): Removed field.
	(JLayeredPane()): Removed initialization of removed fields.
	(getLayer): Rewritten to make use of client properties in
	JComponents and to be more straighforward.
	(static getLayer): Rewritten to make use of client properties in
	JComponents.
	(layerToRange): Removed method.
	(incrLayer): Removed method.
	(decrLayer): Removed method.
	(highestLayer): Rewritten to be more straightforward.
	(lowestLayer): Rewritten to be more straightforward.
	(getPosition): Rewritten to be more straightforward.
	(getComponentsInLayer): Rewritten to be more straightforward.
	(getComponentCountInLayer): Rewritten to be more straightforward.
	(getIndexOf): Rewritten to be more straightforward.
	(inserIndexForLayer): Rewritten to be more straightforward.
	(remove): Rewritten to be more straightforward.
	(setLayer): Rewritten to be more straightforward.
	(addImpl): Rewritten to be more straightforward.
	(putLayer): Rewritten to be more straightforward.

2006-01-27  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/lang/Character.java:
	(offsetByCodePoints(CharSequence, int, int)): New API method.
	(offsetByCodePoints(char[], int, int, int, int)): Likewise.
	(toChars): Throw the Exception that the docs say we throw.
	(codePointAt): Fixed an off-by-one error in the bounds of the if 
	statement.
	* java/lang/String.java:
	(String(int[], int, int)): New API constructor.

2006-01-27  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Moved this loop to insertUpdate.
	(insertUpdate): Likewise. Fixed variable
	names. Incremented pos if new paragraph
	is inserted.
	(split): Changed edits to use replace instead. Prevents
	assertion errors.
	(insertFirstContentTag): Removed else.
	(insertContentTag): Implemented else for JoinNextDirection.
	(createFracture): Fixed up code, still not fully complete.
	(insertFracture): Fixed to use return value from 
	recreateAfterFracture.
	(recreateAfterFracture): Changed to return an array of the
	elements to be added. This prevents an assertion error.
	(contains): New function checks if an element is already in 
	the Vector. Vector's contain function was not enough to use.
	(addAddedElement): Changed to use new contains function.
	(addAddedElements): Likewise.
	(addRemovedElement): Likewise.
	(addRemovedElements): Likewise.        
	
2006-01-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25520
	* vm/reference/java/io/VMObjectInputStream.java (loaderAction.run):
	If no user class loaders found on the stack, return the thread 
	context class loader. (currentClassLoader): Explained.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(swapComponents): Removed unspecified method.
	* javax/swing/JLayeredPane.java
	(setPosition): Reimplemented correctly.
	(swapComponents): New helper method.

2006-01-27  Mark Wielaard  <mark@klomp.org>

	* configure.ac: Set version to 0.21-pre.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	PR classpath/25968
	* javax/swing/JComponent.java
	(findOverlapFreeParent): Improved the algorithm to make better use
	of the optimizedDrawingEnabled flag.
	* javax/swing/JLayeredPane.java
	(isOptimizedDrawingEnabled): Reimplemented to match the specs.
	* javax/swing/JViewport.java
	(computeBlit): Fixed check to decide if blitting is possible or not,
	so that it doesn't blit if nothing was scrolled (in order to
	update the buffer when the view updates itself).

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(createList): Don't set scrollbar policy.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicPopupMenuUI.java
	(PopupMenuHandler.popupMenuWillBecomeInvisible):
	Fixed to also handle non-Swing toplevel containers.
	(PopupMenuHandler.popupMenuWillBecomeVisible):
	Fixed to also handle non-Swing toplevel containers.
	* javax/swing/Popup.java
	(JWindowPopup.JWindowPopup()): Correctly set parent window on
	popup.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(InternalFramePropertyChangeListener): Don't implement
	VetoableChangeListener.
	(InternalFramePropertyChangeListener.vetoableChange): Removed.
	(internalFrameVetoableChangeListener): Removed unneeded field.
	(installListeners): Don't install vetoableChangeListener.
	* javax/swing/event/DocumentEvent.java
	(EventType): Made class final.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/SwingUtilities.java
	(calculateInsetArea): Removed unneeded method. The method
	calculateInnerArea has the same purpose and is actually specified.
	(calculateInnerArea): Rewritten to not use calculateInsetArea.
	* javax/swing/plaf/basic/BasicMenuItemUI.java
	(paintMenuItem): Use SwingUtilities.calculateInnerArea() instead
	of SwingUtilities.calculateInsetArea().

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicTreeUI.java
	(installDefaults): Removed requestFocusInWindow() call.
	* javax/swing/JComponent.java
	(requestFocusInWindow(boolean)): Made method protected.
	(printComponent): Made method protected.
	(printChildren): Made method protected.
	(printComponent): Made method protected.
	(printBorder): Made method protected.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* javax/swing/AbstractButton.java
	(ButtonChangeListener.ButtonChangeListener()): Made constructor
	package private.
	* javax/swing/ImageIcon.java
	(component): Made field final.
	(tracker): Made field final.
	* javax/swing/JApplet.java
	(AccessibleJApplet.AccessibleJApplet): Made constructor protected.
	* javax/swing/JCheckBox.java
	(AccessibleJCheckBox.AccessibleJCheckBox): Made constructor
	protected.
	* javax/swing/JDialog.java
	(AccessibleJDialog.AccessibleJDialog): Made constructor protected.
	* javax/swing/JFrame.java
	(AccessibleJFrame.AccessibleJFrame): Made constructor protected.
	* javax/swing/JLayeredPane.java
	(AccessibleJLayered.AccessibleJLayeredPane): Made constructor
	protected.
	(DEFAULT_LAYER): Made field final.
	(PALETTE_LAYER): Made field final.
	(MODAL_LAYER): Made field final.
	(POPUP_LAYER): Made field final.
	(DRAG_LAYER): Made field final.
	* javax/swing/JMenu.java
	(ActionChangeListener): Made class private.
	* javax/swing/JOptionPane.java
	(UNITITIALIZED_VALUE): Made field final.
	* javax/swing/JPanel.java
	(AccessibleJPanel.AccessibleJPanel): Made constructor protected.
	* javax/swing/JPopupMenu.java
	(ActionChangeListener): Made class private.
	* javax/swing/JTree.java
	(paramString): Made method protected.
	* javax/swing/JViewport.java
	(AccessibleJViewport.AccessibleJViewport): Made constructor protected.
	* javax/swing/JWindow.java
	(AccessibleJWindow.AccessibleJWindow): Made constructor protected.
	* javax/swing/RepaintManager.java
	(RepaintWorker): Made class private.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingComponentPeer.java
	(handleEvent): Removed debug statement.

2006-01-27  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(coalescePaintEvents): Don't try to optimize coalescing. This hurts
	more than it helps.

2006-01-26  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(createFracture): Commented out a known problem,
	added FIXME tag.

2006-01-26  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer): Added fields.
	(remove): Initialized pos.
	(change): Likewise.
	(insert): Likewise.
	(insertUpdate): Incremented pos. Fixed check, createFracture should
	be called on first tag if it is not ContentType.
	(insertFirstContentTag): Reworked to use proper offsets and
	set offset accordingly. This might need more work in the future.
	(insertContentTag): Likewise. Fixed to use pos, instead of 
	offset.
	(createFracture): Fixed to recreate other leaves. Still needs
	more work.
	(insertFracture): Reimplemented.
	(recreateAfterFracture): New method.
	(getParagraphElement): Reimplemented, more efficent.

2006-01-26  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* native/jni/java-lang/java_lang_VMDouble.c (doubleToLongBits)
	(doubleToRawLongBits, longBitsToDouble): Swap the byte
	ordering for little-endian arms without VFP.

2006-01-26  Raif S. Naffah  <raif@swiftdsl.com.au>

	PR classpath/25981
	* gnu/javax/crypto/jce/GnuCrypto.java (run): Added KeyGenerator entries.

2006-01-26  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25970 reported by Michael Kay <mike@saxonica.com>
	* java/math/BigDecimal.java (compareTo): Don't strip trailing zeros.
	Add trailing zeros to the fraction of the decimal with the smallest
	scale.

2006-01-26  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/ObjectView.java: New file.

2006-01-26  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/plaf/basic/BasicTreeUI.java (MouseHandler.mousePressed): 
	Call startEditing when appropriate.
	(WAIT_TILL_EDITING, EDIT, startEditTimer): New fields.
	(startEditing): Always edit if directly ordered from 
	MouseHandler.mousePressed.
	* javax/swing/tree/DefaultTreeCellEditor.java (CLICK_COUNT_TO_START): 
	New field. (createTreeCellEditor): Set click count to start.
	(getTreeCellEditorComponent): Assing realEditor directly.

2006-01-25  Casey Marshall  <csm@gnu.org>

	Merging GNU Crypto and Jessie.

	* NEWS: mention the merge in the 0.21 notes.
	* gnu/classpath/debug/Component.java (SSL_APPLICATION): removed.
	(SSL_RECORD_LAYER): new constants.
	* gnu/java/security/provider/Gnu.java (<init>): add new algorithms
	to provider.
	* resource/java/security/classpath.security: add new providers.
	* gnu/javax/crypto/assembly/Assembly.java,
        gnu/javax/crypto/assembly/Cascade.java,
        gnu/javax/crypto/assembly/CascadeStage.java,
        gnu/javax/crypto/assembly/CascadeTransformer.java,
        gnu/javax/crypto/assembly/DeflateTransformer.java,
        gnu/javax/crypto/assembly/Direction.java,
        gnu/javax/crypto/assembly/LoopbackTransformer.java,
        gnu/javax/crypto/assembly/ModeStage.java,
        gnu/javax/crypto/assembly/Operation.java,
        gnu/javax/crypto/assembly/PaddingTransformer.java,
        gnu/javax/crypto/assembly/Stage.java,
        gnu/javax/crypto/assembly/Transformer.java,
        gnu/javax/crypto/assembly/TransformerException.java,
        gnu/javax/crypto/cipher/Anubis.java,
        gnu/javax/crypto/cipher/BaseCipher.java,
        gnu/javax/crypto/cipher/Blowfish.java,
        gnu/javax/crypto/cipher/Cast5.java,
        gnu/javax/crypto/cipher/CipherFactory.java,
        gnu/javax/crypto/cipher/DES.java,
        gnu/javax/crypto/cipher/IBlockCipher.java,
        gnu/javax/crypto/cipher/IBlockCipherSpi.java,
        gnu/javax/crypto/cipher/Khazad.java,
        gnu/javax/crypto/cipher/NullCipher.java,
        gnu/javax/crypto/cipher/Rijndael.java,
        gnu/javax/crypto/cipher/Serpent.java,
        gnu/javax/crypto/cipher/Square.java,
        gnu/javax/crypto/cipher/TripleDES.java,
        gnu/javax/crypto/cipher/Twofish.java,
        gnu/javax/crypto/cipher/WeakKeyException.java,
        gnu/javax/crypto/jce/GnuCrypto.java,
        gnu/javax/crypto/jce/GnuSasl.java,
        gnu/javax/crypto/jce/PBKDF2SecretKeyFactory.java,
        gnu/javax/crypto/jce/cipher/AESSpi.java,
        gnu/javax/crypto/jce/cipher/ARCFourSpi.java,
        gnu/javax/crypto/jce/cipher/AnubisSpi.java,
        gnu/javax/crypto/jce/cipher/BlowfishSpi.java,
        gnu/javax/crypto/jce/cipher/Cast5Spi.java,
        gnu/javax/crypto/jce/cipher/CipherAdapter.java,
        gnu/javax/crypto/jce/cipher/DESSpi.java,
        gnu/javax/crypto/jce/cipher/KhazadSpi.java,
        gnu/javax/crypto/jce/cipher/NullCipherSpi.java,
        gnu/javax/crypto/jce/cipher/PBES2.java,
        gnu/javax/crypto/jce/cipher/RijndaelSpi.java,
        gnu/javax/crypto/jce/cipher/SerpentSpi.java,
        gnu/javax/crypto/jce/cipher/SquareSpi.java,
        gnu/javax/crypto/jce/cipher/TripleDESSpi.java,
        gnu/javax/crypto/jce/cipher/TwofishSpi.java,
        gnu/javax/crypto/jce/key/AnubisKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/AnubisSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/BlowfishKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/BlowfishSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/Cast5KeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/Cast5SecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/DESKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/DESSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/DESedeSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/KhazadKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/KhazadSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/RijndaelKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/RijndaelSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SecretKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SerpentKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SerpentSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/SquareKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/SquareSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/key/TripleDESKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/TwofishKeyGeneratorImpl.java,
        gnu/javax/crypto/jce/key/TwofishSecretKeyFactoryImpl.java,
        gnu/javax/crypto/jce/keyring/GnuKeyring.java,
        gnu/javax/crypto/jce/mac/HMacHavalSpi.java,
        gnu/javax/crypto/jce/mac/HMacMD2Spi.java,
        gnu/javax/crypto/jce/mac/HMacMD4Spi.java,
        gnu/javax/crypto/jce/mac/HMacMD5Spi.java,
        gnu/javax/crypto/jce/mac/HMacRipeMD128Spi.java,
        gnu/javax/crypto/jce/mac/HMacRipeMD160Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA160Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA256Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA384Spi.java,
        gnu/javax/crypto/jce/mac/HMacSHA512Spi.java,
        gnu/javax/crypto/jce/mac/HMacTigerSpi.java,
        gnu/javax/crypto/jce/mac/HMacWhirlpoolSpi.java,
        gnu/javax/crypto/jce/mac/MacAdapter.java,
        gnu/javax/crypto/jce/mac/OMacAnubisImpl.java,
        gnu/javax/crypto/jce/mac/OMacBlowfishImpl.java,
        gnu/javax/crypto/jce/mac/OMacCast5Impl.java,
        gnu/javax/crypto/jce/mac/OMacDESImpl.java,
        gnu/javax/crypto/jce/mac/OMacImpl.java,
        gnu/javax/crypto/jce/mac/OMacKhazadImpl.java,
        gnu/javax/crypto/jce/mac/OMacRijndaelImpl.java,
        gnu/javax/crypto/jce/mac/OMacSerpentImpl.java,
        gnu/javax/crypto/jce/mac/OMacSquareImpl.java,
        gnu/javax/crypto/jce/mac/OMacTripleDESImpl.java,
        gnu/javax/crypto/jce/mac/OMacTwofishImpl.java,
        gnu/javax/crypto/jce/mac/TMMH16Spi.java,
        gnu/javax/crypto/jce/mac/UHash32Spi.java,
        gnu/javax/crypto/jce/mac/UMac32Spi.java,
        gnu/javax/crypto/jce/params/BlockCipherParameters.java,
        gnu/javax/crypto/jce/params/DEREncodingException.java,
        gnu/javax/crypto/jce/params/DERReader.java,
        gnu/javax/crypto/jce/params/DERWriter.java,
        gnu/javax/crypto/jce/prng/ARCFourRandomSpi.java,
        gnu/javax/crypto/jce/prng/CSPRNGSpi.java,
        gnu/javax/crypto/jce/prng/FortunaImpl.java,
        gnu/javax/crypto/jce/prng/ICMRandomSpi.java,
        gnu/javax/crypto/jce/prng/UMacRandomSpi.java,
        gnu/javax/crypto/jce/spec/BlockCipherParameterSpec.java,
        gnu/javax/crypto/jce/spec/TMMHParameterSpec.java,
        gnu/javax/crypto/jce/spec/UMac32ParameterSpec.java,
        gnu/javax/crypto/key/BaseKeyAgreementParty.java,
        gnu/javax/crypto/key/GnuSecretKey.java,
        gnu/javax/crypto/key/IKeyAgreementParty.java,
        gnu/javax/crypto/key/IncomingMessage.java,
        gnu/javax/crypto/key/KeyAgreementException.java,
        gnu/javax/crypto/key/KeyAgreementFactory.java,
        gnu/javax/crypto/key/OutgoingMessage.java,
        gnu/javax/crypto/key/dh/DHKeyPairRawCodec.java,
        gnu/javax/crypto/key/dh/DiffieHellmanKeyAgreement.java,
        gnu/javax/crypto/key/dh/DiffieHellmanReceiver.java,
        gnu/javax/crypto/key/dh/DiffieHellmanSender.java,
        gnu/javax/crypto/key/dh/ElGamalKeyAgreement.java,
        gnu/javax/crypto/key/dh/ElGamalReceiver.java,
        gnu/javax/crypto/key/dh/ElGamalSender.java,
        gnu/javax/crypto/key/dh/GnuDHKey.java,
        gnu/javax/crypto/key/dh/GnuDHKeyPairGenerator.java,
        gnu/javax/crypto/key/dh/GnuDHPrivateKey.java,
        gnu/javax/crypto/key/dh/GnuDHPublicKey.java,
        gnu/javax/crypto/key/dh/RFC2631.java,
        gnu/javax/crypto/key/srp6/SRP6Host.java,
        gnu/javax/crypto/key/srp6/SRP6KeyAgreement.java,
        gnu/javax/crypto/key/srp6/SRP6SaslClient.java,
        gnu/javax/crypto/key/srp6/SRP6SaslServer.java,
        gnu/javax/crypto/key/srp6/SRP6TLSClient.java,
        gnu/javax/crypto/key/srp6/SRP6TLSServer.java,
        gnu/javax/crypto/key/srp6/SRP6User.java,
        gnu/javax/crypto/key/srp6/SRPAlgorithm.java,
        gnu/javax/crypto/key/srp6/SRPKey.java,
        gnu/javax/crypto/key/srp6/SRPKeyPairGenerator.java,
        gnu/javax/crypto/key/srp6/SRPKeyPairRawCodec.java,
        gnu/javax/crypto/key/srp6/SRPPrivateKey.java,
        gnu/javax/crypto/key/srp6/SRPPublicKey.java,
        gnu/javax/crypto/keyring/AuthenticatedEntry.java,
        gnu/javax/crypto/keyring/BaseKeyring.java,
        gnu/javax/crypto/keyring/BinaryDataEntry.java,
        gnu/javax/crypto/keyring/CertPathEntry.java,
        gnu/javax/crypto/keyring/CertificateEntry.java,
        gnu/javax/crypto/keyring/CompressedEntry.java,
        gnu/javax/crypto/keyring/EncryptedEntry.java,
        gnu/javax/crypto/keyring/Entry.java,
        gnu/javax/crypto/keyring/EnvelopeEntry.java,
        gnu/javax/crypto/keyring/GnuPrivateKeyring.java,
        gnu/javax/crypto/keyring/GnuPublicKeyring.java,
        gnu/javax/crypto/keyring/IKeyring.java,
        gnu/javax/crypto/keyring/IPrivateKeyring.java,
        gnu/javax/crypto/keyring/IPublicKeyring.java,
        gnu/javax/crypto/keyring/MalformedKeyringException.java,
        gnu/javax/crypto/keyring/MaskableEnvelopeEntry.java,
        gnu/javax/crypto/keyring/MeteredInputStream.java,
        gnu/javax/crypto/keyring/PasswordAuthenticatedEntry.java,
        gnu/javax/crypto/keyring/PasswordEncryptedEntry.java,
        gnu/javax/crypto/keyring/PasswordProtectedEntry.java,
        gnu/javax/crypto/keyring/PrimitiveEntry.java,
        gnu/javax/crypto/keyring/PrivateKeyEntry.java,
        gnu/javax/crypto/keyring/Properties.java,
        gnu/javax/crypto/keyring/PublicKeyEntry.java,
        gnu/javax/crypto/mac/BaseMac.java,
        gnu/javax/crypto/mac/HMac.java,
        gnu/javax/crypto/mac/HMacFactory.java,
        gnu/javax/crypto/mac/IMac.java,
        gnu/javax/crypto/mac/MacFactory.java,
        gnu/javax/crypto/mac/MacInputStream.java,
        gnu/javax/crypto/mac/MacOutputStream.java,
        gnu/javax/crypto/mac/OMAC.java,
        gnu/javax/crypto/mac/TMMH16.java,
        gnu/javax/crypto/mac/UHash32.java,
        gnu/javax/crypto/mac/UMac32.java,
        gnu/javax/crypto/mode/BaseMode.java,
        gnu/javax/crypto/mode/CBC.java,
        gnu/javax/crypto/mode/CFB.java,
        gnu/javax/crypto/mode/CTR.java,
        gnu/javax/crypto/mode/EAX.java,
        gnu/javax/crypto/mode/ECB.java,
        gnu/javax/crypto/mode/IAuthenticatedMode.java,
        gnu/javax/crypto/mode/ICM.java,
        gnu/javax/crypto/mode/IMode.java,
        gnu/javax/crypto/mode/ModeFactory.java,
        gnu/javax/crypto/mode/OFB.java,
        gnu/javax/crypto/pad/BasePad.java,
        gnu/javax/crypto/pad/IPad.java,
        gnu/javax/crypto/pad/PKCS1_V1_5.java,
        gnu/javax/crypto/pad/PKCS7.java,
        gnu/javax/crypto/pad/PadFactory.java,
        gnu/javax/crypto/pad/SSL3.java,
        gnu/javax/crypto/pad/TBC.java,
        gnu/javax/crypto/pad/TLS1.java,
        gnu/javax/crypto/pad/WrongPaddingException.java,
        gnu/javax/crypto/prng/ARCFour.java,
        gnu/javax/crypto/prng/CSPRNG.java,
        gnu/javax/crypto/prng/Fortuna.java,
        gnu/javax/crypto/prng/ICMGenerator.java,
        gnu/javax/crypto/prng/IPBE.java,
        gnu/javax/crypto/prng/PBKDF2.java,
        gnu/javax/crypto/prng/PRNGFactory.java,
        gnu/javax/crypto/prng/UMacGenerator.java,
        gnu/javax/crypto/sasl/AuthInfo.java,
        gnu/javax/crypto/sasl/AuthInfoProviderFactory.java,
        gnu/javax/crypto/sasl/ClientFactory.java,
        gnu/javax/crypto/sasl/ClientMechanism.java,
        gnu/javax/crypto/sasl/ConfidentialityException.java,
        gnu/javax/crypto/sasl/IAuthInfoProvider.java,
        gnu/javax/crypto/sasl/IAuthInfoProviderFactory.java,
        gnu/javax/crypto/sasl/IllegalMechanismStateException.java,
        gnu/javax/crypto/sasl/InputBuffer.java,
        gnu/javax/crypto/sasl/IntegrityException.java,
        gnu/javax/crypto/sasl/NoSuchMechanismException.java,
        gnu/javax/crypto/sasl/NoSuchUserException.java,
        gnu/javax/crypto/sasl/OutputBuffer.java,
        gnu/javax/crypto/sasl/SaslEncodingException.java,
        gnu/javax/crypto/sasl/SaslInputStream.java,
        gnu/javax/crypto/sasl/SaslOutputStream.java,
        gnu/javax/crypto/sasl/SaslUtil.java,
        gnu/javax/crypto/sasl/ServerFactory.java,
        gnu/javax/crypto/sasl/ServerMechanism.java,
        gnu/javax/crypto/sasl/UserAlreadyExistsException.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousClient.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousServer.java,
        gnu/javax/crypto/sasl/anonymous/AnonymousUtil.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5AuthInfoProvider.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Client.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Registry.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Server.java,
        gnu/javax/crypto/sasl/crammd5/CramMD5Util.java,
        gnu/javax/crypto/sasl/crammd5/PasswordFile.java,
        gnu/javax/crypto/sasl/plain/PasswordFile.java,
        gnu/javax/crypto/sasl/plain/PlainAuthInfoProvider.java,
        gnu/javax/crypto/sasl/plain/PlainClient.java,
        gnu/javax/crypto/sasl/plain/PlainRegistry.java,
        gnu/javax/crypto/sasl/plain/PlainServer.java,
        gnu/javax/crypto/sasl/srp/CALG.java,
        gnu/javax/crypto/sasl/srp/ClientStore.java,
        gnu/javax/crypto/sasl/srp/IALG.java,
        gnu/javax/crypto/sasl/srp/KDF.java,
        gnu/javax/crypto/sasl/srp/PasswordFile.java,
        gnu/javax/crypto/sasl/srp/SRP.java,
        gnu/javax/crypto/sasl/srp/SRPAuthInfoProvider.java,
        gnu/javax/crypto/sasl/srp/SRPClient.java,
        gnu/javax/crypto/sasl/srp/SRPRegistry.java,
        gnu/javax/crypto/sasl/srp/SRPServer.java,
        gnu/javax/crypto/sasl/srp/SecurityContext.java,
        gnu/javax/crypto/sasl/srp/ServerStore.java,
        gnu/javax/crypto/sasl/srp/StoreEntry.java,
        gnu/javax/net/ssl/Base64.java,
        gnu/javax/net/ssl/EntropySource.java,
        gnu/javax/net/ssl/NullManagerParameters.java,
        gnu/javax/net/ssl/PrivateCredentials.java,
        gnu/javax/net/ssl/SRPManagerParameters.java,
        gnu/javax/net/ssl/SRPTrustManager.java,
        gnu/javax/net/ssl/StaticTrustAnchors.java,
        gnu/javax/net/ssl/provider/Alert.java,
        gnu/javax/net/ssl/provider/AlertException.java,
        gnu/javax/net/ssl/provider/Certificate.java,
        gnu/javax/net/ssl/provider/CertificateRequest.java,
        gnu/javax/net/ssl/provider/CertificateType.java,
        gnu/javax/net/ssl/provider/CertificateVerify.java,
        gnu/javax/net/ssl/provider/CipherSuite.java,
        gnu/javax/net/ssl/provider/ClientHello.java,
        gnu/javax/net/ssl/provider/ClientKeyExchange.java,
        gnu/javax/net/ssl/provider/CompressionMethod.java,
        gnu/javax/net/ssl/provider/Constructed.java,
        gnu/javax/net/ssl/provider/ContentType.java,
        gnu/javax/net/ssl/provider/Context.java,
        gnu/javax/net/ssl/provider/DiffieHellman.java,
        gnu/javax/net/ssl/provider/DigestInputStream.java,
        gnu/javax/net/ssl/provider/DigestOutputStream.java,
        gnu/javax/net/ssl/provider/Enumerated.java,
        gnu/javax/net/ssl/provider/Extension.java,
        gnu/javax/net/ssl/provider/Extensions.java,
        gnu/javax/net/ssl/provider/Finished.java,
        gnu/javax/net/ssl/provider/GNUSecurityParameters.java,
        gnu/javax/net/ssl/provider/Handshake.java,
        gnu/javax/net/ssl/provider/JCESecurityParameters.java,
        gnu/javax/net/ssl/provider/JDBCSessionContext.java,
        gnu/javax/net/ssl/provider/Jessie.java,
        gnu/javax/net/ssl/provider/JessieDHPrivateKey.java,
        gnu/javax/net/ssl/provider/JessieDHPublicKey.java,
        gnu/javax/net/ssl/provider/JessieRSAPrivateKey.java,
        gnu/javax/net/ssl/provider/JessieRSAPublicKey.java,
        gnu/javax/net/ssl/provider/KeyPool.java,
        gnu/javax/net/ssl/provider/MacException.java,
        gnu/javax/net/ssl/provider/OverflowException.java,
        gnu/javax/net/ssl/provider/PRNG.java,
        gnu/javax/net/ssl/provider/ProtocolVersion.java,
        gnu/javax/net/ssl/provider/Random.java,
        gnu/javax/net/ssl/provider/RecordInput.java,
        gnu/javax/net/ssl/provider/RecordInputStream.java,
        gnu/javax/net/ssl/provider/RecordOutputStream.java,
        gnu/javax/net/ssl/provider/RecordingInputStream.java,
        gnu/javax/net/ssl/provider/SRPTrustManagerFactory.java,
        gnu/javax/net/ssl/provider/SSLHMac.java,
        gnu/javax/net/ssl/provider/SSLRSASignature.java,
        gnu/javax/net/ssl/provider/SSLRandom.java,
        gnu/javax/net/ssl/provider/SSLServerSocket.java,
        gnu/javax/net/ssl/provider/SSLServerSocketFactory.java,
        gnu/javax/net/ssl/provider/SSLSocket.java,
        gnu/javax/net/ssl/provider/SSLSocketFactory.java,
        gnu/javax/net/ssl/provider/SSLSocketInputStream.java,
        gnu/javax/net/ssl/provider/SSLSocketOutputStream.java,
        gnu/javax/net/ssl/provider/SecurityParameters.java,
        gnu/javax/net/ssl/provider/ServerHello.java,
        gnu/javax/net/ssl/provider/ServerKeyExchange.java,
        gnu/javax/net/ssl/provider/Session.java,
        gnu/javax/net/ssl/provider/SessionContext.java,
        gnu/javax/net/ssl/provider/Signature.java,
        gnu/javax/net/ssl/provider/SynchronizedRandom.java,
        gnu/javax/net/ssl/provider/TLSHMac.java,
        gnu/javax/net/ssl/provider/TLSRandom.java,
        gnu/javax/net/ssl/provider/Util.java,
        gnu/javax/net/ssl/provider/X509KeyManagerFactory.java,
        gnu/javax/net/ssl/provider/X509TrustManagerFactory.java,
        gnu/javax/net/ssl/provider/XMLSessionContext.java,
        gnu/javax/security/auth/Password.java,
        gnu/javax/security/auth/callback/AWTCallbackHandler.java,
        gnu/javax/security/auth/callback/AbstractCallbackHandler.java,
        gnu/javax/security/auth/callback/ConsoleCallbackHandler.java,
        gnu/javax/security/auth/callback/DefaultCallbackHandler.java,
        gnu/javax/security/auth/callback/GnuCallbacks.java,
        gnu/javax/security/auth/callback/SwingCallbackHandler.java,
        gnu/java/security/Registry.java,
        gnu/java/security/Properties.java,
        gnu/java/security/hash/BaseHash.java,
        gnu/java/security/hash/HashFactory.java,
        gnu/java/security/hash/Haval.java,
        gnu/java/security/hash/IMessageDigest.java,
        gnu/java/security/hash/MD2.java,
        gnu/java/security/hash/MD4.java,
        gnu/java/security/hash/MD5.java,
        gnu/java/security/hash/RipeMD128.java,
        gnu/java/security/hash/RipeMD160.java,
        gnu/java/security/hash/Sha160.java,
        gnu/java/security/hash/Sha256.java,
        gnu/java/security/hash/Sha384.java,
        gnu/java/security/hash/Sha512.java,
        gnu/java/security/hash/Tiger.java,
        gnu/java/security/hash/Whirlpool.java,
        gnu/java/security/jce/hash/HavalSpi.java,
        gnu/java/security/jce/hash/MD2Spi.java,
        gnu/java/security/jce/hash/MD4Spi.java,
        gnu/java/security/jce/hash/MD5Spi.java,
        gnu/java/security/jce/hash/MessageDigestAdapter.java,
        gnu/java/security/jce/hash/RipeMD128Spi.java,
        gnu/java/security/jce/hash/RipeMD160Spi.java,
        gnu/java/security/jce/hash/Sha160Spi.java,
        gnu/java/security/jce/hash/Sha256Spi.java,
        gnu/java/security/jce/hash/Sha384Spi.java,
        gnu/java/security/jce/hash/Sha512Spi.java,
        gnu/java/security/jce/hash/TigerSpi.java,
        gnu/java/security/jce/hash/WhirlpoolSpi.java,
        gnu/java/security/jce/prng/HavalRandomSpi.java,
        gnu/java/security/jce/prng/MD2RandomSpi.java,
        gnu/java/security/jce/prng/MD4RandomSpi.java,
        gnu/java/security/jce/prng/MD5RandomSpi.java,
        gnu/java/security/jce/prng/RipeMD128RandomSpi.java,
        gnu/java/security/jce/prng/RipeMD160RandomSpi.java,
        gnu/java/security/jce/prng/SecureRandomAdapter.java,
        gnu/java/security/jce/prng/Sha160RandomSpi.java,
        gnu/java/security/jce/prng/Sha256RandomSpi.java,
        gnu/java/security/jce/prng/Sha384RandomSpi.java,
        gnu/java/security/jce/prng/Sha512RandomSpi.java,
        gnu/java/security/jce/prng/TigerRandomSpi.java,
        gnu/java/security/jce/prng/WhirlpoolRandomSpi.java,
        gnu/java/security/jce/sig/DSSKeyPairGeneratorSpi.java,
        gnu/java/security/jce/sig/DSSRawSignatureSpi.java,
        gnu/java/security/jce/sig/KeyPairGeneratorAdapter.java,
        gnu/java/security/jce/sig/RSAKeyPairGeneratorSpi.java,
        gnu/java/security/jce/sig/RSAPSSRawSignatureSpi.java,
        gnu/java/security/jce/sig/SignatureAdapter.java,
        gnu/java/security/key/IKeyPairCodec.java,
        gnu/java/security/key/IKeyPairGenerator.java,
        gnu/java/security/key/KeyPairCodecFactory.java,
        gnu/java/security/key/KeyPairGeneratorFactory.java,
        gnu/java/security/key/dss/DSSKey.java,
        gnu/java/security/key/dss/DSSKeyPairGenerator.java,
        gnu/java/security/key/dss/DSSKeyPairRawCodec.java,
        gnu/java/security/key/dss/DSSPrivateKey.java,
        gnu/java/security/key/dss/DSSPublicKey.java,
        gnu/java/security/key/dss/FIPS186.java,
        gnu/java/security/key/rsa/GnuRSAKey.java,
        gnu/java/security/key/rsa/GnuRSAPrivateKey.java,
        gnu/java/security/key/rsa/GnuRSAPublicKey.java,
        gnu/java/security/key/rsa/RSAKeyPairGenerator.java,
        gnu/java/security/key/rsa/RSAKeyPairRawCodec.java,
        gnu/java/security/prng/BasePRNG.java,
        gnu/java/security/prng/EntropySource.java,
        gnu/java/security/prng/IRandom.java,
        gnu/java/security/prng/LimitReachedException.java,
        gnu/java/security/prng/MDGenerator.java,
        gnu/java/security/prng/PRNGFactory.java,
        gnu/java/security/prng/RandomEvent.java,
        gnu/java/security/prng/RandomEventListener.java,
        gnu/java/security/sig/BaseSignature.java,
        gnu/java/security/sig/ISignature.java,
        gnu/java/security/sig/ISignatureCodec.java,
        gnu/java/security/sig/SignatureFactory.java,
        gnu/java/security/sig/dss/DSSSignature.java,
        gnu/java/security/sig/dss/DSSSignatureRawCodec.java,
        gnu/java/security/sig/rsa/EME_PKCS1_V1_5.java,
        gnu/java/security/sig/rsa/EMSA_PKCS1_V1_5.java,
        gnu/java/security/sig/rsa/EMSA_PSS.java,
        gnu/java/security/sig/rsa/RSA.java,
        gnu/java/security/sig/rsa/RSAPKCS1V1_5Signature.java,
        gnu/java/security/sig/rsa/RSAPSSSignature.java,
        gnu/java/security/sig/rsa/RSAPSSSignatureRawCodec.java,
        gnu/java/security/util/Base64.java,
        gnu/java/security/util/ExpirableObject.java,
        gnu/java/security/util/Prime2.java,
        gnu/java/security/util/Sequence.java,
        gnu/java/security/util/SimpleList.java,
        gnu/java/security/util/Util.java,
	resource/gnu/javax/security/auth/callback/MessagesBundle.properties:
	new files imported from GNU Crypto and Jessie.

2006-01-25  Tom Tromey  <tromey@redhat.com>

	* gnu/java/net/protocol/http/ChunkedInputStream.java (read):
	Fixed calculation of number of bytes to read.
	(size, count, meta, eof): Document.

2006-01-25  Anthony Balkissoon  <abalkiss@redhat.com>

	* java/lang/Character.java:
	(codePointCount(char[], int, int)): New API method.
	(codePointCount(CharSequence, int, int)): Likewise.

2006-01-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25205
	* javax/swing/DefaultCellEditor.java (getTreeCellEditorComponent): 
	Rewritten.
	* javax/swing/JTree.java (stopEditing, cancelEditing): Return without 
	action if not editing.
	* javax/swing/plaf/basic/BasicTreeUI.java 
	(CellEditorHandler.editingCancelled): Delegate to cancelEditing.
	(CellEditorHandler.editingStopped): Delegate to stopEditing.
	(EditorUpdateTimer): Removed.
	(TreeAction.actionPerformed): Stop and not cancel the current editing 
	when starting editing another node.
	(editorTimer, newVal): Removed.
	(cancelEditing): Do not send the cancel message.
	(completeEditing): Obtain the edited value from the editor.
	(finish): New method.
	(paintRow): Do not paint the editing component here.
	(startEditing, stopEditing): Rewritten.
	* javax/swing/tree/DefaultTreeCellEditor.java
	(DefaultTextField): Added SVUID.
	(EditorContainer): Rewritten.
	(RealEditorListener): New inner class.
	(ICON_TEXT_GAP, TREE_ICON_GAP: New constants).
	(constructor): Add cell editor listener. Do not instantiate timer.
	(actionPerformed): Return without action.
	(cancelCellEditing): Rewritten.
	(createTreeCellEditor): Add cell editor listener to the editor.
	(getCellEditorValue): Request the value from the realEditor.
	(isCellEditable): Removed timer management.
	(prepareForEditing): Remove all components befor adding the 
	editingComponent.
	(startEditingTimer): Start only if it is not null.
	(stopCellEditing): Rewritten.
	(stopEditingTimer): New method.
	(valueChanged): Do not configure editing component here.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/html/FormView.java: New file.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JSplitPane.java
	(addImpl): Call resetToPreferredSizes() when no dividerLocation
	has been set in order to set an initial layout.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.layoutContainer): Fixed error for
	layout of the right component.
	(BasicHorizontalLayoutManager.resetToPreferredSizes): Set the
	dividerLocation to the size of the left component.
	(createDefaultNonContinuousLayoutDivider): Fetch the color from
	the UIManager.
	(setDividerLocation): Don't validate the location here. Sometimes
	the divider needs to be set to an invalid location.
	(startDragging): Don't revalidate and repaint here.
	(finishDraggingTo): Don't repaint here. Also, don't call
	dragDividerTo() here.
	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Added SplitPaneDivider.draggingColor
	default value.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JSplitPane.java
	(addImpl): Removed invalidate() and layout() call.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(PropertyHandler.propertyChange): Remove layoutContainer() and
	repaint() call.

2006-01-25  Roman Kennke  <kennke@aicas.com>

	* configure.ac
	* native/Makefile.am
	* native/jni/classpath/Makefile.am
	* native/jni/classpath/jcl.c
	* native/jni/classpath/jcl.h
	* native/jni/classpath/native_state.c
	* native/jni/gtk-peer/Makefile.am
	* native/jni/java-io/Makefile.am
	* native/jni/java-io/java_io_VMFile.c
	* native/jni/java-io/java_io_VMObjectStreamClass.c
	* native/jni/java-lang/Makefile.am
	* native/jni/java-net/Makefile.am
	* native/jni/java-net/java_net_VMInetAddress.c
	* native/jni/java-net/javanet.c
	* native/jni/java-net/javanet.h
	* native/jni/java-nio/Makefile.am
	* native/jni/java-nio/gnu_java_nio_VMPipe.c
	* native/jni/java-nio/gnu_java_nio_VMSelector.c
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
	* native/jni/java-nio/java_nio_MappedByteBufferImpl.c
	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c
	* native/jni/java-util/Makefile.am
	* native/jni/java-util/java_util_VMTimeZone.c
	* native/jni/midi-dssi/Makefile.am
	* native/jni/xmlj/Makefile.am
	* native/target/Makefile.am
	* native/target/Linux/target_native_math.h
	* native/target/Linux/target_native_memory.h
	* native/target/Linux/Makefile.am
	* native/target/Linux/target_native_io.h
	* native/target/Linux/target_native_math_float.h
	* native/target/Linux/target_native_math_int.h
	* native/target/generic/target_generic.c
	* native/target/generic/target_generic_io.c
	* native/target/generic/target_generic_math.h
	* native/target/generic/target_generic_memory.h
	* native/target/generic/target_generic_misc.c
	* native/target/generic/target_generic_network.c
	* native/target/generic/Makefile.am
	* native/target/generic/target_generic.h
	* native/target/generic/target_generic_file.h
	* native/target/generic/target_generic_io.h
	* native/target/generic/target_generic_math_float.h
	* native/target/generic/target_generic_math_int.h
	* native/target/generic/target_generic_misc.h
	* native/target/generic/target_generic_network.h:
	Reverted target native related changes back to the state of the
	0.20 release.
	* native/target/MinGW/.cvsignore
	* native/target/MinGW/Makefile.am
	* native/target/MinGW/target_native.h
	* native/target/MinGW/target_native_file.h
	* native/target/MinGW/target_native_io.h
	* native/target/MinGW/target_native_math.h
	* native/target/MinGW/target_native_memory.h
	* native/target/MinGW/target_native_misc.h
	* native/target/MinGW/target_native_network.h
	* native/target/RTEMS/.cvsignore
	* native/target/RTEMS/Makefile.am
	* native/target/RTEMS/target_native.h
	* native/target/RTEMS/target_native_file.h
	* native/target/RTEMS/target_native_io.h
	* native/target/RTEMS/target_native_math.h
	* native/target/RTEMS/target_native_memory.h
	* native/target/RTEMS/target_native_misc.h
	* native/target/RTEMS/target_native_network.h
	* native/target/SunOS/.cvsignore
	* native/target/SunOS/Makefile.am
	* native/target/SunOS/target_native.h
	* native/target/SunOS/target_native_file.h
	* native/target/SunOS/target_native_io.h
	* native/target/SunOS/target_native_math.h
	* native/target/SunOS/target_native_memory.h
	* native/target/SunOS/target_native_misc.h
	* native/target/SunOS/target_native_network.h
	* native/target/embOS/.cvsignore
	* native/target/embOS/Makefile.am
	* native/target/embOS/target_native.h
	* native/target/embOS/target_native_file.h
	* native/target/embOS/target_native_io.c
	* native/target/embOS/target_native_io.h
	* native/target/embOS/target_native_math.h
	* native/target/embOS/target_native_memory.h
	* native/target/embOS/target_native_misc.h
	* native/target/embOS/target_native_network.h
	* native/target/posix/.cvsignore
	* native/target/posix/Makefile.am
	* native/target/posix/target_posix.c
	* native/target/posix/target_posix.h
	* native/target/posix/target_posix_file.c
	* native/target/posix/target_posix_file.h
	* native/target/posix/target_posix_io.c
	* native/target/posix/target_posix_io.h
	* native/target/posix/target_posix_math.c
	* native/target/posix/target_posix_math.h
	* native/target/posix/target_posix_memory.c
	* native/target/posix/target_posix_memory.h
	* native/target/posix/target_posix_misc.c
	* native/target/posix/target_posix_misc.h
	* native/target/posix/target_posix_network.c
	* native/target/posix/target_posix_network.h:
	Removed.

2006-01-24  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/PrintService.java,
	* javax/print/DocPrintJob.java,
	* javax/print/CancelablePrintJob.java:
	Added and enhanced api documentation for class and methods.		

2006-01-24  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/SimpleDoc.java: Make class final.
	* javax/print/attribute/standard/PrinterIsAcceptingJobs.java: Likewise.
	* javax/print/attribute/DateTimeSyntax.java: 
	(toString): New overridden method.
	* javax/print/attribute/standard/JobStateReasons.java:
	(add): Use the super.add method to avoid recursion.
	* javax/print/attribute/standard/PrinterStateReasons.java: 
	(put): Use the super.put method to avoid recursion.

2006-01-24  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/XMLEncoder.java:
	(writeExpression): Added early return (fixes PR #25941).
	(setExceptionListener, anonymous Class): Removed printStackTrace
	call.
	* java/beans/Encoder: Removed unused imports.
	(setupDefaultPersistenceDelegates): Removed unneccessary
	PersistenceDelegates for subclasses.
	* java/beans/PersistenceDelegate:
	(initialize): Use local variable as first argument as it was
	intended once.
	* java/beans/DefaultPersistenceDelegate:
	(initialize): Added call to superclass' implementation, added
	early return.

2006-01-24  Tom Tromey  <tromey@redhat.com>

	* java/util/regex/PatternSyntaxException.java: Added @since.
	* java/util/regex/Matcher.java (Matcher): Implements MatchResult.
	* java/util/regex/MatchResult.java: New file.

2006-01-24  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StringContent.java: Added API docs all over, plus 
	minor reformatting.

2006-01-24  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java: Implemented serialization.

2006-01-24  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StringContent.java
	(remove): Modified argument check to prevent removal of last character,
	(getChars): Removed null argument check to allow NullPointerException,
	added API docs,
	(checkLocation): Added API docs and white space.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Should only call createFracture with 
	StartTagType. Added check.
	(insertContentTag): Should use the tags length for splitting.
	Also, added a check to determine if current's start and end offset are
	equal to the offset and endOffset. If so, only one leaf element
	should be added. 
	(createFracture): Removed FIXME. This function is complete.
	(split): Added calls to replace. Changed so the child is 
	added immediately to the paragraph. Prevents NPEs.

2006-01-23  Mark Wielaard  <mark@klomp.org>

	* examples/Makefile.am (EXAMPLE_ZIP): Group cd and commands.

2006-01-23  Tom Tromey  <tromey@redhat.com>

	* gnu/java/security/x509/X509Certificate.java (parse):
	Unconditionally read value; for version==1 case when reading
	algorithm ID.

2006-01-23  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/synth/ColorType.java,
	* javax/swing/plaf/synth/Region.java,
	* javax/swing/plaf/synth/SynthConstants.java,
	* javax/swing/plaf/synth/SynthContext.java
	* javax/swing/plaf/synth/SynthGraphicsUtils.java,
	* javax/swing/plaf/synth/SynthLookAndFeel.java,
	* javax/swing/plaf/synth/SynthPainter.java,
	* javax/swing/plaf/synth/SynthStyle.java,
	* javax/swing/plaf/synth/SynthStyleFactory.java,
	* javax/swing/plaf/synth/package.html:
	New files. Added the public API and framework classes for the
	Synth look and feel.

2006-01-23  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/Segment.java: API docs all over.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(split): Should not use createLeafElement and createBranchElement here.
	We should just instaniate the LeafElements and BranchElements instead 
	to avoid the case where create*Element is overridden.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFirstContentTag): Moved check outside of if-statement.
	This should be checked before creating the new leaf element.
	(insertFracture): Fixed check to prevent an NPE. The previous
	leaf should only be recreated if it has been created by
	insertFirstContentTag. Also, fixed up code: if the endOffset is
	greater than the offset, then we need to create a temp leaf
	as a place holder. Otherwise, the leaf elements should be
	created normally.

2006-01-23  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java: Almost completely rewritten.

2006-01-23  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/DefaultStyledDocument.java
	(insertFracture): Set temp leaf's attributes to prevent an NPE.

2006-01-23  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Formatted ElementBuffer and added new fields.
	(remove): Added check to determine if length is 0.
	(insertFirstContentTag): Initialized firstCreated to the element that is created 
	by the first tag encountered. Removed check in JoinPreviousDirection case, no
	longer needed. In OriginateDirection case, added a loop to remove all old leafs
	that have been recreated.
	(insertContentTag): Cleaned up code. Removed checks that did not do anything.
	(insertFracture): Fixed up code, removed unneeded objects and checks. Added
	FIXME tags to the lines that need to be rewritten.	

2006-01-23  Mark Wielaard  <mark@klomp.org>

	* examples/Makefile.am: Add support for fastjar.

2006-01-23  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/REToken.java(empty): Made Cloneable.
	* gnu/regexp/RETokenOneOf.java(match): RE.java(match):
	Use separate methods matchN and matchP depending on the
	boolean negative.
	(matchN): New method used when negative. Done as before.
	(matchP): New method used when not negative. Each token is
	tried not by itself but by a clone of it.

2006-01-23  Chris Burdess  <dog@gnu.org>

	Fixes bug #25906
	* gnu/xml/dom/DomCharacterData.java: Use a separate empty node list
	  class to avoid getLength method contention.
	* gnu/xml/stream/SAXParser.java: Rethrow correct exception.

2006-01-23  Chris Burdess  <dog@gnu.org>

	* native/jni/java-util/Makefile.am: Include library required
	  explicitly by BSD systems.
	* native/target/generic/target_generic_misc.h: Remove old commented
	  out code.
	* native/target/generic/target_generic_network.h: Fallbacks (to
	  SO_NOSIGPIPE and then 0) for non-portable glibc MSG_NOSIGNAL.

2006-01-22  Tom Tromey  <tromey@redhat.com>

	* native/target/posix/.cvsignore: Added .deps.

2006-01-22  Mark Wielaard  <mark@klomp.org>

	Fixes bug #25832,
	reported by James Damour <James.Damour@corp.request.com>
	* java/awt/Container.java (addImpl): Use empty string as name when
	null constraints for LayoutManager.addLayoutComponent().

2006-01-22  Chris Burdess  <dog@gnu.org>

	Fixes bug #25903
	* gnu/xml/dom/DomDocumentBuilder.java: Default to using file URL
	  representing current directory as base for relative URLs.

2006-01-22  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #25837
	* gnu/regexp/REMatch.java(empty): New boolean indicating
	an empty string matched.
	* gnu/regexp/RE.java(match): Sets empty flag when an empty
	string matched.
	(initialize): Support back reference \10, \11, and so on.
	(parseInt): renamed from getEscapedChar and returns int.
	* gnu/regexp/RETokenRepeated.java(match): Sets empty flag
	when an empty string matched. Fixed a bug of the case where
	an empty string matched. Added special handling of {0}.
	* gnu/regexp/RETokenBackRef.java(match): Sets empty flag
	when an empty string matched. Fixed the case insensitive matching.

2006-01-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalSplitPaneDivider.java
	(paint): Added painting of border if one is installed.

2006-01-21  Roman Kennke  <kennke@aicas.com>

	PR classpath/25843:
	* javax/swing/plaf/basic/BasicBorders.java
	(getSplitPaneDividerBorder): Use new border constructor
	without arguments.
	(SplitPaneDividerBorder.highlight): Removed unneeded field.
	(SplitPaneDividerBorder.shadow): Removed unneeded field.
	(SplitPaneDividerBorder()): Changed constructor to do nothing. The
	colors are fetched dynamically in the paintBorder method.
	(SplitPaneDividerBorder.paintBorder): Fetch colors dynamically from
	the look and feel.
	(SplitPaneDividerBorder.isBorderOpaque): Returns true
	unconditionally.
	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Added default for SplitPaneDivider.border.
	* javax/swing/plaf/basic/BasicSplitPaneDivider.java
	(tmpBorder): Removed unneeded inner class.
	(BasicSplitPaneDivider): Removed setting of border.
	(setSplitPaneUI): Don't add the mouse handler to the splitpane
	itself.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.layoutContainer): Mostly rewritten
	to get behaviour right.
	(BasicHorizontalLayoutManager.distributeExtraSpace): Removed
	implementation. This must be rewritten since the layout now works
	slightly different (basically, it shouldn't modify the sizes[]
	here but instead the dividerLocation.
	(dividerLocation): New field.
	(installDefaults): Initialize border on divider.
	(uninstallDefaults): Only remove background color and border from
	splitPane if they are instances of UIDefaults (== not set by
	application).
	(setDividerLocation): Set the dividerLocation field instead of
	doing stunt acts here.
	(getDividerLocation): Return dividerLocation field.
	(getMinimumDividerLocation): Fixed calculation of minimum location.
	
2006-01-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/acinclude.m4
	(CLASSPATH_WITH_GLIBJ): Add support for fastjar.

	* lib/Makefile.am: Likewise. 

2006-01-21  Roman Kennke  <kennke@aicas.com>

	* javax/swing/PopupFactory.java
	(getPopup): If there is no Swing root found in any way, use a
	heavyweight popup. This is useful for mixed Swing/AWT GUIs, or
	for the Swing AWT peers.

2006-01-20  Tom Tromey  <tromey@redhat.com>

	* gnu/java/net/protocol/http/HTTPURLConnection.java (connect):
	Read response body for redirect.

2006-01-20  Chris Burdess  <dog@gnu.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java: Don't follow
	  redirects on 304.

2006-01-20  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(pad): Removed, not needed.
	(printElements): Likewise.
	(printEdit): Likewise.

2006-01-20  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultFormatter.java
	(DefaultFormatter): Don't set a value class.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/DefaultCellEditor.java: Commented.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JOptionPane.java
	Added cast to Frame for JDialog constructor.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JWindow.java
	(JWindow(Window)): Fixed to accept null owner argument.
	(JWindow(Window,GraphicsConfiguration)): Fixed to accept null
	owner argument.
	* javax/swing/SwingUtilities.java
	(getOwnerFrame): Owner parameter and return value are fixed to
	be of type Window for compatibity with the above JWindow
	constructor.
	* javax/swing/JDialog.java
	(JDialog): Added cast to Frame to make sure the correct constructor
	is called.
	* javax/swing/JFileChooser.java
	(createDialog): Added cast to Frame for JDialog constructor.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (rowAtPoint): Rewritten.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JWindow.java: Added API docs to the constructors.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java: Commenting method headers.
	(EditorUpdateTimer): Removed.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JDialog.java
	(JDialog()): Call SwingUtilities.getOwnerFrame() with null.
	(JDialog(Frame,String,boolean,GraphicsConfiguration)): Call
	SwingUtilities.getOwnerFrame() with the owner argument.
	* javax/swing/JFileChooser.java
	(showOpenDialog(Component)): Call pack() on the dialog instead of
	setting	a fixed height.
	(showSaveDialog()): Likewise.
	(showDialog()): Likewise.
	(createDialog): Call SwingUtilities.getOwnerFrame() with null.
	* javax/swing/JOptionPane.java: Call SwingUtilities.getOwnerFrame()
	with null.
	* javax/swing/JWindow.java
	(JWindow()): Call SwingUtilities.getOwnerFrame() with null.
	(JWindow(Frame)): Call SwingUtilities.getOwnerFrame() with owner
	argument.
	* javax/swing/SwingUtilities.java
	(getOwnerFrame): Changed to take a owner parameter that is returned
	as owner frame when not null.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingFramePeer.java
	(handleMouseEvent): Fixed handling of mouse events.
	(handleMouseMotionEvent): Fixed handling of mouse events.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_misc.c:
	(targetGenericMisc_formatString): Added missing method.

2006-01-19  Wolfgang Baer  <WBaer@gmx.de>

	* m4/acinclude.m4: Test also for ecj found before exiting configure
	with no javac found error message. 

2006-01-19  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #23212
	* gnu/regexp/RE.java(initialize): Support escaped characters such as
	\0123, \x1B, \u1234.
	(getEscapedChar): New method.
	(CharExpression): New inner class.
	(getCharExpression): New Method.
	* gnu/regexp/RESyntax.java(RE_OCTAL_CHAR, RE_HEX_CHAR,
	RE_UNICODE_CHAR): New syntax bits.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Fixed so that posix stuff is really
	only built when requested.

2006-01-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/JTable.java (editingStopped, editingCancelled):
	Repaint the edited cell.
	(setValueAt): Do not add the value object to this container.
	(editorTimer, rowBeingEdited, columnBeingEdited, oldCellValue): Removed.
	(editingStopped): Use editingRow, editingColumn and not
	rowBeingEdited, columnBeingEdited. (editValueAt): rewritten.
	(doLayout): Move the editor component, if present, into the new
	location and call repaint(). (moveToCellBeingEdited): new method.
	(TableTextField): new inner class.
	(getDefaultEditor): Instantiante TableTextField, not JTextField.
	(setValueAt): Repaint the changed segment.
	(createDefaultEditors): Implemented.
	(BooleanCellRenderer): Center the checkbox and use the default foreground
	and background colors.   
	* javax/swing/plaf/basic/BasicTableUI.java
	(paintCell): Do not paint the caret here. Do not accept unused parameters.
	(paint): No need to allocate rectangle for each cell.   
	* javax/swing/DefaultCellEditor.java: Rewritten.         
	* examples/gnu/classpath/examples/swing/Demo.java (mkTable):
	Use TableDemo.java table example.
	* examples/gnu/classpath/examples/swing/TableDemo.java: New file.

2006-01-19  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Added/fixed --enable-posix-layer option to enable
	build of posix layer.
	* native/target/Makefile.am: Added build for posix layer.

2006-01-19  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* configure.ac: Set TARGET to Linux per default.
	* native/target/Makefile.am (libtarget_la_LIBADD): Removed
	libtargetos.la.
	* native/target/Linux/Makefile.am: Don't build a libtargetos.la.
	* native/target/generic/Makefile.am (INCLUDES): Renamed to
	AM_CPPFLAGS.
	
2006-01-19  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/interfaces/RSAMultiPrimePrivateCrtKey.java: Replaced
	  what looked like proprietary documentation with original or new one.
	* java/security/spec/PSSParameterSpec.java: Likewise.
	* java/security/spec/RSAMultiPrimePrivateCrtKeySpec.java: Likewise.
	* java/security/spec/RSAOtherPrimeInfo.java: Likewise.
	* java/security/AlgorithmParameterGenerator.java: Likewise.
	* java/security/AlgorithmParameters.java: Likewise.
	* java/security/Identity.java: Likewise.
	* java/security/IdentityScope.java: Likewise.
	* java/security/KeyFactory.java: Likewise.
	* java/security/KeyPairGenerator.java: Likewise.
	* java/security/MessageDigest.java: Likewise.
	* java/security/Policy.java: Likewise.
	* java/security/ProtectionDomain.java: Likewise.
	* java/security/Security.java: Likewise.
	* java/security/Signature.java: Likewise.
	* java/security/SignatureSpi.java: Likewise.
	* java/security/SignedObject.java: Likewise.
	* java/security/Signer.java: Likewise.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Added --enable-posix-layer option to enable
	build of the posix target layer.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/java_net_VMInetAddress.c
	(Java_java_net_VMInetAddress_lookupInaddrAny): Use target native macro
	for INADDR_ANY.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-util/java_util_VMTimeZone.c:
	(Java_java_util_VMTimeZone_getSystemTimeZoneId): Rewritten
	to use target native layer.
	(jint_to_charbuf): Removed unneeded helper function.

2006-01-18  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/gnu_java_nio_VMPipe.c:
	Removed unnecessary include.
	* native/jni/java-nio/gnu_java_nio_VMSelector.c:
	Reorganized includes to only include sys/* headers when available.
	* native/jni/java-nio/java_nio_MappedByteBufferImpl.c:
	(get_pagesize): Return 0 when nothing else works.
	(Java_java_nio_MappedByteBufferImpl_unmapImpl):
	Replaced munmap() and strerror() with corresponding target macros.
	(Java_java_nio_MappedByteBufferImpl_isLoadedImpl):
	Replaced strerror() with corresponding target macro.
	(Java_java_nio_MappedByteBufferImpl_forceImpl):
	Replaced strerror() with corresponding target macro.
	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c:
	(Java_java_nio_VMDirectByteBuffer_allocate):
	Replaced malloc() with the corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_free):
	Replaced free() with the corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_Pointer_2IB):
	Add index to pointer when assigning the value.
	(Java_java_nio_VMDirectByteBuffer_get__Lgnu_classpath_Pointer_2I_3BII):
	Replaced memcpy with corresponding target macro. Add index when
	doing the memcpy, not when fetching the pointer.
	(Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_Pointer_2I_3BII):
	Replaced memcpy with corresponding target macro.
	(Java_java_nio_VMDirectByteBuffer_shiftDown):
	Replaced memmove with the corresponding target macro.

2006-01-17  Tom Tromey  <tromey@redhat.com>

	PR classpath/20198:
	* java/net/URLClassLoader.java (FileURLLoader): Added argument.
	(JarURLLoader): Likewise.
	(addURLImpl): Canonicalize file URLs.

2006-01-17  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* configure.ac: Set TARGET.
	* native/Makefile.am, native/jni/classpath/Makefile.am,
	native/jni/gtk-peer/Makefile.am, native/jni/java-io/Makefile.am,
	native/jni/java-lang/Makefile.am, native/jni/java-net/Makefile.am,
	native/jni/java-nio/Makefile.am, native/jni/midi-dssi/Makefile.am,
	native/jni/xmlj/Makefile.am, native/target/Makefile.am,
	native/target/Linux/Makefile.am,
	native/target/generic/Makefile.am,
	native/target/posix/Makefile.am: Build libclasspath.so with jcl
	and target stuff linked in and link it against lib*.so libraries.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/javanet.c:
	(_javanet_connect): Changed type of some local variables to jint.
	Fixed error handling to throw a SocketTimeoutException if the
	connection attempt times out.
	(_javanet_bind): Changed type of some local variables to jint.
	(_javanet_accept): Likewise.
	(_javanet_recvfrom): Likewise.
	(_javanet_sendto): Fixed error handling to throw a
	PortUnreachableException when connection is refused.
	(_javanet_get_option): Changed type of some local variables to jint.
	Implemented SOCKOPT_SO_BROADCAST.
	(_javanet_shutdownInput): Replaced shutdown call with corresponding
	target native macro.
	(_javanet_shutdownOutput): Replaced shutdown call with corresponding
	target native macro.
	* native/jni/java-net/javanet.h:
	Defined SOCKET_TIMEOUT_EXCEPTION, PORT_UNREACHABLE_EXCEPTION and
	SOCKOPT_SO_BROADCAST.

2006-01-17  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insert): Cleaned up loop. No need to make so many calls
	to getAddedElements and getRemovedElements.
	(insertFracture): Removed unneeded array.

2006-01-17  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/JTextComponent.java
	(AccessibleJTextComponent): Implemented.
	(getCaretPosition): Implemented.
	(getSelectedText): Implemented.
	(getSelectionStart): Implemented.
	(getSelectionEnd): Implemented.
	(getSelectionEnd): Implemented.
	(getCharCount): Implemented.
	(insertTextAtIndex): Implemented.
	(getTextRange): Implemented.
	(delete): Implemented.
	(cut): Implemented.
	(paste): Implemented.
	(replaceText): Implemented.
	(selectText): Implemented.

2006-01-17  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(pad): New debugging method.
	(printElements): Likewise.
	(printPendingEdits): Likewise.
	(printElement): Likewise.
	(Edit): Improved docs, moved this class to be an inner class of
	ElementBuffer since it only applies within that scope.  Changed added 
	and removed to be Vectors instead of arrays because we need to be able 
	to add to them after construction.
	(ElementBuffer): Updated docs with link to article that helped in this
	classes implementation.
	(ElementBuffer.Edit.getRemovedElements): New method.
	(ElementBuffer.Edit.getAddedElements): Likewise.
	(ElementBuffer.Edit.addRemovedElement): Likewise.
	(ElementBuffer.Edit.addRemovedElements): Likewise.
	(ElementBuffer.Edit.addAddedElement): Likewise.
	(ElementBuffer.Edit.addAddedElements): Likewise.
	(ElementBuffer.Edit<init>): Improved docs, call addRemovedElements and 
	addAddedElements.
	(ElementBuffer.getEditForParagraphAndIndex): New method.
	(ElementBuffer.removeUpdate): Changed type of paragraph to 
	BranchElement.  Corrected style of adding the edit to use the new Edit
	facilities.
	(ElementBuffer.changeUpdate): Changed style of adding the edit to use
	the new Edit facilities.
	(ElementBuffer.split): Likewise.
	(ElementBuffer.insertParagraph): Likewise.
	(ElementBuffer.insertContentTag): Likewise.
	(ElementBuffer.insert): Push all BranchElements until the deepest one, 
	not just the root and the first one. Apply the structural changes to 
	the tree at the same time as updating the DocumentEvent.
	(ElementBuffer.insertUpdate): Fixed docs.  Removed the special case 
	handling of EndTags as the first ElementSpec.  Instead have to handle
	ContentTags as a special case if they are the first ElementSpec and if
	not have to fracture the tree.
	(ElementBuffer.createFracture): New method.  May not be complete yet.
	Added FIXME indicating what may remain to be done.
	(ElementBuffer.insertFirstContentTag): New method.
	(ElementBuffer.insertFracture): Added FIXME explaining what remains to
	be done.  Changed the adding of edits to use the new Edit facilities.
	Removed the adding of edits for Elements that weren't in the tree prior
	to the insertion.
	(insertUpdate): Removed incorrect condition for setting a StartTag's
	direction to JoinNextDirection.
	* javax/swing/text/StyleContent.java: 
	(SmallAttributeSet.toString): Fixed an off-by-one error in the loop 
	that was causing an ArrayOutOfBoundsException.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	(Java_gnu_java_nio_channels_FileChannelImpl_init): Improved
	exception messages a little.
	(Java_gnu_java_nio_channels_FileChannelImpl_open): Provided
	alternative implementation for systems without filesystems.
	Replaced snprintf with the corresponding target native macro.
	(Java_gnu_java_nio_channels_FileChannelImpl_implCloseChannel):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_available): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_size): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_implPosition): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_seek):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_implTruncate):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_mapImpl): Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_read__):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_read___3BII):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_write__I):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_force):
	Only do something when we have a filesystem.
	(Java_gnu_java_nio_channels_FileChannelImpl_write___3BII):
	Replaced ssize_t variables with jint. Provided
	alternative implementation for systems without filesystems.
	(Java_gnu_java_nio_channels_FileChannelImpl_lock): Reimplemented
	to use the corresponding target native macro.
	(Java_gnu_java_nio_channels_FileChannelImpl_unlock): Reimplemented
	to use the corresponding target native macro.

2006-01-17  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultTextUI.java:
	Added deprecated tag.
	* javax/swing/text/JTextComponent.java
	(AccessibleJTextComponent): Fixed API doc and
	partially implemented.
	(getCaretPosition): Fixed API doc and implemented.
	(getSelectedText): Fixed API doc.
	(getSelectionStart): Likewise.
	(getSelectionEnd): Likewise.
	(caretUpdate): Fixed API doc and
	partially implemented.
	(getAccessibleStateSet): Likewise.
	(getAccessibleRole): Fixed API doc and implemented.
	(getAccessibleEditableText): Implemented.
	(getAccessibleText): Fixed API doc and implemented.
	(insertUpdate): Fixed API doc.
	(changedUpdate): Likewise.
	(getIndexAtPoint): Likewise.
	(getRootEditorRect): Removed.
	(getCharacterBounds): Fixed API doc.
	(getCharCount): Likewise.
	(getCharacterAttribute): Likewise.
	(getAtIndex): Likewise.
	(getAfterIndex): Likewise.
	(getBeforeIndex): Likewise.
	(getAccessibleActionCount): Added function stub.
	(getAccessibleActionDescription): Added function,
	partially implemented.
	(doAccessibleAction): Added function stub.
	(setTextContents): Likewise.
	(insertTextAtIndex): Likewise.
	(delete): Likewise.
	(cut): Likewise.
	(paste): Likewise.
	(replaceText): Likewise.
	(selectText): Likewise.
	(setAttributes): Likewise.
	(getAccessibleContext): Implemented.

2006-01-17  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #25817
	* gnu/regexp/RETokenRange.java(constructor):
	Keep lo and hi as they are.
	(match): Changed the case insensitive comparison.

2006-01-17  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/regexp/RETokenChar.java(chain):
	Do not concatenate tokens whose insens flags are diffent.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_network.c:
	(targetGenericNetwork_receive): Fixed signature to match the
	corresponding .h file.
	(targetGenericNetwork_receiveWithAddressPort): Fixed signature
	to match the corresponding .h file.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/classpath/jcl.c:
	(JCL_malloc): Replaced calls to malloc with the corresponding
	target layer macro.
	(JCL_free): Replaced calls to free with the corresponding
	target layer macro.
	* native/jni/classpath/native_state.c:
	(cp_gtk_init_state_table_with_size): Replaced calls to malloc and
	calloc with the corresponding target layer macro.
	(remove_node): Replaced calls to free with the corresponding
	target layer macro.
	(add_node): Replaced calls to malloc with the corresponding
	target layer macro.

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-io/java_io_VMObjectStreamClass.c:
	(getFieldReference): Use MALLOC/FREE macros for portability instead
	of direct call to malloc() and free().

2006-01-17  Roman Kennke  <kennke@aicas.com>

	* native/jni/classpath/jcl.c: Added missing imports.
	(JCL_realloc): Fixed signature to include oldsize. This is needed
	for some targets. Make this function use the MEMORY_REALLOC macro
	for portability.
	* native/jni/classpath/jcl.h
	(JCL_realloc): Adjusted signature.
	* native/jni/java-io/java_io_VMFile.c:
	(Java_java_io_VMFile_create): Use target layer macro for handling
	errno, for portability.
	(Java_java_io_VMFile_length): Release filename string in error cases
	before returning.
	(Java_java_io_VMFile_list): Initialize filename variable. Use new
	version of JCL_realloc.
	* native/jni/java-net/java_net_VMInetAddress.c:
	(Java_java_net_VMInetAddress_getHostByName): Use renamed macro
	TARGET_NATIVE_NETWORK_GET_HOSTADDRESS_BY_NAME.
	* native/jni/java-net/javanet.c:
	(_javanet_bind): Make errorstr variable const to avoid compiler
	warning.
	(_javanet_set_option): Fixed typo.
	(_javanet_get_option): Fixed typo.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	(Java_gnu_java_nio_channels_FileChannelImpl_open): Made
	error_string variable const to avoid compiler warning.
	* native/target/generic/target_generic_file.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	Added some spaces to make code better readable.
	* native/target/generic/target_generic_memory.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	* native/target/generic/target_generic_misc.c:
	Removed unused TARGET_NATIVE_MISC_FORMAT_STRING macro. This caused
	compiler warnings due to use of varargs.
	* native/target/generic/target_generic_misc.h:
	Removed unused TARGET_NATIVE_MISC_FORMAT_STRING macro. This caused
	compiler warnings due to use of varargs.
	* native/target/generic/target_generic_network.h:
	Replaced // comments with /* */ comments to avoid compiler warnings.
	(targetGenericNetwork_receive): Fixed signature to use signed chars
	for buffer parameter to avoid warning when passing a jbyte to the
	function.

2006-01-17  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StyleConstants.java
	(getAlignment): Removed isDefined() check, so that resolving parent is 
	used for lookup,
	(getBackground): Likewise, plus changed default value to Color.BLACK,
	(getBidiLevel): Removed isDefined() check,
	(getComponent): Likewise,
	(getFirstLineIndent): Likewise,
	(getFontFamily): Likewise,
	(getFontSize): Likewise,
	(getForeground): Likewise,
	(getIcon): Likewise,
	(getLeftIndent): Likewise,
	(getLineSpacing): Likewise,
	(getRightIndent): Likewise,
	(getSpaceAbove): Likewise,
	(getSpaceBelow): Likewise,
	(getTabSet): Likewise,
	(isBold): Likewise,
	(isItalic): Likewise,
	(isStrikeThrough): Likewise,
	(isSubscript): Likewise,
	(isSuperscript): Likewise,
	(isUnderline): Likewise.

2006-01-17  Gary Benson  <gbenson@redhat.com>

	* java/lang/System.java (setSecurityManager): Catch
	ClassNotFoundException not Throwable.

2006-01-16  Anthony Green  <green@redhat.com>

	PR classpath/25803
	* gnu/java/net/protocol/http/Request.java
	  (createResponseBodyStream): Remove Content-Encoding for
	  compressed streams.

2006-01-16  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/XMLParser.java,
	  gnu/xml/stream/XMLStreamWriterImpl.java: Thoroughly check
	  XMLStreamWriter arguments for conformance to the XML specifications.
	* gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/Template.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/xpath/LangFunction.java,
	  gnu/xml/xpath/Selector.java: better handling of template priorities;
	  fix indents when pretty-printing; recursive tests for xml:lang.
	* gnu/xml/util/XHTMLWriter.java,
	  gnu/xml/util/XMLWriter.java: Deprecate old serializer classes.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/MinGW/.cvsignore: New file.
	* native/target/RTEMS/.cvsignore: New file.
	* native/target/SunOS/.cvsignore: New file.
	* native/target/embOS/.cvsignore: New file.
	* native/target/posix/.cvsignore: New file.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/StyleConstants.java: Updated API docs all over.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* configure.ac: Include new target native directories in build.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_file.h: Added missing
	include.
	* native/target/generic/target_generic_network.c: Fixed several
	typos and includes.
	* native/target/generic/target_generic_network.h: Likewise.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Adjusted SUBDIRS and DIST_SUBDIRS
	to include the new targets.
	* native/target/posix/Makefile.am: Fixed filenames.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/Makefile.am: Include new targets.
	* native/target/Linux/Makefile.am: Include new memory layer.
	* native/target/MinGW/Makefile.am: New file. Includes MinGW in dist.
	* native/target/RTEMS/Makefile.am: New file. Includes RTEMS in dist.
	* native/target/SunOS/Makefile.am: New file. Includes SunOS in dist.
	* native/target/embOS/Makefile.am: New file. Includes embOS in dist.
	* native/target/generic/Makefile.am: Include new memory and math
	layer.
	* native/target/posix/Makefile.am: New file. Includes posix in dist.

2006-01-16  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22884
	* gnu/regexp/RE.java(initialize): Parse embedded flags.
	* gnu/regexp/RESyntax.java(RE_EMBEDDED_FLAGS): New syntax bit.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_network.c: Fixed typo.
	* native/target/generic/target_generic_network.h: Fixed typo.

2006-01-16  Nicolas Geoffray  <nicolas.geoffray@menlina.com>

	* doc/vmintegration.texinfo: Updated subsection of the
	java.lang.InstrumentationImpl documentation.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/RTEMS/target_native.h,
	* native/target/RTEMS/target_native_file.h,
	* native/target/RTEMS/target_native_io.h,
	* native/target/RTEMS/target_native_math.h,
	* native/target/RTEMS/target_native_memory.h,
	* native/target/RTEMS/target_native_misc.h,
	* native/target/RTEMS/target_native_network.h:
	New files. Implement the target native layer for the RTEMS platform.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/SunOS/target_native.h,
	* native/target/SunOS/target_native_file.h,
	* native/target/SunOS/target_native_io.h,
	* native/target/SunOS/target_native_math.h,
	* native/target/SunOS/target_native_memory.h,
	* native/target/SunOS/target_native_misc.h,
	* native/target/SunOS/target_native_network.h:
	New files. Implement the target native layer for the SunOS platform.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/MinGW/target_native.h,
	* native/target/MinGW/target_native_file.h,
	* native/target/MinGW/target_native_io.h,
	* native/target/MinGW/target_native_math.h,
	* native/target/MinGW/target_native_memory.h,
	* native/target/MinGW/target_native_misc.h,
	* native/target/MinGW/target_native_network.h:
	New files. Implement the target native layer for the MinGW
	platform.

2006-01-16  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	PR 25770
	* javax/swing/DefaultCellEditor.java
	(delegate): Assign new instance immediately.
	(DefaultCellEditor(JTextField textfield)): Require 2 clicks.
	(getTableCellEditorComponent): Rewritten.
	(prepareAsJTextField):New method (add listener only once).
	* javax/swing/JTable.java
	(editingCanceled): Rewritten.
	(editingStopped ): Rewritten.
	(rowAtPoint): Mind row margin.
	(getCellRect): Mind row margin.
	(getDefaultEditor): Removing JTextComponent border.
	(editCellAt): Rewritten.
	* javax/swing/plaf/basic/BasicTableUI.java (MouseInputHandler):
	Activate editing mode by the mouse clicks.
	(getMaximumSize): Mind row margin.
	(getPreferredSize): Mind row margin.
	(TableAction): Added 'stop editing' command. 

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* jni/java-io/java_io_VMFile.c
	(Java_java_io_VMFile_list): Use new 4 argument version of
	TARGET_NATIVE_FILE_READ_DIR macro.
	* target/Linux/target_native_io.h: Fixed comment at #endif.
	* target/Linux/target_native_memory.h: New file. Contains
	portability macros for memory operations.
	* target/generic/target_generic.c: New file. Contains some functions
	for portability.
	* target/generic/target_generic.h: Use posix target and shorter macro
	names if CP_NEW is set. 
	* target/generic/target_generic_file.h: Use posix target and shorter
	macro names if CP_NEW is set.
	(TARGET_NATIVE_FILE_READ_DIR): New parameter for maxNameLength.
	* target/generic/target_generic_io.c: New file. Contains some
	functions for IO portability.
	* target/generic/target_generic_io.h: Use posix target and shorter
	macro names if CP_NEW is set.
	* target/generic/target_generic_misc.c: New file. Contains some
	functions for miscallaneaous portability issues.
	* target/generic/target_generic_misc.h: Use posix target and shorter
	macro names if CP_NEW is set.
	* target/generic/target_generic_network.c: New file. Contains some
	functions for networking portability.
	* target/generic/target_generic_network.h: Use posix target and
	shorter	macro names if CP_NEW is set.
	* target/posix/Makefile.am,
	* target/posix/target_posix.c,
	* target/posix/target_posix.h,
	* target/posix/target_posix_file.c,
	* target/posix/target_posix_file.h,
	* target/posix/target_posix_io.c,
	* target/posix/target_posix_io.h,
	* target/posix/target_posix_math.c,
	* target/posix/target_posix_math.h,
	* target/posix/target_posix_memory.c,
	* target/posix/target_posix_memory.h,
	* target/posix/target_posix_misc.c,
	* target/posix/target_posix_misc.h,
	* target/posix/target_posix_network.c,
	* target/posix/target_posix_network.h:
	New files. This implements the target native layer macros for
	Posix-like systems.

2006-01-16  Gary Benson  <gbenson@redhat.com>

	* java/net/SocketPermission.java (implies): Fix action checks.

2006-01-16  Roman Kennke  <kennke@aicas.com>

	* native/target/generic/target_generic_math_float.h: Removed. This
	file has been replaced by target_generic_math.h.
	* native/target/generic/target_generic_math_int.h: Removed. This
	file has been replaced by target_generic_math.h.
	* native/target/generic/target_generic_math.h: New file. Replaces
	the old _int and _float versions.
	* native/target/Linux/target_native_math_float.h: Removed. This
	file has been replaced by target_native_math.h.
	* native/target/Linux/target_native_math_int.h: Removed. This
	file has been replaced by target_native_math.h.
	* native/target/Linux/target_native_math.h: New file. Replaces
	the old _int and _float versions.
	* native/target/Linux/Makefile.am: Adjusted for the changed
	filenames.
	* native/jni/java-io/java_io_VMFile.c: Include target_native_math.h
	instead of target_native_math_int.h.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c:
	Likewise.
	* native/target/generic/target_generic_file.h: Likewise.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/MutableAttributeSet.java: Updated API docs all over.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/SimpleAttributeSet.java
	(SimpleAttributeSet()): Initialise storage directly,
	(SimpleAttributeSet(AttributeSet)): Removed null check and documented
	NullPointerException,
	(containsAttribute): If key is found locally, don't check resolving
	parent if the value doesn't match,
	(getAttribute): Removed redundant instanceof and cast.

2006-01-16  Gary Benson  <gbenson@redhat.com>

	* java/lang/System.java (setSecurityManager): Ensure policy
	files are loaded before a security manager is put in place.

2006-01-16  David Gilbert  <david.gilbert@object-refinery.com>

	* javax/swing/text/SimpleAttributeSet.java: Updated API docs all over.

2006-01-16  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/attribute/standard/MediaSize.java: 
	(static_initializer): Added comment.
	(MediaSize): Added javadoc to mention cache registration.
	(MediaSize): Likewise.
	(MediaSize): Likewise.
	(MediaSize): Likewise.

2006-01-16  Raif S. Naffah  <raif@swiftdsl.com.au>

	PR classpath/25202
	* gnu/javax/security/auth/login/ConfigFileTokenizer.java: New class.
	* gnu/javax/security/auth/login/ConfigFileParser.java: New class.
	* gnu/javax/security/auth/login/GnuConfiguration.java: New class.
	* javax/security/auth/login/AppConfigurationEntry.java: Updated
	  copyright year.
	  (toString): Added method implementation.
	  (LoginModuleControlFlag.toString): Removed class name from result.
	* javax/security/auth/login/Configuration.java: Updated copyright year.
	  (getConfig(): replaced calls to NullConfiguration with
	  GnuConfiguration.

2006-01-15  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax/swing/table/DefaultTableCellRenderer.java 
	(getTableCellRendererComponent): Render null as the empty cell.

2006-01-14  Anthony Green  <green@redhat.com>

        * java/net/ServerSocket.java (accept): Remove bogus
        security check.
	(implAccept): Add FIXME comment.

2006-01-14  Wolfgang Baer  <WBaer@gmx.de>

	Fixes bug #25387
	* javax/print/Doc.java: Added and enhanced documentation.
	* javax/print/SimpleDoc.java: New file.	

2006-01-14  Wolfgang Baer  <WBaer@gmx.de>

	* javax/print/attribute/standard/MediaSize.java: 
	(Other.TABLOID): New MediaSize added in 1.5

2006-01-14  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Ensure that parser is reset
	  correctly when I/O and runtime exceptions occur during parsing.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/swing/SwingButtonPeer.java,
	* gnu/java/awt/peer/swing/SwingCanvasPeer.java,
	* gnu/java/awt/peer/swing/SwingComponent.java,
	* gnu/java/awt/peer/swing/SwingComponentPeer.java,
	* gnu/java/awt/peer/swing/SwingContainerPeer.java,
	* gnu/java/awt/peer/swing/SwingFramePeer.java,
	* gnu/java/awt/peer/swing/SwingLabelPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuBarPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuItemPeer.java,
	* gnu/java/awt/peer/swing/SwingMenuPeer.java,
	* gnu/java/awt/peer/swing/SwingPanelPeer.java,
	* gnu/java/awt/peer/swing/SwingTextFieldPeer.java,
	* gnu/java/awt/peer/swing/SwingToolkit.java,
	* gnu/java/awt/peer/swing/SwingWindowPeer.java,
	* gnu/java/awt/peer/swing/package.html:
	New files. Implemented some basic AWT peers based on Swing.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/peer/ComponentPeer.java: Added API docs all over.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuComponent.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/Frame.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java
	(accessibleContext): Removed unnecessary field. This is already
	defined in MenuComponent.
	(setHelpMenu): Renamed the peer variable to myPeer because it was
	hiding a field of MenuComponent.
	(addNotify): Removed unnecessary cast.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java: Reformatted to better match our
	coding style.

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/MenuBar.java
	(frame): New field.
	(removeNotify): Clear frame field when beeing removed from the
	frame.
	* java/awt/Frame.java
	(setMenuBar): Store a reference of the frame in the MenuBar.
	* java/awt/MenuComponent.java
	(postEvent): Implemented to forward the call to the parent until
	a parent can handle the event.
	(dispatchEvent): Moved handling of old style events from
	dispatchEventImpl() to here.
	(dispatchEventImpl): Moved handling of old style events to
	dispatchEvent().

2006-01-13  Roman Kennke  <kennke@aicas.com>

	* java/awt/Component.java
	(dispatchEvent): Moved handling of old style events from
	dispatchEventImpl() to this method.
	(translateEvent): Removed unnecessary cast.
	(dispatchEventImpl): Moved handling of old style events to
	dispatchEvent().
	
2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(createDefaultRoot): Removed FIXME.
	(setLogicalStyle): Added fireUndoableEditUpdate call and 
	removed FIXME.

2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(Edit): New inner class.
	(changeUpdate): Changed addEdit call to add a new
	instance of Edit to the edits Vector, so addEdits can
	be done later.
	(split): Likewise.
	(insertParagraph): Likewise.
	(insertFracture): Likewise.
	(insertContentTag): Likewise.
	(insert): Added loop to go through edits Vector and perform
	addEdit on each object.

2006-01-13  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/AbstractNumberNode.java,
	  gnu/xml/transform/ApplyImportsNode.java,
	  gnu/xml/transform/ApplyTemplatesNode.java,
	  gnu/xml/transform/AttributeNode.java,
	  gnu/xml/transform/CallTemplateNode.java,
	  gnu/xml/transform/ChooseNode.java,
	  gnu/xml/transform/CommentNode.java,
	  gnu/xml/transform/CopyNode.java,
	  gnu/xml/transform/CopyOfNode.java,
	  gnu/xml/transform/DocumentFunction.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/ForEachNode.java,
	  gnu/xml/transform/IfNode.java,
	  gnu/xml/transform/LiteralNode.java,
	  gnu/xml/transform/MessageNode.java,
	  gnu/xml/transform/OtherwiseNode.java,
	  gnu/xml/transform/ParameterNode.java,
	  gnu/xml/transform/ProcessingInstructionNode.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/Template.java,
	  gnu/xml/transform/TemplateNode.java,
	  gnu/xml/transform/TextNode.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/transform/ValueOfNode.java,
	  gnu/xml/transform/WhenNode.java,
	  gnu/xml/xpath/NodeTypeTest.java,
	  gnu/xml/xpath/Selector.java: simplified debugging output; ignore
	  with-param parameters when template does not define parameters; apply
	  conflict resolution for templates; strip whitespace on documents
	  retrieved via document() function; allow node() to match document
	  nodes.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* doc/www.gnu.org/announce/20060113.wml: New file.
	* doc/www.gnu.org/newsitems.txt: Add 0.20 release announcement.
	* doc/www.gnu.org/downloads/downloads.wml: Add 0.20.

2006-01-13  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	Removed unused fields.
	(insert): Removed unused fields.
	(endEdit): Removed, not needed.
	(insertUpdate): Removed call to endEdit.
	(prepareContentInsertion): Removed, not needed.
	(insertContentTag): Removed call to prepareContentInsertion.
	(printElements): Removed, not needed.
	(attributeSetsAreSame): Removed, not needed.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* configure.ac: Set version to 0.20.
	* NEWS: Add entries for all the new work done.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* javax/swing/text/DefaultCaret.java: Chain all AssertionErrors.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* java/util/regex/Pattern.java (Pattern): Chain REException.

2006-01-13  Chris Burdess  <dog@gnu.org>

	* gnu/xml/xpath/NameTest.java: Removed debugging output.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* java/security/Security.java
	(getProperty): Added hack to skip security check when trusted
	code is direct caller.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* java/io/PrintStream.java
	(line_separator, PrintStream(OutputStream,boolean)): Use
	SystemProperties.

2006-01-13  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/nio/charset/Provider.java: Added comment about its
	special relation with CharsetProvider.
	(static): Removed.
	* gnu/java/nio/charset/iconv/IconvProvider.java: Added comment about
	its special relation with CharsetProvider.
	(static): Removed.
	* java/nio/charset/spi/CharsetProvider.java
	(CharsetProvider): Add special case to skip security check for
	built in providers.

2006-01-13  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JMenuItem.java (JMenuItem(Action)): Check whether
	name, accel, mnemonic and command are defined before setting.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(FileRenderer.getListCellRendererComponent): Set empty name and null
	icon when File is null.

2006-01-13  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/java/rmi/server/UnicastRef.java (newCall):
	Throw ConnectException after catching IOException.

2006-01-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Removed unneeded check.

2006-01-12  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertContentTag): If the direction is JoinNextDirection
	and we haven't come immediately after a fracture, adjust the Element
	offsets.  Added comment explaining the situation.
	(insert): Return early if no ElementSpecs passed in.  Removed redundant
	call to insertUpdate.  Fired the UndoableEditUpdate.

2006-01-12  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Fixes bug #22802
	* gnu/regexp/RE.java(initialize): Fixed the parsing of
	character classes within a subexpression.

2006-12-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertUpdate): Added check to check if attribute set is 
	empty.
	(insertUpdate): Added check to determine if last character
	is a newline. If it is, we should not be fracturing.
	(insert): Added check to determine if attribute set is empty.
	If it is, insertUpdate should not be called.

2006-12-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Check for isnan.

	* native/fdlibm/fdlibm.h: If we have a isnan function then do not
	define the macro.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/XMLParser.java: Corrected the handling of some XML
	  1.1 character ranges.

2006-01-12  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/TransferHandler.java:
	(TransferAction<init>): Call super constructor.  Fixes Mauve regression
	gnu/testlet/javax/swing/JTextField/CopyPaste.

2006-01-12  Christian Thalinger  <twisti@complang.tuwien.ac.at>

	* resource/Makefile.am: Install 
	logging.properties into $(prefix)/lib.
	* resource/Makefile.am (securitydir): Changed to 
	$(prefix)/lib/security.

2006-01-12  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTextField.java
	(createDefaultModel): Moved installation of the filterNewlines
	property to setDocument().
	(setDocument): New method. Installs the filterNewlines property
	on the document.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomNode.java,
	  gnu/xml/transform/ElementAvailableFunction.java: Removed debugging
	  output.
	* gnu/xml/xpath/NameTest.java,
	  gnu/xml/xpath/NamespaceTest.java,
	  gnu/xml/xpath/Selector.java: Fix regression for namespace axis
	  navigation.
	* gnu/xml/transform/MessageNode.java: Use standard logging system
	  for outputting messages.

2006-01-12  Tom Tromey  <tromey@redhat.com>

	* java/net/InetAddress.java (DEFAULT_CACHE_SIZE): Removed.
	(DEFAULT_CACHE_PERIOD, DEFAULT_CACHE_PURGE_PCT): Likewise.
	(cache_size, cache_period, cache_purge_pct, cache): Likewise.
	(static initializer): Removed cache code.
	(checkCacheFor, addToCache): Removed.
	(getAllByName): Removed cache code.
	(lookup_time): Removed.
	(InetAddress): Updated.

2006-01-12  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomDocument.java,
	  gnu/xml/dom/DomElement.java,
	  gnu/xml/dom/DomNode.java,
	  gnu/xml/stream/XMLParser.java,
	  gnu/xml/transform/Bindings.java,
	  gnu/xml/transform/ElementAvailableFunction.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/FunctionAvailableFunction.java,
	  gnu/xml/transform/NamespaceProxy.java,
	  gnu/xml/transform/StreamSerializer.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/xpath/Selector.java: Implement isEqualNode correctly for
	  document and element nodes; correct coalescing semantics when parsing;
	  attribute-sets can only refer to top-level variables and parameters;
	  fix namespace retrieval during element-available and
	  function-available functions; implement xsl:fallback for extension
	  elements; tokenize whitespace correctly during whitespace stripping;
	  correct following and previous node axes selectors.

2006-01-12  Roman Kennke  <kennke@aicas.com>

	* java/util/Hashtable.java
	(KeyEnumerator.nextElement): Added null check to avoid NPE.
	(ValueEnumerator.nextElement): Added null check to avoid NPE.

2006-01-12  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/GapContent.java
	(UndoInsertString): Changed name of class to InsertUndo to match the JDK.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* vm/reference/gnu/java/net/VMPlainSocketImpl.java (connect):
	Throw UnknowHostException when name could not be resolved.

2006-01-12  Jeroen Frijters  <jeroen@frijters.net>

	* java/net/URL.java
	(static, getURLStreamHandler): Use SystemProperties.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* vm/reference/gnu/java/net/VMPlainDatagramSocketImpl.java (receive):
	Use packet.getLength().
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c
	(nativeReceive): Check whether the receiver wants zero bytes.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/jni/java-net/javanet.c (_javanet_recvfrom): Return -1 when
	other side orderly closed connection.
	* vm/reference/gnu/java/net/VMPlainSocketImpl.java
	(read(PlainSocketImpl)): Mask byte to return unsigned int. Return -1
	when end of stream reached.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	Remove asserts.
	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c: Likewise.
	* native/jni/java-net/java_net_VMInetAddress.c: Likewise.
	* native/jni/java-net/java_net_VMNetworkInterface.c: Likewise.
	* native/jni/java-net/javanet.c: Likewise.

2006-01-12  Mark Wielaard  <mark@klomp.org>

	* native/fdlibm/mprec.c (Balloc): Disable assert to workaround
	PR classpath/23863.

2006-01-11  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/AttributeNode.java,
	  gnu/xml/transform/ElementNode.java,
	  gnu/xml/transform/LiteralNode.java,
	  gnu/xml/transform/StreamSerializer.java,
	  gnu/xml/transform/StrippingInstruction.java,
	  gnu/xml/transform/Stylesheet.java,
	  gnu/xml/transform/TransformerImpl.java,
	  gnu/xml/transform/ValueOfNode.java,
	  gnu/xml/xpath/Expr.java,
	  gnu/xml/xpath/LocalNameFunction.java,
	  gnu/xml/xpath/NameFunction.java,
	  gnu/xml/xpath/NameTest.java,
	  gnu/xml/xpath/NamespaceUriFunction.java,
	  gnu/xml/xpath/NodeTypeTest.java,
	  gnu/xml/xpath/SubstringFunction.java,
	  javax/xml/namespace/QName.java: don't determine element namespace
	  from namespace aliases when specified; better namespace handling
	  when serializing elements; don't create HTML meta element unless
	  head element exists; correct encoding of CDATA sections containing
	  ']]>'; encode HTML character entity references; use ISO-Latin-1 as
	  default encoding for HTML output; rewrite of XSLT
	  strip-space/preserve-space handling; correct doctype-public and
	  doctype-system output attributes; insert generated doctype before
	  document element; fixed result tree whitespace stripping
	  algorithm; fixed semantics of XPath name, local-name, and
	  namespace-uri functions; name tests handle XML/XMLNS namespaces
	  correctly; fixed semantics of processing-instruction node test.
	* gnu/xml/transform/TransformerFactoryImpl.java: Add main method to
	  aid debugging.

2006-01-11  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(insertFracture): Added calls to addEdit for each time a structure 
	is changed. addEdit is called on the newBranch, previous, and parent
	structures.

2006-01-11  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertContentTag): Don't adjust the structure here.  
	This will have been taken care of in insertFracture.  Added a comment
	explaining that we need to add edits to the DocumentEvent and that
	this may be the place to do it.

2006-01-11  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Properly recreate Elements if the first
	tag is an end tag. Avoid NPE by pushing the proper Element on to the 
	elementStack when there is a start tag with JoinNextDirection.

2006-01-11  Roman Kennke  <kennke@aicas.com>

	Reported by: Fridjof Siebert <siebert@aicas.com>
	* java/util/Hashtable.java
	(KEYS): Removed unneeded field.
	(VALUES): Removed unneeded field.
	(ENTRIES): Removed unneeded field.
	(keys): Return a KeyEnumerator instance.
	(elements): Returns a ValueEnumerator instance.
	(toString): Use an EntryIterator instance.
	(keySet): Return a KeyIterator instance.
	(values): Return a ValueIterator instance.
	(entrySet): Return an EntryIterator instance.
	(hashCode): Use EntryIterator instance.
	(rehash): Changed this loop to avoid redundant reads and make
	it obvious that null checking is not needed.
	(writeObject): Use EntryIterator instance.
	(HashIterator): Removed class.
	(Enumerator): Removed class.
	(EntryIterator): New class.
	(KeyIterator): New class.
	(ValueIterator): New class.
	(EntryEnumerator): New class.
	(KeyEnumerator): New class.
	(ValueEnumerator): New class.

2006-01-11  Lillian Angel  <langel@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java
	(toString): Shouldn't append the '>' character here.
	(createDefaultRoot): Should not set the resolve parent. This
	causes problems when comparing attribute sets.

2006-01-10  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Rewritten to properly handle start and
	end tags.
	(ElementBuffer.insertFracture): New method.
	(ElementBuffer.insertContentTag): Removed unnecessary case for 
	JoinFractureDirection - this only applies to start tags, not content
	tags.
	(insertUpdate): Corrected conditions for setting direction to 
	JoinNextDirection.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* Makefile.am (EXTRA_DIST): Added ChangeLog-2004.
	* ChangeLog-2005: New File.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c
	(get): Release the array with the correct pointer.
	(put): Release the array with the correct pointer. Copy the array
	around _before_ releasing it.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(layoutContainer): Fixed condition, to avoid ClasscastException.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicSplitPaneDivider.java
	(MouseHandler.mousePressed): Fixed indendation.
	(MouseHandler.mouseDragged): Fixed indendation.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(playSound): Added @since 1.4 to the API docs.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(maybeUpdateLayoutState): Also update the layout state, if the
	list has been invalidated since the last update.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/ComponentUI.java
	(update): Fixed indendation.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/ViewportLayout.java
	(layoutContainer): Fixed condition, so that Scrollable components
	are always forced to have to Viewport size, when they
	return true for getScrollableTracksViewportHeight() and ..Width().

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(validateInvalidComponents): Fixed condition to avoid NPE.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JViewport.java:
	(static_initializer): Removed unused variable myScrollMode.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JTabbedPane.java:
	Cleared API docs a little.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/util/StringTokenizer.java
	(StringTokenizer(String, String, boolean)):
	Don't trigger NPE here for conformance with the spec.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/util/ArrayList.java
	(DEFAULT_CAPACITY): Changed default capacity to 10, as specified.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java
	(GdkGraphics2D(GdkGraphics2D)): Added null check for the bg
	field to avoid NPE.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/javanet.c
	(_javanet_shutdownOutput): Replaced strerror() with
	TARGET_NATIVE_LAST_ERROR_STRING() for portability.
	(_javanet_shutdownInput): Replaced strerror() with
	TARGET_NATIVE_LAST_ERROR_STRING() for portability.

2006-01-10  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/EventSetDescriptor.java: Reformatted and
	fixed API docs.

2006-01-10  Roman Kennke  <kennke@aicas.com>

	* java/lang/SecurityManager.java
	Fully qualified AWT class references in API docs.

2006-01-10  Robert Schuster  <robertschuster@fsfe.org>

        * java/beans/EventSetDescriptor.java:
        (getGetListenerMethod): New method.

2006-01-10  Mark Wielaard  <mark@klomp.org>

	* lib/Makefile.am (GCJX): Add -g to get linenumber info.

2006-01-10  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/25727
	* java/util/Hashtable.java
	(contains): Call equals on existing value.
	(containsKey, get, put, remove): Call equals on existing key.
	(getEntry): Call equals on existing entry.

2006-01-10  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/24618
	* java/util/AbstractMap.java
	(equals(Object,Object)): Test for identity first.
	* java/util/WeakHashMap.java
	(WeakBucket.WeakEntry.equals): Use helper method to determine equality.
	(WeakBucket.WeakEntry.toString): Fixed string representation of
	null key.
	(internalGet): Use helper method to determine equality.

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/EventSetDescriptor.java: Implemented the two 1.4
	constructors.

2006-01-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/PlainDocument.java:
	(insertUpdate): Handle special case of an insertion immediately 
	following a newline character.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c
	(connect): Added stream parameter to _connect() call.
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c
	(connect): Added stream parameter to _connect() call.
	* native/jni/java-net/javanet.c
	(_javanet_create_localfd): Added stream parameter. Look up
	fd field based on the stream parameter either in SocketImpl or
	in DatagramSocketImpl.
	(_javanet_connect): Added stream parameter. Call create_localfd
	using this stream parameter. Set localPort field either in
	SocketImpl or in DatagramSocketImpl, depending on the stream
	flag.
	* native/jni/java-net/javanet.c
	(_javanet_connect): Added stream parameter.

2006-01-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax.management.Attribute.java: Grammar and 
	formatting fixes.

2006-01-09  Mark Wielaard  <mark@klomp.org>

	* gnu/java/nio/channels/FileChannelImpl.java (map): Throw correct
	exception when channel is not readable or writable.
	* native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
	(mapImpl): Add PROT_WRITE when mode == 'c' (MAP_PRIVATE). Make sure
	there is enough space to mmap().

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/Introspector.java:
	(getBeanInfo(Class, int)): New method.
	(getBeanInfo(Class, Class): Moved common code in a new method.
	(merge): New method.

2006-01-09  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/XMLEncoder.java: Fix spelling mistakes.

2006-01-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultStyledDocument.java:
	(insertUpdate): Removed call to checkForInsertAfterNewline and instead
	inlined this method because it needs to change the value of the 
	finalStartTag and finalStartDirection variables.
	(checkForInsertAfterNewline): Removed this method.
	(handleInsertAfterNewline): Added case for making the start tag's 
	direction JoinNextDirection.

2006-01-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicTreeUI.java:
	Added new field.
	(setRowHeight): Row height is set to the max height of
	all the nodes, or 20 as a default value.
	(getPathBounds): Cleaned up code.
	(getMaxHeight): New helper function that gets the max 
	height of all the rows.
	(getClosestPathForLocation): Fixed to use getMaxHeight.
	(updateCachedPreferredSize): Likewise.
	(installUI): Shouldn't expand tree on startup.
	(getNodeDimensions): Fixed to use getMaxHeight.	

2006-01-09  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JList.java (setSelectedIndex): Clear selection when
	argument is negative.

2006-01-08  Mark Wielaard  <mark@klomp.org>

	* java/net/InetAddress.java (getInaddrAny): Explicitly set hostName.

2006-01-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* javax.management.Attribute.java: New file. 

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* java/net/DatagramSocketImpl.java
	(localPort): Renamed to localport for correct access from native
	code.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* javax/swing/Popup.java
	(LightweightPopup.hide): Repaint the layered pane when popup is
	removed.

2006-01-09  Roman Kennke  <kennke@aicas.com>

	* java/awt/Container.java
	(remove): Don't repaint the container here.

2006-01-08  Tom Tromey  <tromey@redhat.com>

	* java/lang/InheritableThreadLocal.java: Organized imports.

2006-01-08  Ito Kazumitsu  <kaz@maczuka.gcd.org>  

	Fixes bug #25679
	* gnu/regexp/RETokenRepeated.java(match): Optimized the case
	when an empty string matched an empty token.

2006-01-08  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Check standalone status for mixed
	  content models from external entities.
	* gnu/xml/stream/UnicodeReader.java: Report error instead of
	  attempting to continue with unpaired surrogates.
	* gnu/xml/stream/XMLParser.java: Don't normalize LF equivalents when
	  resolving entities with character entity references; better
	  checking of valid character ranges; don't report an error for URI
	  fragments in notation declarations; check unbound namespace
	  prefixes for elements and attributes, including XML 1.1 unbinding
	  syntax; namespace-aware checking of attribute duplicates.

2006-01-08  Robert Schuster  <robertschuster@fsfe.org>

	* java/beans/Statement.java: Doc fixes.
	(doExecute): Workaround for Class.forName call.
	(toString): Made output look more like on the JDK.
	* java/beans/Expression.java: Doc fixes.
	(toString): Made output look more like on the JDK.
	* java/beans/PersistenceDelegate.java,
	java/beans/DefaultPersistenceDelegate.java,
	java/beans/Encoder.java,
	java/beans/XMLEncoder.java: New file.
	* gnu/java/beans/encoder/ArrayPersistenceDelegate.java,
	gnu/java/beans/encoder/ClassPersistenceDelegate.java,
	gnu/java/beans/encoder/CollectionPersistenceDelegate.java,
	gnu/java/beans/encoder/Context.java,
	gnu/java/beans/encoder/GenericScannerState.java,
	gnu/java/beans/encoder/IgnoringScannerState.java,
	gnu/java/beans/encoder/MapPersistenceDelegate.java,
	gnu/java/beans/encoder/ObjectId.java,
	gnu/java/beans/encoder/PrimitivePersistenceDelegate.java,
	gnu/java/beans/encoder/ReportingScannerState.java,
	gnu/java/beans/encoder/Root.java,
	gnu/java/beans/encoder/ScanEngine.java,
	gnu/java/beans/encoder/ScannerState.java,
	gnu/java/beans/encoder/StAXWriter.java,
	gnu/java/beans/encoder/Writer.java: New file.
	* gnu/java/beans/encoder/elements/Array_Get.java,
	gnu/java/beans/encoder/elements/Element.java,
	gnu/java/beans/encoder/elements/List_Set.java,
	gnu/java/beans/encoder/elements/Array_Set.java,
	gnu/java/beans/encoder/elements/NullObject.java,
	gnu/java/beans/encoder/elements/StaticMethodInvocation.java,
	gnu/java/beans/encoder/elements/StaticFieldAccess.java,
	gnu/java/beans/encoder/elements/StringReference.java,
	gnu/java/beans/encoder/elements/ClassResolution.java,
	gnu/java/beans/encoder/elements/ArrayInstantiation.java,
	gnu/java/beans/encoder/elements/PrimitiveInstantiation.java,
	gnu/java/beans/encoder/elements/ObjectReference.java,
	gnu/java/beans/encoder/elements/ObjectInstantiation.java,
	gnu/java/beans/encoder/elements/List_Get.java,
	gnu/java/beans/encoder/elements/MethodInvocation.java: New file.

2006-01-08  Chris Burdess  <dog@gnu.org>

	* java/lang/Character.java (toChars,toCodePoint): Correct these
	  methods to use algorithms from Unicode specification.
 
2006-01-08  Mark Wielaard  <mark@klomp.org>

	* native/jni/xmlj/Makefile.am (libxmlj_la_LIBADD): Add jcl.o.

2006-01-07  Paul Jenner  <psj@harker.dyndns.org>

	Fixes bug #25711
	* examples/Makefile.am: Corrected DESTDIR install paths.

2006-01-07  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/INVALID_ACTIVITY.java: Removed non - 
	ASCII character (line 46).

2006-01-07  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/TableView.java: New file.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/BufferedReader.java: Removed commented out code.
	* gnu/xml/stream/XIncludeFilter.java: Correct XML Base behaviour.
	* gnu/xml/stream/XMLParser.java: Make additional StAX properties
	  available; correct handling of unparsed entity references;
	  absolutize all base URIs; remove commented out code.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/XMLParser.java: Add SAX property to return base
	  URI of the current event.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java: Add SAX feature to set XML Base
	  aware processing.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* gnu/xml/stream/SAXParser.java,
	  gnu/xml/stream/XIncludeFilter.java,
	  gnu/xml/stream/XMLParser.java: Updated documentation.

2006-01-07  Chris Burdess  <dog@gnu.org>

	* AUTHORS: add self.

2006-01-06  Casey Marshall  <csm@gnu.org>

	* AUTHORS: add myself.

2006-01-06  Casey Marshall  <csm@gnu.org>

	PR classpath/25699
	* javax/crypto/CipherInputStream.java (logger): new constant.
	(cipher): make final.
	(outLength, inBuffer, inLength): removed.
	(isStream): make final.
	(VIRGIN, LIVING, DYING, DEAD, state): removed.
	(eof): new field.
	(<init>): call `super,' not `this;' remove `inBuffer' and
	`outBuffer' initialization; init `eof;' add debug logging.
	(<init>): call `this' with a new null cipher.
	(available): fix javadoc to reflect the real semantics; if we
	don't have a buffer, call `nextBlock.'
	(close): synchronize.
	(read): synchronize; fix testing for buffered data.
	(read): synchronize; add `skip' semantics if first argument is
	`null;' decrypt stream cipher data only if there is any; fix tests
	for buffered data.
	(skip): stop using `available' to see how many data are buffered.
	(nextBlock): simplify to use cipher-allocated output buffers
	instead of internally allocated ones.

2006-01-06  Tom Tromey  <tromey@redhat.com>

	* java/lang/String.java (codePointCount): Fixed javadoc.

2006-01-06  Tom Tromey  <tromey@redhat.com>

	* java/lang/String.java (contains): Added @since.

2006-01-06  Ito Kazumitsu  <kaz@maczuka.gcd.org>  

	Fixes bug #25616
	* gnu/regexp/RE.java(initialize): Allow repeat.empty.token.
	* gnu/regexp/RETokenRepeated.java(match): Break the loop
	when an empty string matched an empty token.

2006-01-06  Jeroen Frijters  <jeroen@frijters.net>

	PR classpath/24858
	* gnu/java/util/WeakIdentityHashMap.java: New file.
	* java/lang/InheritableThreadLocal.java
	(newChildThread): Modified to remove key indirection.
	* java/lang/Thread.java
	(locals): Changed type to WeakIdentityHashMap.
	(getThreadLocals): Instantiate WeakIdentityHashMap instead of
	WeakHashMap.
	* java/lang/ThreadLocal.java
	(key, Key): Removed.
	(get, set): Changed to use "this" instead of "key".

2006-01-06  Dalibor Topic  <robilad@kaffe.org>

	* native/fdlibm/Makefile.am (libfdlibm_la_SOURCES): Removed java-assert.h.

	* native/fdlibm/java-assert.h: Removed file.

	* native/fdlibm/mprec.c: Include assert.h. Don't include java-assert.h.
	Replaced use of JvAssert by assert.

2006-01-05  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/text/DefaultCaret.java:
	(setDot): Fixed paramater to Math.max to be this.dot and not the 
	parameter dot.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getCellHeight): New helper method.
	(getCellBounds): Use new helper method for determining the cell
	height.
	(paint): Don't call list.indexToLocation() but instead call
	directly into the same UI method.
	(locationToIndex): Fixed calculation of # visible rows and handling
	of cell heights.
	(indexToLocation): Fixed calculation of # visible rows and handling
	of cell heights.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(createList): Set VERTICAL_SCROLLBAR_NEVER mode on the JScrollPane
	in the file chooser.

2006-01-05  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/JTextPane.java:
	(replaceSelection): If the document is an AbstractDocument, use replace
	rather than remove and insert.
	* javax/swing/event/EventListenerList.java:
	(getListeners): Reversed the order of the listeners to match the 
	reference implementation.
	* javax/swing/text/AbstractDocument.java:
	(insertString): Add the UndoableEdit from the content.insertString call
	to the DocumentEvent.
	(DefaultDocumentEvent.toString): Implemented.
	* javax/swing/text/DefaultCaret.java:
	(setDot): Make sure dot is > 0 and less than the length of the 
	document.
	* javax/swing/text/DefaultStyledDocument.java:
	(ElementBuffer.insertUpdate): Set the modified tag of the document 
	event when we get start and end tags.  This ensures that we create the
	proper BranchElements in endEdit().
	(ElementBuffer.insertUpdate): Added FIXME to handle 
	JoinFractureDirection case.
	(insertUpdate): Added code to check if we're inserting immediately 
	after a newline and to handle this case (create start and end tags). 
	Only change the direction of the first and last tags if they are of 
	type ContentType.
	(checkForInsertAfterNewline): New helper method.
	(handleInsertAfterNewline): Likewise.
	* javax/swing/text/View.java:
	(updateLayout): Avoid NPE by checking if shape is null.  Repaint 
	container.

2006-01-05  Mark Wielaard  <mark@klomp.org>

	* newsitems.txt: Add fosdem meeting.
	* events/events.wml: Likewise.
	* events/fosdem06.wml: New file.
	
2006-01-05  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/text/GapContent.java
	(createPosition): No positions should be created inside the
	gap. Fixed check to ensure this does not happen.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/RepaintManager.java
	(validateInvalidComponents): Search for the validate root
	and start validating there.

2006-01-05  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(ComponentHandler): Removed unneeded class.
	(ListDataHandler.contentsChanged): Revalidate instead of calling
	damageLayout().
	(ListDataHandler.intervalAdded): Revalidate instead of calling
	damageLayout().
	(ListDataHandler.intervalRemoved): Revalidate instead of calling
	damageLayout().
	(PropertyChangeHandler.propertyChange): Or flags together instead
	of adding them. Don't call damageLayout().
	(componentListener): Removed unnecessary field.
	(damageLayout): Removed unnecessary method.
	(installListeners): Don't install unnecessary listeners.
	(uninstallListeners): Dito.
	(getPreferredSize): Don't ask for the real list height and
	calculate with the previously calculated list height.
	(locationToIndex): Renamed list parameter to l so that it doesn't
	shadow the field with the same name.
	(indexToLocation): Renamed list parameter to l so that it doesn't
	shadow the field with the same name.

2006-01-04  Tom Tromey  <tromey@redhat.com>

	* include/.cvsignore: Ignore config-int.h.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getPreferredSize): Rewritten to match the specs.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/JFileChooser.java
	(showOpenDialog): Set fixed width on the dialog.
	(showSaveDialog): Set fixed width on the dialog.
	(showDialog): Set fixed width on the dialog.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Added FIXME about getVisibleRowCount() usage.
	Adjusted iteration to not use visibleRowCount and instead iterate
	over the real number of elements in cellHeights.
	(indexToLocation): Added FIXME about getVisibleRowCount() usage.
	Adjusted iteration to not use visibleRowCount and instead iterate
	over the real number of elements in cellHeights.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c,
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	Added __attribute__((__unused__)) macros to avoid gcc warnings.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* vm/reference/gnu/java/net/VMPlainSocketImpl.java: New VM class.
	* vm/reference/gnu/java/net/VMPlainDatagramSocketImpl.java:
	New VM class.
	* native/jni/java-net/gnu_java_net_VMPlainSocketImpl.c: New file.
	* native/jni/java-net/gnu_java_net_VMPlainDatagramSocketImpl.c:
	New file.
	* native/jni/java-net/gnu_java_net_PlainDatagramSocketImpl.c:
	Removed.
	* native/jni/java-net/gnu_java_net_PlainSocketImpl.c: Removed.
	* native/jni/java-net/Makefile.am: Adjusted for new source files.
	* gnu/java/net/PlainDatagramSocketImpl.java: Use new VM interface.
	* gnu/java/net/PlainSocketImpl.java: Use new VM interface.
	* include/gnu_java_net_PlainDatagramSocketImpl.h: Removed.
	* include/gnu_java_net_PlainSocketImpl.h: Removed.
	* include/gnu_java_net_VMPlainDatagramSocketImpl.h: New header file.
	* include/gnu_java_net_VMPlainSocketImpl.h: New header file.

2006-01-04  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(propertyChange): Fixed to change the combo box label
	appropriately. Also, fixed to set the textfield's text
	correctly.
	(editFile): Fixed size of editing field.
	(installComponents): Correctly aligned all panels.
	(installStrings): Fixed to set the label's text
	appropriately depending on the dialog type.

2006-01-04  Lillian Angel  <langel@redhat.com>

	PR classpath/25473 
	PR classpath/25479
	* javax/swing/JTree.java
	(JTree): Because some L&F defaults have been updated,
	the selectionMode for the tree needed to be set to SINGLE.
	* javax/swing/plaf/basic/BasicFileChooserUI.java:
	Initialized accessoryPanel.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(installComponents): Added accessoryPanel to the filechooser.

2006-01-04  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Added AX_CREATE_STDINT_H

	* include/Makefile.am (DISTCLEANFILES): Remove config-int.h.

	* m4/ax_create_stdint_h.m4: New file.

	* native/fdlibm/mprec.h: Include config-int.h. Removed C99
	typedefs. Removed stdint.h and inttypes.h includes.
 
2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JMenuItem.java (configurePropertiesFromAction): Only
	register keyboard action when accelerator is not null.
	* javax/swing/plaf/basic/BasicMenuItemUI.java (propertyChange): Only
	re-register accelerator if not null.
	(installKeyboardActions): Only put accelerator in map when not null.

2006-01-04  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Removed unneeded default.
	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added and fixed several defaults.

2006-01-04  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicHTML.java: New class.

2006-01-03  Tom Tromey  <tromey@redhat.com>

	* java/io/OutputStreamWriter.java (OutputStreamWriter): Added @since.
	* java/io/InputStreamReader.java (InputStreamReader): Added @since.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* org/omg/CORBA/INVALID_ACTIVITY.java: Remove non-ascii characters.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java (MetalLookAndFeel):
	Always call createDefaultTheme().
	(createDefaultTheme): Check whether theme is still null.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java (setBackground): Set to
	Color.WHITE if null.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getDescription): Fixed to return the correct string.
	(getID): Likewise.
	(getName): Likewise.
	(getDefaults): Added check to avoid NPE.
	(getAcceleratorForeground): Likewise.
	(getAcceleratorSelectedForeground): Likewise.
	(getBlack): Likewise.
	(getControl): Likewise.
	(getControlDarkShadow): Likewise.
	(getControlDisabled): Likewise.
	(getControlHighlight): Likewise.
	(getControlInfo): Likewise.
	(getControlShadow): Likewise.
	(getControlTextColor): Likewise.
	(getControlTextFont): Likewise.
	(getDesktopColor): Likewise.
	(getFocusColor): Likewise.
	(getHighlightedTextColor): Likewise.
	(getInactiveControlTextColor): Likewise.
	(getInactiveSystemTextColor): Likewise.
	(getMenuBackground): Likewise.
	(getMenuDisabledForeground): Likewise.
	(getMenuForeground): Likewise.
	(getMenuSelectedBackground): Likewise.
	(getMenuSelectedForeground): Likewise.
	(getMenuTextFont): Likewise.
	(getPrimaryControl): Likewise.
	(getPrimaryControlDarkShadow): Likewise.
	(getPrimaryControlHighlight): Likewise.
	(getPrimaryControlInfo): Likewise.
	(getPrimaryControlShadow): Likewise.
	(getSeparatorBackground): Likewise.
	(getSeparatorForeground): Likewise.
	(getSubTextFont): Likewise.
	(getSystemTextColor): Likewise.
	(getSystemTextFont): Likewise.
	(getTextHighlightColor): Likewise.
	(getUserTextColor): Likewise.
	(getUserTextFont): Likewise.
	(getWhite): Likewise.
	(getWindowBackground): Likewise.
	(getWindowTitleBackground): Likewise.
	(getWindowTitleFont): Likewise.
	(getWindowTitleForeground): Likewise.
	(getWindowTitleInactiveBackground): Likewise.
	(getWindowTitleInactiveForeground): Likewise.

2006-01-03  Mark Wielaard  <mark@klomp.org>

	* javax/swing/JTextArea.java
	(JTextArea(Document,text,int,int)): Only call setText() when text is
	not null.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(installStrings): Fixed installation of defaults that
	were changed in BasicLookAndFeel.
	* javax/swing/plaf/basic/BasicTabbedPaneUI.java
	(installDefaults): Fixed installation of defaults that
	were changed in BasicLookAndFeel.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Fixed several defaults that differed
	from the JDK.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/tree/DefaultTreeSelectionModel.java
	(DefaultTreeSelectionModel): Default should be DISCONTIGUOUS_TREE_SELECTION.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/AbstractAction.java
	(AbstractAction): Fixed to pass in null. Should not be 
	an empty string. Removed TODO comment.
	(AbstractAction): Removed TODO comment.
	* javax/swing/JList.java
	(init): Default selection mode should be MULTIPLE_INTERVAL_SELECTION.
	* javax/swing/JMenuItem.java
	(JMenuItem): Set all defaults if the action passed in is not null.
	* javax/swing/JProgressBar.java
	(JProgressBar): Added check to prevent NPE.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(getPreferredSize): The JDK adds some extra space to 
	the list, so we should as well.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(getPreferredSize): Should only take the fileListPanel's
	width into account when getting the size. Also, the buttonPanel's
	size should not be checked, since it is in the bottomPanel already.
	(getMinimumSize): Likewise.

2006-01-03  Lillian Angel  <langel@redhat.com>

	* javax/swing/JList.java
	(init): visibleRowCount should be 7, like the JDK.
	* javax/swing/plaf/metal/MetalFileChooserUI.java
	(installComponents): No need to add the fileFilterCombo
	to a panel. It can be added to the row directly.

2006-01-03  Lillian Angel  <langel@redhat.com>
	
	PR classpath/25480 PR classpath/25478
	* javax/swing/plaf/basic/BasicScrollPaneUI.java
	(updateViewport): Made changes suggested by
	Chris Lansdown.
	* javax/swing/plaf/metal/MetalFileChooserUI.java:
	Removed unneeded import.
	(createList): Removed comment, JList wrapping 
	now works.
	(getPreferredSize): Made changes suggested by
	Chris Lansdown. Uses fileListPanel, instead
	of fileList.
	(getMinimumSize): Uses fileListPanel, instead
	of fileList.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java
	(paintFocus): Fixed height.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Added check to avoid ArrayOutOfBoundsException.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/plaf/basic/BasicListUI.java
	(locationToIndex): Special case for when variable cell heights
	are possible. (cellHeights is used instead of cellHeight).
	(indexToLocation): Special case for when variable cell heights
	are possible. (cellHeights is used instead of cellHeight).

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* javax/swing/text/DefaultStyledDocument.java
	(ElementBuffer.remove): New method.
	(ElementBuffer.removeUpdate): New method.
	(removeUpdate): New method.

2006-01-03  Roman Kennke  <kennke@aicas.com>

	* lib/Makefile.am:
	(dist-hook): Preserve attributes of Java sources when copying to
	dist dir.

2006-01-03  Raif S. Naffah  <raif@swiftdsl.com.au>

	* AUTHORS: Added self.
	* java/security/Security.java (getProvider): Ensures provider's name is
	  not null, not an empty string, and is trimmed before usage.

2006-01-01  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Poa/AOM.java (add):
	Changed parameter Object into gnuServantObject.
	(Obj.object): Changed type to gnuServantObject.
	(findObject): Rewritten.

2006-01-01  Andreas Tobler  <a.tobler@schweiz.ch>

	* native/jni/qt-peer/mainqtthread.cpp: Remove call to disable double
	buffering. Ability has gone in Qt-4.1.x.

	* configure.ac (QT_CFLAGS): Check for 4.1.0 version and for QtCore
	to have the right include flags.

2006-01-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/security/MessageDigest.java (getInstance(String,String)):
	Use trimmed copy of provider name.
	* gnu/java/security/Engine.java
	(getInstance(String,String,Provider,Object[])): Use trimmed copy of
	service and algorithm names.

2006-01-01  Raif S. Naffah  <raif@swiftdsl.com.au>

	* java/net/InetAddress.java (getAllByName): use LOCALHOST if
	localhost is null or is an empty string. Trim hostname before
	lookup.


Local Variables:
coding: iso-latin-1-unix	
End:
