2005-08-31  Andreas Tobler  <a.tobler@schweiz.ch>

       * kaffe/kaffevm/classMethod.c
	(resolveStaticFields): Change index to unsigned.
	(computeInterfaceImplementationIndex): Change i to unsigned.

	* kaffe/kaffevm/string.c: Change argument type for stringHashValue to
	avoid compiler warnings.

	* libraries/clib/net/PlainDatagramSocketImpl.c
	(gnu_java_net_PlainDatagramSocketImpl_socketSetOption): Changed k to
	unsigned to avoid compiler warnings.
	(gnu_java_net_PlainDatagramSocketImpl_socketGetOption): Likewise.

	* replace/getaddrinfo.c: Change prototype for itoa_length to unsigned
	int.

2005-08-27  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/clib/target/Linux/target_native_file.h
	(TARGET_NATIVE_FILE_AVAILABLE): Return length=0 if fstat for the
	file is successful but the file is not a regular file.

2005-08-27  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-26  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicCheckBoxUI.java
        (installUI): removed,
        * javax/swing/plaf/basic/BasicIconFactory.java
        (CheckBoxMenuItemIcon): new support class,
        (getCheckBoxMenuItemIcon): return instance of CheckBoxMenuItemIcon,
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): changed value for 'CheckBoxMenuItem.checkIcon'
        and removed entry for 'CheckBoxMenuItem.icon',
        * javax/swing/plaf/basic/BasicMenuItemUI.java
        (paintMenuItem): let icon handle selection status,
        * javax/swing/plaf/metal/MetalIconFactory.java
        (CheckBoxMenuItemIcon): new support class,
        (getCheckBoxIcon): implemented,
        (getCheckBoxMenuItemIcon): implemented,
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): added entry for 'CheckBoxMenuItem.checkIcon'.

	2005-08-26  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFileDialogPeer.c
        (create): Only set overwrite confirmation if using GTK >= 2.8.

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
        (setVisibleNative): Call gdk_flush before releasing GDK lock.
        (setVisibleNativeUnlocked): Don't call gdk_flush.

	2005-08-26  Thomas Fitzsimmons  <fitzsim@redhat.com>

        PR classpath/21660:
        * gnu/java/awt/peer/gtk/GtkFileDialogPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFileDialogPeer.c
        (AWT_FILEDIALOG_LOAD): New macro.
        (AWT_FILEDIALOG_SAVE): Likewise.
        (create(GtkContainerPeer,int)): Add mode parameter.  Create Save
        dialog if mode is AWT_FILEDIALOG_SAVE.  Remove workaround for
        http://bugzilla.gnome.org/show_bug.cgi?id=166852.
        (create()): Add mode argument to create call.
        * gnu/java/awt/peer/gtk/GtkWindowPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
        (setVisibleNative): Override method.
        (setVisibleNativeUnlocked): Override method.  Call gdk_flush after
        showing or hiding window.
        * include/gnu_java_awt_peer_gtk_GtkFileDialogPeer.h: Regenerate.
        * include/gnu_java_awt_peer_gtk_GtkWindowPeer.h: Regenerate.

	2005-08-25  Mark Wielaard  <mark@klomp.org>

        * timezones.pl (parseRule): Add dayoffset when $time represents
        more then a day.
        * java/util/TimeZone.java (timezones): Regenerate.

	2005-08-25  Mark Wielaard  <mark@klomp.org>

        Reported by Bastiaan Huisman <huisman@science.uva.nl>
        * scripts/tzabbrevs: Change America/Buenos_Aires to
        America/Argentina/Buenos_Aires for AGT link.
        * timezones.pl (parseTime): Assume and return wall time.
        Reindent output.
        * java/util/TimeZone.java (timezones): Regenerate using tzdata2005l.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextPane.java
        (JTextPane()): Don't set the document to null here.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java
        (RootView.preferenceChanged): Revalidate the text component.
        (RootView.setParent): Set parent of views to null. The parent
        of the added child view is set to the root view in the
        BasicTextUI class.
        (RootView.getView): Implemented new method.
        (RootView.getViewCount): Implemented new method.
        (RootView.changedUpdate): Use the correct ViewFactory here.
        (RootView.insertUpdate): Use the correct ViewFactory here.
        (RootView.removeUpdate): Use the correct ViewFactory here.
        (setView): Set the view's parent to the root view.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/View.java
        (View): Don't manage child views here.
        (getContainer): Throw AssertionError if we have no parent. This
        should not happen.
        (append): Call replace to do the real action. Child views
        are not managed in the View class itself.
        (removeAll): Give replace an empty array instead of null.
        Avoids NPEs in subclasses that don't handle the null case.
        (preferenceChanged): Don't revalidate here. This is too
        expensive and not necessary.
        (updateChildren): Let replace do the actual action. We don't
        manage child views in the View class.
        (forwardUpdate): Don't access children directly.
        (dump): Added package private methods useful for debugging.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/StyledEditorKit.java
        (StyledViewFactory.create): Use new BoxView constructor. Throw
        AssertionError if an unknown element type is encountered,
        since this should not happen.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GlyphView.java
        (GlyphPainter): Implemented abstract inner class.
        (DefaultGlyphPainter): Implemented concrete impl of
        GlyphPainter.
        (getGlyphPainter): Implemented new method.
        (setGlyphPainter): Likewise.
        (checkPainter): Likewise.
        (paint): Likewise.
        (getPreferredSpan): Likewise.
        (modelToView): Likewise.
        (getTabExpander): Likewise.
        (getTabbedSpan): Likewise.
        (getPartialSpan): Likewise.
        (getBeginIndex): Likewise.
        (getEndIndex): Likewise.
        (getText): Likewise.
        (getFont): Likewise.
        (getForeground): Likewise.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java
        (getString): Throw BadLocationException instead of letting
        a StringIndexOutOfBoundsException bubble up.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/ParagraphView.java
        (Row): Implemented inner class.
        (ParagraphView(Element)): Implemented constructor.
        (nextTabStop): Added dummy implementation for TabExpander
        interface.
        (createRow): Implemented new method.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/FlowView.java
        (FlowStrategy): Implemented inner class.
        (LogicalView): Likewise.
        (FlowView(Element, int)): Implemented constructor.
        (getFlowAxis): Implemented new method.
        (getFlowSpan): Likewise.
        (getFlowStart): Likewise.
        (createRow): Added new abstract method.
        (loadChildren): Implemented new method.
        (layout): Implemented new method.
        (insertUpdate): Implemented new method.
        (removeUpdate): Implemented new method.
        (changedUpdate): Implemented new method.
        (getViewIndexAtPosition): Implemented new method.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/CompositeView.java
        (loadChildren): Call replace to actually change the child
        elements. This way subclasses can modify the child
        management behaviour by simply overriding replace.
        (setParent): Only call loadChildren if the parent to be set
        is actually not null.
        (replace): Check for null children. Set the parent of removed
        children to null. Set the parent of the added children to
        this.
        (modelToView): Added some sanity checks.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/BoxView.java
        (BoxView(Element, int)): Implemented.
        (getAxis): Likewise.
        (setAxis): Likewise.
        (layoutChanged): Likewise.
        (isLayoutValid): Likewise.
        (paintChild): Likewise.
        (replace): Likewise.
        (paint): Likewise.
        (getPreferredSpan): Likewise.
        (getMaximumSpan): Likewise.
        (baselineRequirements): Likewise.
        (calculateMajorAxisRequirements): Likewise.
        (calculateMinorAxisRequirements): Likewise.
        (isBefore): Likewise.
        (isAfter): Likewise.
        (getViewAtPoint): Likewise.
        (childAllocation): Likewise.
        (layout): Likewise.
        (layoutMajorAxis): Likewise.
        (layoutMinorAxis): Likewise.
        (isAllocationValid): Likewise.
        (getWidth): Likewise.
        (getHeight): Likewise.
        (setSize): Likewise.
        (validateLayout): Likewise.

	2005-08-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java
        (AbstractElement.dumpElement): Throw AssertionError when
        a BadLocationException is encountered.
        (BranchElement.getElementIndex): Return -1 if there is no child
        element. Return elementCount - 1 if the requested offset is after
        the child elements of that element.
        (BranchElement.getEndOffset): Throw NPE if this element has no
        children.
        (BranchElement.getStartOffset): Throw NPE if this element has
        no children.
        (DefaultDocumentEvent.addEdit): Implemented.
        (DefaultDocumentEvent.getChange): Implemented.

	2005-08-25  Lillian Angel  <langel@redhat.com>

        * javax/swing/JPasswordField.java
        (setText): Changed to raise an AssertionError when a
        BadLocationException is caught.

	2005-08-25  Mark Wielaard  <mark@klomp.org>

        * javax/xml/namespace/QName.java: Updated boilerplate address.
        * gnu/xml/xpath/XPathParser.y: Likewise.
        * gnu/xml/xpath/XPathParser.java: Regenerated.

	2005-08-25  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/xml/datatype/DatatypeFactory.java: minor API doc fixes,
        * javax/xml/parsers/DocumentBuilder.java: likewise,
        * javax/xml/parsers/SAXParser.java: likewise,
        * javax/xml/transform/Source.java: likewise.

	2005-08-25  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/tree/DefaultTreeModel.java
        (nodesWereRemoved): minor API doc fix.

	2005-08-25  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        (activeBGColor): removed,
        (activeFGColor): removed,
        (inactiveBGColor): removed,
        (inactiveFGColor): removed,
        (installDefaults): replaced removed fields above with correct ones,
        (uninstallDefaults): likewise,
        (setButtonIcons): implemented,
        (paintComponent): replaced removed fields above with correct ones;
        * javax/swing/plaf/metal/MetalInternalFrameTitlePane.java: implemented,
        * javax/swing/plaf/metal/MetalInternalFrameUI.java
        (createNorthPane): implemented,
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): added internal frame icons.

2005-08-27  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java
	Set java.class.version to 48.0 for Maven 2.

	Reported by :  Trygve Laugstoel <trygvis@inamo.no>

2005-08-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-25  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/ClasspathToolkit.java (getFont): Throw
        RuntimeException in case of error.
        * gnu/java/awt/EmbeddedWindow.java (addNotify): Likewise.

	2005-08-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c
        (beginNativeRepaintID): Remove variable.
        (endNativeRepaintID): Likewise.
        (cp_gtk_button_init_jni): Don't look up beginNativeRepaint and
        endNativeRepaint methods.
        * gnu/java/awt/peer/gtk/GtkFramePeer.java (resizing): Remove
        field.
        * gnu/java/awt/peer/gtk/GtkWindowPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
        (resizing): Remove field.
        * gnu/java/awt/peer/gtk/GtkFileDialogPeer.java (hiding): Remove
        field.
        (setVisible): Don't override.
        * gnu/java/awt/peer/gtk/GtkChoicePeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkChoicePeer.c
        (selectNative): New method.
        (selectNativeUnlocked): Likewise.
        (select): Call setNativeUnlocked if in the GTK main thread,
        selectNative otherwise.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c
        (gtkWidgetSetCursorUnlocked): New method.
        (setCursor(Cursor)): Call gtkWidgetSetCursorUnlocked if in the GTK
        main thread, gtkWidgetSetCursor otherwise.
        (setVisibleNative): New method.
        (setVisibleNativeUnlocked): Likewise.
        (setVisible): Call setVisibleNativeUnlocked if in the GTK main
        thread, setVisibleNative otherwise.
        (hide): Call setVisible(false).
        (show): Call setVisible(true).

	2005-08-24  Tom Tromey  <tromey@redhat.com>

        * java/text/SimpleDateFormat.java (compileFormat): Correctly
        handle quoted single quotes.  PR classpath/23183.

	2005-08-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalIconFactory.java
        (InternalFrameCloseIcon): new private class,
        (InternalFrameAltMaximizeIcon): likewise,
        (InternalFrameMaximizeIcon): likewise,
        (InternalFrameMinimizeIcon): likewise,
        (getInternalFrameCloseIcon): implemented,
        (getInternalFrameMaximizeIcon): implemented,
        (getInternalFrameMinimizeIcon): implemented,
        (getInternalFrameAltMaximizeIcon): implemented.

	2005-08-24  Mark Wielaard  <mark@klomp.org>

        * gnu/CORBA/ForwardRequestHelper.java: Update copyright boilerplate
        address.
        * javax/xml/namespace/QName.java: Likewise.
        * org/omg/DynamicAny/_DynAnyFactoryStub.java: Likewise.
        * org/omg/DynamicAny/_DynAnyStub.java: Likewise.
        * org/omg/DynamicAny/_DynArrayStub.java: Likewise.
        * org/omg/DynamicAny/_DynEnumStub.java: Likewise.
        * org/omg/DynamicAny/_DynFixedStub.java: Likewise.
        * org/omg/DynamicAny/_DynSequenceStub.java: Likewise.
        * org/omg/DynamicAny/_DynStructStub.java: Likewise.
        * org/omg/DynamicAny/_DynUnionStub.java: Likewise.
        * org/omg/DynamicAny/_DynValueStub.java: Likewise.
        * org/omg/PortableServer/ForwardRequest.java: Likewise.
        * org/omg/PortableServer/CurrentHelper.java: Likewise.
        * org/omg/PortableServer/ForwardRequestHelper.java: Likewise.
        * org/omg/PortableServer/ServantActivatorHelper.java: Likewise.
        * org/omg/PortableServer/ServantLocatorHelper.java: Likewise.
        * org/omg/PortableServer/_ServantActivatorStub.java: Likewise.
        * org/omg/PortableServer/_ServantLocatorStub.java: Likewise.

	2005-08-24  Lillian Angel  <langel@redhat.com>

        * javax/swing/DefaultCellEditor.java
        (isCellEditable): Reversed last changes.

	2005-08-24  Lillian Angel  <langel@redhat.com>

        * javax/swing/DefaultCellEditor.java
        (isCellEditable): If the event is null, the cell is still
        editable.
        * javax/swing/plaf/basic/BasicTextUI.java
        (getVisibleEditorRect): Use getPreferredSize to get the width
        and height.
        * javax/swing/tree/DefaultTreeCellEditor.java
        (paint): Fixed to paint the JTextField with the background
        and border at the correct location.
        (DefaultTreeCellEditor): Changed to initialize realEditor.
        (configureEditingComponent): Helper function implemented.
        (getTreeCellEditorComponent): Fixed to use realEditor to get component.
        (isCellEditable): Fixed to configure editing component.
        (shouldSelectCell): Always returns true.
        (stopCellEditing): Fixed to configure editing component if needed.
        (cancelCellEditing): Fixed to configure editing component if needed.
        (createTreeCellEditor): Fixed to initialize fields.

	2005-08-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicInternalFrameUI.java
        (installDefaults): just fetch border from UIDefaults,
        * javax/swing/plaf/metal/MetalIconFactory.java
        (InternalFrameDefaultMenuIcon): implemented,
        (getInternalFrameDefaultMenuIcon): implemented,
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): add values for "InternalFrame.border" and
        "InternalFrame.icon".

	2005-08-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalBorders.java
        (InternalFrameBorder): implemented.

	2005-08-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicDesktopPaneUI.java
        (installDefaults): set background color using "desktop" color,
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initSystemColorDefaults): removed "Desktop.background" color,
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initSystemColorDefaults): added "desktop" color.

	2005-08-23  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (stopEditing): Implemented.
        (cancelEditing): Implemented.
        (startEditingAtPath): Implemented.
        (getEditingPath): Implemented.
        (createDefaultCellEditor): Implemented.
        (updateCellEditor): Implemented.
        (completeEditing): Implemented.
        (completeEditing): Implemented.
        (startEditing): Implemented.
        (editingStopped): Implemented.
        (editingCanceled): Implemented.
        * javax/swing/tree/DefaultTreeCellEditor.java
        (stopCellEditing): Stopped the timer.
        (cancelCellEditing): Likewise.

	2005-08-23  Lillian Angel  <langel@redhat.com>

        * javax/swing/DefaultCellEditor.java
        (getTreeCellEditorComponent): Implemented cases for JCheckBox
        and JComboBox.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (BasicTreeUI): Moved lines to installUI where the renderer
        and editor are created.
        (installUI): Likewise.
        * javax/swing/tree/DefaultTreeCellEditor.java
        (getPreferredSize): Implemented.
        (DefaultTreeCellEditor): Implemented.
        (DefaultTreeCellEditor): Implemented.
        (getTreeCellEditorComponent): Implemented.
        (getCellEditorValue): Implemented.
        (isCellEditable): Implemented.
        (shouldSelectCell): Implemented.
        (stopCellEditing): Implemented.
        (cancelCellEditing): Implemented.
        (valueChanged): Implemented.
        (actionPerformed): Implemented.
        (shouldStartEditingTimer): Implemented.
        (startEditingTimer): Implemented.
        (canEditImmediately): Implemented.
        (inHitRegion): Implemented.
        (determineOffset): Implemented.
        (prepareForEditing): Implemented.
        (createContainer): Implemented.
        (createTreeCellEditor): Implemented.

	2005-08-23  Tom Tromey  <tromey@redhat.com>

        * java/text/SimpleDateFormat.java (compileFormat): Reformatted.

	2005-08-23  Tom Tromey  <tromey@redhat.com>

        PR classpath/23531
        * java/sql/Date.java (toString): Not deprecated.
        (valueOf): Likewise.
        * java/sql/Time.java (toString): Not deprecated.
        (valueOf): Likewise.

	2005-08-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIManager.java:
        (addAuxiliaryLookAndFeel): renamed field, added check for null
        argument,
        (removeAuxiliaryLookAndFeel): reimplemented,
        (getAuxiliaryLookAndFeels): renamed field,
        (installLookAndFeel): implemented by delegation.

	2005-08-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIManager.java: added API docs all over.

	2005-08-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIManager.java:
        (look_and_feel): renamed currentLookAndFeel,
        (currentUIDefaults): new field,
        (get(Object)): access cached UIDefaults,
        (get(Object, Locale)): likewise,
        (getBoolean(Object)): likewise,
        (getBoolean(Object, Locale)): likewise,
        (getBorder(Object)): likewise,
        (getBorder(Object, Locale)): likewise,
        (getColor(Object)): likewise,
        (getColor(Object, Locale)): likewise,
        (getDefaults): return reference to UIDefaults from current look and
        feel rather than recreating them every time,
        (getDimension(Object)): access local defaults,
        (getDimension(Object, Locale)): likewise,
        (getFont(Object)): likewise,
        (getFont(Object, Locale)): likewise,
        (getIcon(Object)): likewise,
        (getIcon(Object, Locale)): likewise,
        (getInsets(Object)): likewise,
        (getInsets(Object, Locale)): likewise,
        (getInt(Object)): likewise,
        (getInt(Object, Locale)): likewise,
        (getLookAndFeel): renamed attribute,
        (getLookAndFeelDefaults): return reference to UIDefaults from current
        look and feel rather than recreating them every time,
        (getString(Object)): access local defaults,
        (getString(Object, Locale)): likewise,
        (getUI(JComponent)): likewise,
        (installLookAndFeel(String, String)): implemented by delegation,
        (put(Object, Object)): update local defaults,
        (setLookAndFeel): create and retain reference to UIDefaults.

	2005-08-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIManager.java:
        (addPropertyChangeListener): implemented,
        (removePropertyChangeListener): likewise,
        (getPropertyChangeListeners): likewise,
        (setLookAndFeel): fire a property change event.

	2005-08-23  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (BasicTreeUI): Moved these lines to installUI
        because they were causing NullPointerExceptions.
        (installUI): Added code from constructor.
        * javax/swing/plaf/metal/MetalTreeUI.java
        (createUI): Formatted code.

	2005-08-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/event/SwingPropertyChangeSupport.java
        (writeObject): removed empty method,
        (readObject): likewise,
        (getPropertyChangeListeners()): implemented,
        (getPropertyChangeListeners(String)): likewise,
        (hasListeners): return true if there are any general listeners,
        added API docs all over.

	2005-08-23  Mark Wielaard  <mark@klomp.org>

        * native/jni/qt-peer/qttextfieldpeer.cpp
        (Java_gnu_java_awt_peer_qt_QtTextFieldPeer_getCaretPosition): Renamed
        from Java_gnu_java_awt_peer_qt_QtTextFieldPeer_getCaretPositionNative.

        * gnu/java/awt/peer/qt/QtComponentPeer.java (getMinimumSizeNative):
        Removed unused native method.
        (getPreferredSizeNative): Likewise.

	2005-08-23  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/EventQueue.java (getNextEvent): Don't check if this is
        the dispatch thread.

2005-08-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-23  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/qt/QtAudioClip.java
        * gnu/java/awt/peer/qt/QtComponentGraphics.java
        * gnu/java/awt/peer/qt/QtComponentPeer.java
        * gnu/java/awt/peer/qt/QtDialogPeer.java
        * gnu/java/awt/peer/qt/QtFontPeer.java
        * gnu/java/awt/peer/qt/QtFramePeer.java
        * gnu/java/awt/peer/qt/QtGraphics.java
        * gnu/java/awt/peer/qt/QtImage.java
        * gnu/java/awt/peer/qt/QtImageGraphics.java
        * gnu/java/awt/peer/qt/QtLabelPeer.java
        * gnu/java/awt/peer/qt/QtMenuBarPeer.java
        * gnu/java/awt/peer/qt/QtMenuComponentPeer.java
        * gnu/java/awt/peer/qt/QtMenuPeer.java
        * gnu/java/awt/peer/qt/QtPanelPeer.java
        * gnu/java/awt/peer/qt/QtRepaintThread.java
        * gnu/java/awt/peer/qt/QtToolkit.java
        * gnu/java/awt/peer/qt/QtVolatileImage.java
        * include/gnu_java_awt_peer_qt_QtComponentPeer.h
        * include/gnu_java_awt_peer_qt_QtEmbeddedWindowPeer.h
        * include/gnu_java_awt_peer_qt_QtGraphics.h
        * include/gnu_java_awt_peer_qt_QtMenuPeer.h
        * include/gnu_java_awt_peer_qt_QtVolatileImage.h
        * native/jni/qt-peer/componentevent.cpp
        * native/jni/qt-peer/componentevent.h
        * native/jni/qt-peer/eventmethods.h
        * native/jni/qt-peer/keybindings.cpp
        * native/jni/qt-peer/keybindings.h
        * native/jni/qt-peer/qtcomponentpeer.cpp
        * native/jni/qt-peer/qtframepeer.cpp
        * native/jni/qt-peer/qtgraphics.cpp
        * native/jni/qt-peer/qtimage.h
        * native/jni/qt-peer/qtlabelpeer.cpp
        * native/jni/qt-peer/qtmenucomponentpeer.cpp
        * native/jni/qt-peer/qtmenupeer.cpp
        * native/jni/qt-peer/qtscrollpanepeer.cpp
        * native/jni/qt-peer/qttextfieldpeer.cpp
        * native/jni/qt-peer/qtvolatileimage.cpp
        * native/jni/qt-peer/qtwindowpeer.cpp:
        Reindented, minor fixes.
        * gnu/java/awt/peer/qt/QtImageDirectGraphics.java
        New file.

	2005-08-22  Tom Tromey  <tromey@redhat.com>

        * java/net/JarURLConnection.java (getJarEntry): Return null if no
        entry specified.

	2005-08-22  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Added in default border for Tree.
        * javax/swing/tree/DefaultTreeCellRenderer.java:
        Formatting entire class.
        (getPreferredSize): Implemented.

	2005-08-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/event/SwingPropertyChangeSupport.java: reformatted.

	2005-08-22  Mark Wielaard  <mark@klomp.org>

        * javax/swing/ImageIcon.java: Add documentation.

	2005-08-22  Tom Tromey  <tromey@redhat.com>

        * javax/swing/text/LayoutQueue.java: New file.

	2005-08-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIManager.java: fixed error message typo in static
        initialization code.

	2005-08-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/text/AbstractDocument.java: fixed minor API doc problems,
        * javax/swing/text/Caret.java: likewise,
        * javax/swing/text/CompositeView.java: likewise,
        * javax/swing/text/DefaultCaret.java: likewise,
        * javax/swing/text/DefaultEditorKit.java: likewise,
        * javax/swing/text/DefaultStyledDocument.java: likewise,
        * javax/swing/text/ElementIterator.java: likewise,
        * javax/swing/text/GlyphView.java: likewise,
        * javax/swing/text/IconView.java: likewise,
        * javax/swing/text/View.java: likewise.

	2005-08-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/SwingUtilities.java: fixed some minor API doc problems.

	2005-08-22  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gtkpeer.h (cp_gtk_clipboard,
        cp_gtk_stringTarget, cp_gtk_imageTarget, cp_gtk_filesTarget): New
        extern variables.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkSelection.c: New file.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_SOURCES): Add
        gnu_java_awt_peer_gtk_GtkSelection.c.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkClipboard.c: Renames
        clipboard to cp_gtk_clipboard, stringTarget to cp_gtk_stringTarget,
        imageTarget to cp_gtk_imageTarget, filesTarget to cp_gtk_filesTarget,
        cp_gtk_clipboard_owner_change_cb to clipboard_owner_change_cb,
        cp_gtk_clipboard_get_func to clipboard_get_func,
        cp_gtk_clipboard_clear_func to clipboard_clear_func, moved
        GtkSelection native methods to new file.

2005-08-25  Riccardo Mottola  <riccardo@kaffe.org>
        
        * kaffe/kaffe/kaffevm/thread.c : added sys includes for Darwin
        
2005-08-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkSelection.java: Update for new FSF
        address.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * javax/swing/plaf/basic/BasicSplitPaneUI.java
        (KEYBOARD_DIVIDER_MOVE_OFFSET): Initialize with 3.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * javax/swing/ImageIcon.java (getIconHeight): Return -1 if image
        is null.
        (getIconWidth): Likewise.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
        (window_get_frame_extents): If window is not decorated, guess 0,
        0, 0, 0 inset values.

	2005-08-21  Tom Tromey  <tromey@redhat.com>

        * javax/swing/text/AbstractWriter.java (NEWLINE): Now 'final'.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Label.java (setText): Refine text inequality test.

2005-08-24  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in:
	(toolslib_DATA) Moved tools.jar over here to fix
	ant and Maven warnings.

2005-08-24  Dalibor Topic  <robilad@kaffe.org>

	* Makefile.am: (KAFFELIBRARYPATH) Fixed them again
	to work without having GNU findutils.

	Reported by:  Ito Kazumitsu <kaz@maczuka.gcd.org>,
	              Andreas Tobler  <a.tobler@schweiz.ch>

2005-08-22  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/freebsd2/md.c: Include sys/types.h

	Reported by:  Ito Kazumitsu <kaz@maczuka.gcd.org>

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GdkGraphics.java (setClip(Shape)): Clear
        clip when clip == null.
        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (setClip(Shape)):
        Likewise.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Label.java (setText): Invalidate label.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/image/AreaAveragingScaleFilter.java: Add checks for
        consumer != null.
        * java/awt/image/CropImageFilter.java: Likewise.
        * java/awt/image/ImageFilter.java: Likewise.
        * java/awt/image/RGBImageFilter.java: Likewise.
        * java/awt/image/ReplicateScaleFilter.java: Likewise.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GdkPixbufDecoder.java (findFormatName):
        Just return null when ext == null.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/AWTKeyStroke.java (getAWTKeyStroke): Include old-style
        modifiers in returned AWTKeyStroke's modifier mask.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (setStroke): Clear
        dashes if dashes is null.
        (setStrokeUnlocked): Likewise.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Window.java (getMostRecentFocusOwner): New method.

	2005-08-20  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/qt/MainQtThread.java
        * gnu/java/awt/peer/qt/QtComponentGraphics.java
        * gnu/java/awt/peer/qt/QtComponentPeer.java
        * gnu/java/awt/peer/qt/QtEmbeddedWindowPeer.java
        * gnu/java/awt/peer/qt/QtFramePeer.java
        * gnu/java/awt/peer/qt/QtImage.java
        * gnu/java/awt/peer/qt/QtListPeer.java
        * gnu/java/awt/peer/qt/QtScreenDeviceConfiguration.java
        * gnu/java/awt/peer/qt/QtToolkit.java
        * native/jni/qt-peer/componentevent.cpp
        * native/jni/qt-peer/componentevent.h
        * native/jni/qt-peer/eventmethods.h
        * native/jni/qt-peer/mainqtthread.cpp
        * native/jni/qt-peer/mainthreadinterface.cpp
        * native/jni/qt-peer/mainthreadinterface.h
        * native/jni/qt-peer/qtcomponentpeer.cpp
        * native/jni/qt-peer/qtframepeer.cpp
        * native/jni/qt-peer/qtgraphics.cpp
        Refactored.
        * gnu/java/awt/peer/qt/QtRepaintThread.java:
        New file.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-19  Tom Tromey  <tromey@redhat.com>

        * javax/swing/tree/DefaultTreeCellEditor.java: Removed erroneous
        import.

	2005-08-19  Tom Tromey  <tromey@redhat.com>

        * javax/swing/text/AbstractWriter.java: New file.
        * javax/swing/text/ElementIterator.java: New file.

	2005-08-19  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getCellBounds): No need to call getFont twice. This
        is fixed.
        * javax/swing/tree/DefaultTreeCellEditor.java:
        Added API documentation for all fields.
        (getPreferredSize): Implemented.
        (paint): Implemented.
        (doLayout): Implemented.
        (getFont): Implemented.
        (getPreferredSize): Implemented.
        (DefaultTreeCellEditor): Partially implemented.
        (DefaultTreeCellEditor): Partially implemented.
        (setBorderSelectionColor): Implemented.
        (getBorderSelectionColor): Implemented.
        (setFont): Implemented.
        (getFont): Implemented.
        (getTreeCellEditorComponent): Added API documentation.
        (getCellEditorValue): Added API documentation.
        (isCellEditable): Added API documentation.
        (shouldSelectCell): Added API documentation.
        (stopCellEditing): Added API documentation.
        (cancelCellEditing): Added API documentation.
        (valueChanged): Added API documentation.
        (actionPerformed): Added API documentation.
        (setTree): Implemented.
        (shouldStartEditingTimer): Added API documentation.
        (startEditingTimer): Added API documentation.
        (canEditImmediately): Added API documentation.
        (inHitRegion): Added API documentation.
        (determineOffset): Added API documentation.
        (prepareForEditing): Added API documentation.
        (createContainer): Added API documentation.
        (createTreeCellEditor): Added API documentation.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gtk_jawt.c
        (classpath_jawt_get_default_display): Remove locking.
        (classpath_jawt_get_visualID): Likewise.
        (classpath_jawt_get_drawable): Likewise.
        (classpath_jawt_object_lock): Remove function.
        (classpath_jawt_object_unlock): Likewise.
        (classpath_jawt_create_lock): Likewise.
        (classpath_jawt_destroy_lock): Likewise.
        * native/jni/classpath/classpath_jawt.h
        (classpath_jawt_object_lock): Remove function.
        (classpath_jawt_object_unlock): Likewise.
        (classpath_jawt_create_lock): Likewise.
        (classpath_jawt_destroy_lock): Likewise.
        * native/jawt/jawt.c [!__GNUC__] (__attribute__): Define to
        nothing.
        (_Jv_Lock): Call classpath_jawt_lock.
        (_Jv_Unlock): Call classpath_jawt_unlock.
        (_Jv_GetDrawingSurfaceInfo): Move surface_info_x11 initialization
        from ...
        (_Jv_GetDrawingSurface): Remove surface_info_x11 initialization.
        (_Jv_FreeDrawingSurface): Don't destroy target object.
        * include/jawt_md.h (struct _JAWT_X11DrawingSurfaceInfo): Re-order
        display field.  Add colour map, depth and GetAWTColor function
        pointer fields.
        * include/jawt.h (struct _JAWT_Rectangle): New structure.
        (struct _JAWT_DrawingSurfaceInfo): Add drawing surface, bounds,
        clip size and clipping rectangle fields.
        (struct _JAWT_DrawingSurface): Add env field.  Rename lock field
        target.  Re-order function pointer and lock fields.  Remove
        surface_info field.
        (struct _JAWT): Add GetComponent function pointer field.

	2005-08-19  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * include/jawt.h: Import from libgcj.
        * include/jawt_md.h: Likewise.
        * native/jawt/jawt.c: Import from libgcj.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-19  Lillian Angel  <langel@redhat.com>

        * javax/swing/tree/DefaultTreeModel.java
        (setAsksAllowsChildren): Removed comment, unneeded.
        (setRoot): Formatting.
        (getIndexOfChild): Formatting.
        (reload): Added API documentation.
        (reload): Likewise.
        (valueForPathChanged): Implemented.
        (insertNodeInto): Implemented.
        (removeNodeFromParent): Implemented.
        (nodeChanged): Implemented.
        (nodesWereInserted): Implemented.
        (nodesWereRemoved): Implemented.
        (nodesChanged): Implemented.
        (nodeStructureChanged): Added API documentation.
        (getPathToRoot): Implemented.
        (getPathToRoot): Implemented.
        (fireTreeNodesChanged): Added API documentation.

	2005-08-19  Roman Kennke  <roman@kennke.org>

        * java/awt/image/DirectColorModel.java
        (createCompatibleWritableRaster): Added API documentation.

	2005-08-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Font.java (Font(String,Map)): Make package private.
        * gnu/java/awt/ClasspathToolkit.java (getFont): Access
        package-private Font.Font(String,Map) constructor using
        reflection.

	2005-08-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/GLightweightPeer.java,
        gnu/java/awt/peer/gtk/GtkComponentPeer.java,
        gnu/java/awt/peer/gtk/GtkContainerPeer.java,
        gnu/java/awt/peer/gtk/GtkFramePeer.java,
        gnu/java/awt/peer/gtk/GtkMenuComponentPeer.java,
        gnu/java/awt/peer/gtk/GtkTextAreaPeer.java,
        gnu/java/awt/peer/gtk/GtkTextFieldPeer.java,
        gnu/java/awt/peer/gtk/GtkToolkit.java,
        gnu/java/awt/peer/gtk/GtkWindowPeer.java,
        gnu/java/awt/peer/qt/QtComponentPeer.java,
        gnu/java/awt/peer/qt/QtContainerPeer.java,
        gnu/java/awt/peer/qt/QtFramePeer.java,
        gnu/java/awt/peer/qt/QtMenuComponentPeer.java,
        gnu/java/awt/peer/qt/QtScreenDeviceConfiguration.java,
        gnu/java/awt/peer/qt/QtTextAreaPeer.java,
        gnu/java/awt/peer/qt/QtTextFieldPeer.java,
        gnu/java/awt/peer/qt/QtWindowPeer.java,
        java/awt/peer/ComponentPeer.java,
        java/awt/peer/ContainerPeer.java, java/awt/peer/FramePeer.java,
        java/awt/peer/MenuComponentPeer.java,
        java/awt/peer/TextComponentPeer.java,
        java/awt/peer/WindowPeer.java: Add new 1.5 methods.
        * java/awt/Window.java (Window()): Initialize
        graphicsConfiguration.
        * java/awt/GraphicsConfiguration.java
        (createCompatibleVolatileImage(int,int,int)): New method.
        * java/awt/Font.java (Font(String,Map)): Add FIXME.
        * gnu/java/awt/peer/gtk/GtkToolkit.java
        (getLocalGraphicsEnvironment): Call new constructor.
        * gnu/java/awt/peer/gtk/GdkScreenGraphicsDevice.java (getToolkit):
        Remove method.
        * gnu/java/awt/peer/gtk/GdkGraphicsEnvironment.java
        (GdkGraphicsEnvironment(GtkToolkit)): Remove method.
        (GdkGraphicsEnvironment()): New constructor.
        (getToolkit): Remove method.
        * gnu/java/awt/peer/gtk/GdkGraphicsConfiguration.java
        (getToolkit): Remove method.
        (createCompatibleVolatileImage): New method.
        * gnu/java/awt/ClasspathToolkit.java (getFont): Add FIXME.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	Fixed Eclipse 3.1 startup.

	* Makefile.am (BUILD_ENVIRONMENT) Adapted LD_LIBRARY_PATH to
	make sure libraries are looked up in the right directory in 
	regression test cases.

	* configure.ac: Check for shared library extension name.

	* kaffe/kaffevm/external.c: Include config.h.
	(initNative): Print full library name.

	* libraries/clib/native/Runtime.c (LIBRARYSUFFIX) Set to
	LTDL_SHLIB_EXT. 

	* test/jni/Makefile.am: (TESTS_ENVIRONMENT) Make sure the 
	native libraries are looked up in the right directory.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/lang/Runtime.java: 
	(loadLibrary) Add class loader to error message.
	
2005-08-21  Dalibor Topic  <robilad@kaffe.org>
	
	* kaffe/kaffevm/gcFuncs.c (destroyClass): 
	Made idx unsigned to fix compiler warnings.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/classMethod.h: (Hjava_lang_Class):
	Made msize unsigned to fix compiler warning.

2005-08-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-mem.c (gc_block_alloc): 
	Made min_nb unsigned to fix compiler warning.
	
2005-08-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/gc.h: Include config.h and limits.h.
	(UNLIMITED_HEAP) Set to MAX_ULONG to fix signedness warnings.

	* kaffe/kaffe/version.c (printShortVersion): Use
	%lu for MAXHEAPSIZE.

2005-08-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-mem.c (gc_heap_is_unlimited):
	New static function.
	(gc_heap_initialise, gc_heap_grow) Use gc_heap_is_unlimited.

2005-08-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/basecode.c,
	kaffe/kaffevm/jit/icode.c,
	kaffe/kaffevm/jit/machine.c,
	kaffe/kaffevm/jit/registers.c:
	Labelled unused parameters as UNUSED, added missing headers and
	made variables unsigned where necessary to fix compiler warnings.

2005-08-20  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/Makefile.am (AM_CPPFLAGS): Added jvmpi includes.

	* kaffe/kaffevm/jit/machine.c: Include jvmpi header.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/sound/alsa/init.c: Commented out include and symbols,
	as there are no functions defined in this file atm.

	* libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_Alsa.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaCtl.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaMixer.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaMixerElement.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaPcm.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeq.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqClientInfo.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqEvent.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqPortInfo.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqPortSubscribe.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqQueueInfo.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqQueueStatus.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqQueueTempo.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqRemoveEvents.c,
	libraries/clib/sound/alsa/org_tritonus_lowlevel_alsa_AlsaSeqSystemInfo.c,
	libraries/clib/sound/esd/org_tritonus_lowlevel_esd_EsdRecordingStream.c,
	libraries/clib/sound/esd/org_tritonus_lowlevel_esd_EsdStream.c:
	Marked unused paramters as UNUSED.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.c 
	(jvmpiDisableEvent, jvmpiEnableEvent): Mark unused parameters as UNUSED.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/support.h: Added include for string.h for alpha-linux.

2005-08-19  Riccardo Mottola  <riccardo@kaffe.org>

	* kaffe/libraries/clib/nio/gnu_java_nio_VMSelector.c: Added includes
	and guarded existing ones.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for stropts.h

	* replace/ifaddrs_bsd.c: Include stropts.h if available
	for ioctl prototype.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* replace/ifaddrs_bsd.c: Added missing includes.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/thread.c: Added include for rlim_t.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jni/jni-string.c: Added missing include.

2005-08-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-18  Lillian Angel  <langel@redhat.com>

        * javax/swing/DefaultCellEditor.java
        (getTreeCellEditorComponent): Implemented.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (isEditing): Implemented.
        (mouseClicked): Moved code to mousePressed
        (mousePressed): Code moved here from mouseClicked and
        added in code to stop editing.
        (selectPath): Default is changed to CONTIGUOUS_TREE_SELECTION
        * javax/swing/tree/DefaultTreeSelectionModel.java
        (DefaultTreeSelectionModel): Default is changed to CONTIGUOUS_TREE_SELECTION.

	2005-08-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicArrowButton.java:
        Set default size to 12.
        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (calculatePreferredSize): Don't restrict width and height to
        a minimum of 20.

	2005-08-18  Keith Seitz  <keiths@redhat.com>

        * vm/reference/gnu/classpath/jdwp/VMIdManager.java: New file
        with example implementation of ID-management for JDWP back-end.
        * gnu/classpath/jdwp/id/JdwpIdFactory.java: Removed. Now part of
        VMIdManager.

	2005-08-18  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (setHashColor): Implemented.
        (getRowForPath): Implemented.

	2005-08-18  Lillian Angel  <langel@redhat.com>

        * javax/swing/tree/DefaultTreeCellRenderer.java
        (paint): Added check for null border.

	2005-08-18  Roman Kennke  <roman@kennke.org>

        * java/awt/FlowLayout.java
        (setAlignment): Added comment explaining why we don't check
        for illegal values here.

	2005-08-18  Roman Kennke  <roman@kennke.org>

        * java/awt/image/PixelGrabber.java
        (startGrabbing): Replaced ImageConsumer.ABORTED with
        ImageConsumer.IMAGEABORTED.

	2005-08-18  Roman Kennke  <roman@kennke.org>

        * java/awt/image/PixelGrabber.java
        (constructors): Check if the ImageProducer is null and throw
        a NPE if that is the case.
        (startGrabbing): When an exception is thrown in the grabber thread,
        exit gracefully and notify the waiting threads.
        (imageComplete): Only call ip.removeConsumer() if ip is not null.

	2005-08-18  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/StringCharacterIterator.java
        (StringCharacterIterator(String)): documented NullPointerException.

	2005-08-18  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/multi/MultiButtonUI.java: new file,
        * javax/swing/plaf/multi/MultiColorChooserUI.java: new file,
        * javax/swing/plaf/multi/MultiComboBoxUI.java: new file,
        * javax/swing/plaf/multi/MultiDesktopIconUI.java: new file,
        * javax/swing/plaf/multi/MultiDesktopPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiFileChooserUI.java: new file,
        * javax/swing/plaf/multi/MultiInternalFrameUI.java: new file,
        * javax/swing/plaf/multi/MultiLabelUI.java: new file,
        * javax/swing/plaf/multi/MultiListUI.java: new file,
        * javax/swing/plaf/multi/MultiLookAndFeel.java: new file,
        * javax/swing/plaf/multi/MultiMenuBarUI.java: new file,
        * javax/swing/plaf/multi/MultiMenuItemUI.java: new file,
        * javax/swing/plaf/multi/MultiOptionPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiPanelUI.java: new file,
        * javax/swing/plaf/multi/MultiPopupMenuUI.java: new file,
        * javax/swing/plaf/multi/MultiProgressBarUI.java: new file,
        * javax/swing/plaf/multi/MultiRootPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiScrollBarUI.java: new file,
        * javax/swing/plaf/multi/MultiScrollPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiSeparatorUI.java: new file,
        * javax/swing/plaf/multi/MultiSliderUI.java: new file,
        * javax/swing/plaf/multi/MultiSpinnerUI.java: new file,
        * javax/swing/plaf/multi/MultiSplitPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiTabbedPaneUI.java: new file,
        * javax/swing/plaf/multi/MultiTableHeaderUI.java: new file,
        * javax/swing/plaf/multi/MultiTableUI.java: new file,
        * javax/swing/plaf/multi/MultiTextUI.java: new file,
        * javax/swing/plaf/multi/MultiToolBarUI.java: new file,
        * javax/swing/plaf/multi/MultiToolTipUI.java: new file,
        * javax/swing/plaf/multi/MultiTreeUI.java: new file,
        * javax/swing/plaf/multi/MultiViewportUI.java: new file,
        * javax/swing/plaf/multi/package.html: new file.

	2005-08-18  David Gilbert  <david.gilbert@object-refinery.com>

        * java/util/Vector.java
        (copyInto) fixed incorrect API description.

	2005-08-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkFontPeer.c,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkRobotPeer.c,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkListPeer.c: Remove
        JamVM deadlock workarounds.

	2005-08-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkFramePeer.java,
        gnu_java_awt_peer_gtk_GtkFramePeer.c (postConfigureEvent): Prevent
        callback calling back into peers.
        (setBounds): Likewise.
        (setMenuBarWidthUnlocked): New method.
        * native/jni/gtk-peer/gtkpeer.h (cp_gtk_filedialog_init_jni):
        Declare function.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (gtkInit): Call cp_gtk_filedialog_init_jni.
        (loadSystemColors): Work around deadlock.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c
        (textcomponent_changed_cb): Don't release GDK lock.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuItemPeer.c
        (item_activate_cb): Don't release GDK lock.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkListPeer.c
        (item_highlighted_cb): Don't release GDK lock.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c
        (component_button_press_cb): Don't release GDK lock.
        (component_button_release_cb): Likewise.
        (component_motion_notify_cb): Likewise.
        (component_enter_notify_cb): Likewise.
        (component_leave_notify_cb): Likewise.
        (component_expose_cb): Likewise.
        (component_focus_in_cb): Likewise.
        (component_focus_out_cb): Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c
        (block_expose_event_cb): Remove callback.
        * gnu/java/awt/peer/gtk/GtkWindowPeer.java,
        gnu_java_awt_peer_gtk_GtkWindowPeer.c (postConfigureEvent):
        Prevent callback calling back into peers.
        (setBounds): Likewise.
        (nativeSetBoundsUnlocked): New method.
        (setBoundsUnlocked): Likewise.
        (nativeSetVisibleUnlocked): Likewise.
        (setVisibleUnlocked): Likewise.
        (window_delete_cb): Don't release GDK lock.
        (window_destroy_cb): Likewise.
        (window_show_cb): Likewise.
        (window_active_state_change_cb): Likewise.
        (window_focus_state_change_cb): Likewise.
        (window_focus_in_cb): Likewise.
        (window_focus_out_cb): Likewise.
        (window_window_state_cb): Likewise.
        (window_property_changed_cb): Likewise.
        (realize_cb): Likewise.
        * gnu/java/awt/peer/gtk/GtkToolkit.java (mainThread): New
        variable.
        * gnu/java/awt/peer/gtk/GtkFileDialogPeer.java,
        gnu_java_awt_peer_gtk_GtkFileDialogPeer.c (setVisible): Prevent
        callback calling back into peers.
        (filename_filter_cb): Don't release GDK lock.
        (handle_response_cb): Likewise.
        (cp_gtk_filedialog_init_jni): New function.
        * gnu/java/awt/peer/gtk/GtkCheckboxPeer.java (setState): Prevent
        callback from calling back into peers.
        (item_toggled_cb): Don't release GDK lock.
        * gnu/java/awt/peer/gtk/GdkPixbufDecoder.java,
        gnu_java_awt_peer_gtk_GdkPixbufDecoder.c (area_prepared_cb): Don't
        release GDK lock.
        (area_updated_cb): Likewise.
        * gnu/java/awt/peer/gtk/GdkGraphics2D.java,
        gnu_java_awt_peer_gtk_GdkGraphics2D.c (initStateUnlocked): New
        method.
        (cairoSurfaceSetFilterUnlocked): Likewise.
        (initComponentGraphics2DUnlocked): Likewise.
        (setTexturePixelsUnlocked): Likewise.
        (setGradientUnlocked): Likewise.
        (cairoSetMatrixUnlocked): Likewise.
        (cairoSetRGBAColorUnlocked): Likewise.
        (cairoSetLineWidthUnlocked): Likewise.
        (cairoSetLineCapUnlocked): Likewise.
        (cairoSetLineJoinUnlocked): Likewise.
        (cairoSetDashUnlocked): Likewise.
        (cairoSetMiterLimitUnlocked): Likewise.
        (setPaintUnlocked): Likewise.
        (setTransformUnlocked): Likewise.
        (setStrokeUnlocked): Likewise.
        (setColorUnlocked): Likewise.
        (setBackgroundUnlocked): Likewise.
        (setRenderingHintsUnlocked): Likewise.
        (setFontUnlocked): Likewise.
        (realize_cb): Don't release GDK lock.  Call
        initComponentGraphics2DUnlocked.
        * gnu/java/awt/peer/gtk/GdkGraphics.java,
        gnu_java_awt_peer_gtk_GdkGraphics.c (initStateUnlocked): New
        method.
        (initComponentGraphicsUnlocked): New method.
        (realize_cb): Don't release GDK lock.  Call
        initComponentGraphicsUnlocked.
        * include/gnu_java_awt_peer_gtk_GdkGraphics.h: Regenerate.
        * include/gnu_java_awt_peer_gtk_GdkGraphics2D.h: Likewise.
        * include/gnu_java_awt_peer_gtk_GtkFramePeer.h: Likewise.
        * include/gnu_java_awt_peer_gtk_GtkWindowPeer.h: Likewise.

	2005-08-17  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTextUI.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/CompositeView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/FieldView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/GlyphView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/IconView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/PasswordView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/PlainView.java
        (viewToModel): Changed to match API spec.
        * javax/swing/text/View.java
        (viewToModel): Changed to match API spec.

2005-08-19  Riccardo Mottola  <riccardo@kaffe.org>

	Added missing includes to:
	kaffe/kaffevm/access.c
	kaffe/kaffevm/file.c
	kaffe/kaffevm/jni/jni-arrays.c
	kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	kaffe/kaffevm/verifier/verify-block.c
	kaffe/kaffevm/verifier/verify.c
	kaffe/kaffevm/verifier/verify2.c
	kaffe/kaffevm/verifier/verify3a.c
	libraries/clib/native/String.c
	

2005-08-18  Riccardo Mottola  <riccardo@kaffe.org>

	Rationalized includes by decentralizing them to the .c files
	config/config-std.h
	libraries/clib/native/TimeZone.c

2005-08-18  Andreas Tobler  <a.tobler@schweiz.ch>

	* kaffe/kaffevm/jni/jni.c: Fix clobbering warnings all over.

	* kaffe/kaffevm/jni/jni-arrays.c: Likewise.

	* kaffe/kaffevm/jni/jni-callmethod.c (getMethodFunc): Fix comparison
	cast.
	Fix clobbering warnings all over.

	* kaffe/kaffevm/jni/jni-fields.c: Fix clobbering warnings all over.

	* kaffe/kaffevm/jni/jni-helpers.c: Likewise.

	* kaffe/kaffevm/jni/jni-refs.c:  Likewise.

2005-08-18  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Use more extensive test for net/if.h, and include
	necessary headers for HP-UX and OS X. Test taken from autoconf manual.

	Reported by:  Riccardo Mottola  <riccardo@kaffe.org>

2005-08-18  Riccardo Mottola  <riccardo@kaffe.org>

	* kaffe/kaffe/kaffevm/access.c: proper system header include

2005-08-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-17  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JList.java:
        (indexToLocation): Implemented.
        (getLastVisibleIndex): If the last index in the list is showing and
        there is extra room at the bottom, return the last index, not -1.

	2005-08-17  Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getCellLocation): Added in check if node is a leaf.
        Shouldnt call getChildCount if a leaf. May cause NPE.
        (paintRecursive): Likewise.
        (paintControlIcons): Likewise.
        (findNode): Likewise.
        (getNextNode): Likewise.
        (getPreviousNode): Likewise.
        (getNextSibling): Likewise.
        (getPreviousSibling): Likewise.

	2005-08-17  Lillian Angel  <langel@redhat.com>

        * javax/swing/tree/DefaultTreeCellRenderer.java
        (paint): paints the background and border of cell.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        Reported by Ingo Proetel  <proetel@aicas.com>
        * java/awt/image/DirectColorModel.java
        (createCompatibleWritableRaster): Added argument check.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * java/awt/FontMetrics.java
        (charWidth(int)): Correctly map Unicode indices to char[] here.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * java/lang/Character.java
        (toChars(int)): New JDK1.5 method.
        (toChars(int, char[], int)): New JDK1.5 method.
        (charCount): New JDK1.5 method.
        (isSupplementaryCodePoint): New JDK1.5 method.
        (isValidCodePoint): New JDK1.5 method.

	2005-08-17  Lillian Angel  <langel@redhat.com>

        * java/awt/FontMetrics.java
        (charWidth): Reversed Roman's patch, was not compiling.
        * javax/swing/tree/DefaultTreeCellRenderer.java
        (getTreeCellRendererComponent): Set Opaque to true for
        painting reasons.

	2005-08-17  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/qt/QtFramePeer.java (setIcon): Mark non-native
        and add FIXME.
        (setMaximizedBounds): Likewise.
        * include/gnu_java_awt_peer_qt_QtFramePeer.h: Regenerated.
        * native/jni/qt-peer/.cvsignore: New file.
        * native/jni/qt-peer/Makefile.am (libqtpeer_la_SOURCES):
        Remove eventmethods.h.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLabelUI.java
        (paint): Don't paint the border here. If there is a border to
        be painted, this is usually performed in JComponent.paint().

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * java/awt/FontMetrics.java
        (charWidth(int)): Correctly map Unicode indices to char[] here.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        This applies to various variants of the repaint() methods:
        (repaint): If the component is not showing, forward repaint
        request to the parent.

	2005-08-17  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLabelUI.java
        (paint): Don't fill the background here. If the label is opaque
        then the background is filled in ComponentUI.update(), otherwise
        it must not be touched.

	2005-08-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkFileDialogPeer.java
        (setComponentBounds): Don't post COMPONENT_RESIZED event.

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
        (setBoundsCallbackID): Remove variable.
        (cp_gtk_window_init_jni): Don't initialize setBoundsCallbackID.
        (setBoundsCallback): Remove method.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c
        (setMenuBarPeer): Check if menubar is NULL.
        (setMenuBarWidth): Likewise.
        * java/awt/Window.java (dispatchEventImpl): Validate upon
        receiving a COMPONENT_RESIZED event.
        (setBoundsCallback): Remove method.
        * include/gnu_java_awt_peer_gtk_GtkWindowPeer.h: Regenerate.
        * gnu/java/awt/peer/gtk/GtkWindowPeer.java (setBoundsCallback):
        Remove method declaration.
        (postConfigureEvent): Separate handling of resizes and moves.
        Call setSize and post COMPONENT_RESIZED event.
        * gnu/java/awt/peer/gtk/GtkFramePeer.java (postConfigureEvent):
        Separate handling of resizes and moves.  Call setSize.
        * gnu/java/awt/peer/gtk/GtkFileDialogPeer.java
        (setComponentBounds): Call setSize and post COMPONENT_RESIZED
        event.
        * gnu/java/awt/peer/gtk/GtkContainerPeer.java (isValidating):
        Remove field.

	2005-08-16  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/qt/QtButtonPeer.java
        * gnu/java/awt/peer/qt/QtCheckboxPeer.java
        * gnu/java/awt/peer/qt/QtChoicePeer.java
        * gnu/java/awt/peer/qt/QtComponentGraphics.java
        * gnu/java/awt/peer/qt/QtComponentPeer.java
        * gnu/java/awt/peer/qt/QtContainerPeer.java
        * gnu/java/awt/peer/qt/QtDialogPeer.java
        * gnu/java/awt/peer/qt/QtFontPeer.java
        * gnu/java/awt/peer/qt/QtFramePeer.java
        * gnu/java/awt/peer/qt/QtGraphics.java
        * gnu/java/awt/peer/qt/QtImage.java
        * gnu/java/awt/peer/qt/QtImageGraphics.java
        * gnu/java/awt/peer/qt/QtListPeer.java
        * gnu/java/awt/peer/qt/QtMenuBarPeer.java
        * gnu/java/awt/peer/qt/QtMenuItemPeer.java
        * gnu/java/awt/peer/qt/QtMenuPeer.java
        * gnu/java/awt/peer/qt/QtScrollbarPeer.java
        * gnu/java/awt/peer/qt/QtTextAreaPeer.java
        * gnu/java/awt/peer/qt/QtTextFieldPeer.java
        * gnu/java/awt/peer/qt/QtToolkit.java
        * gnu/java/awt/peer/qt/QtWindowPeer.java
        * native/jni/qt-peer/keybindings.cpp
        * native/jni/qt-peer/keybindings.h
        * native/jni/qt-peer/qtbuttonpeer.cpp
        * native/jni/qt-peer/qtcanvaspeer.cpp
        * native/jni/qt-peer/qtcheckboxpeer.cpp
        * native/jni/qt-peer/qtchoicepeer.cpp
        * native/jni/qt-peer/qtcomponent.cpp
        * native/jni/qt-peer/qtcomponentpeer.cpp
        * native/jni/qt-peer/qtdialogpeer.cpp
        * native/jni/qt-peer/qtframepeer.cpp
        * native/jni/qt-peer/qtgraphics.cpp
        * native/jni/qt-peer/qtimage.cpp
        * native/jni/qt-peer/qtlabelpeer.cpp
        * native/jni/qt-peer/qtlistpeer.cpp
        * native/jni/qt-peer/qtmenupeer.cpp
        * native/jni/qt-peer/qtpanelpeer.cpp
        * native/jni/qt-peer/qtscrollbarpeer.cpp
        * native/jni/qt-peer/qtscrollpanepeer.cpp
        * native/jni/qt-peer/qttextareapeer.cpp
        * native/jni/qt-peer/qttextfieldpeer.cpp
        * native/jni/qt-peer/qtwindowpeer.cpp
        * native/jni/qt-peer/slotcallbacks.cpp
        * native/jni/qt-peer/slotcallbacks.h
        Reindented, Transmogrified and Wielaardituded.
        * gnu/java/awt/peer/qt/QtEmbeddedWindowPeer.java
        * native/jni/qt-peer/eventmethods.h
        * native/jni/qt-peer/qtembeddedwindowpeer.cpp
        * native/jni/qt-peer/slotcallbacks.moc.h
        New files
        * native/jni/qt-peer/eventmethods.cpp
        * native/jni/qt-peer/slotcallbacks.moc
        Removed.

	2005-08-16  Lillian Angel  <langel@redhat.com>

        * javax/swing/text/PasswordView.java
        (drawUnselectedText): Fixed so the password is drawn correctly
        in the text box and no * characters are drawn before anything
        was typed.

	2005-08-16  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GtkClipboard.java: Reimplemented.
        * gnu/java/awt/peer/gtk/GtkClipboardNotifier.java: New class.
        * gnu/java/awt/peer/gtk/GtkSelection.java: New class.
        * gnu/java/awt/peer/gtk/GtkImage.java (GtkImage(Pointer)): New
        constructor.
        (createFromPixbuf): New private native method.
        * gnu/java/awt/peer/gtk/GtkToolkit.java (systemClipboard): Removed.
        (getSystemClipboard): Do security check and return
        GtkClipboard.getInstance().
        * include/Makefile.am: Add gnu_java_awt_peer_gtk_GtkSelection.h.
        * include/gnu_java_awt_peer_gtk_GtkClipboard.h: Regenerated.
        * include/gnu_java_awt_peer_gtk_GtkImage.h: Regenerated.
        * include/gnu_java_awt_peer_gtk_GtkSelection.h: New header file.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkClipboard.c:
        Reimplemented.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
        (Java_gnu_java_awt_peer_gtk_GtkImage_createFromPixbuf): New

	2005-08-16  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (ActionListenerProxy): Replaced type TableAction with parent type
        ActionListener to avoid Semantic errors.

	2005-08-16  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        (initComponentDefaults): Fixed typo.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (installKeyboardActions): Replaced calls to registerKeyboardAction with
        additions to an explicit InputMap-ActionMap pair and then set this
        pair as the parent pair to the JTable's.  This matches the JDK where
        the UI Input-Action pairs are the parents of the component's.
        (ActionListenerProxy): New class.

	2005-08-16  Mark Wielaard  <mark@klomp.org>

        * examples/gnu/classpath/examples/datatransfer/Demo.java:
        Document and implement ItemListener and FlavorListener.
        (flavors): New field.
        (details): New field.
        (Demo): Add more space, add the flavors panel and flavor listener.
        (createTextPanel): Smaller and wider.
        (createFlavorsPanel): New private method.
        (flavorsChanged): New public method.
        (itemStateChanged): Likewise.
        (ImageComponent.ImageComponent): Smaller default.
        (ObjectComponent.ObjectComponent): Make wider.
        (FlavorsComponent): New static class.
        (FlavorDetailsComponent): Likewise.

	2005-08-16  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Changed font for PasswordField because textbox was
        being drawn at an awkward height.
        * javax/swing/text/PasswordView.java
        (getPreferredSpan): Implemented
        (modelToView): likewise.
        (viewToModel): partially implemented.

	2005-08-16  Jeroen Frijters  <jeroen@frijters.net>

        * java/awt/Component.java
        (dispatchEventImpl): Always call peer.handleEvent().

	2005-08-16  Jeroen Frijters  <jeroen@frijters.net>

        * java/awt/Container.java
        (addImpl, remove): Only repaint if the container is showing.

	2005-08-16  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (Java_gnu_java_awt_peer_gtk_GtkToolkit_nativeQueueEmpty): Removed.

	2005-08-15  Lillian Angel  <langel@redhat.com>

        * javax/swing/JPasswordField.java
        (getText): Fixed the length of the string to retrieve.

	2005-08-15  Sven de Marothy  <sven@physto.se>

        * java/awt/TextComponent.java
        (select): Fix typo.

	2005-08-15  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JComponent.java:
        (processKeyEvent): Added functionality for processing key events in
        non-focused components using the WHEN_ANCESTOR_OF_FOCUSED_COMPONENT
        field.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (installKeyboardActions): Changed key bindings to be registered as
        WHEN_ANCESTOR_OF_FOCUSED_COMPONENT rather than as WHEN_FOCUSED.
        (TableAction.actionPerformed): If the key action is anything besides
        "start editing" then we stop editing if we are doing so.  Repaint the
        table at the end of this method.

	2005-08-15  Lillian Angel  <langel@redhat.com>

        * javax/swing/JPasswordField.java
        (echoCharIsSet): Fixed this to work according to API.
        (getText): Implemented
        (getText): Implemented
        (getPassword): Implemented
        (paramString): Implemented

	2005-08-15  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/ClasspathToolkit.java (nativeQueueEmpty): Remove
        method.
        (wakeNativeQueue): Likewise.
        (iterateNativeQueue): Likewise.
        * gnu/java/awt/peer/gtk/GtkToolkit.java (static): Start GTK main
        thread.
        (nativeQueueEmpty): Remove method.
        (wakeNativeQueue): Likewise.
        (iterateNativeQueue): Likewise.
        (gtkMain): New method.
        * include/gnu_java_awt_peer_gtk_GtkToolkit.h: Regenerate.
        * java/awt/EventQueue.java: Remove references to ClasspathToolkit.
        * java/awt/Frame.java (fireDummyEvent): Remove method.
        Remove calls to fireDummyEvent.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkGenericPeer.c
        (dispose): Don't wake up main thread.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c: Remove
        single-thread code.

	2005-08-15  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTree.java
        (expandPath): called fireTreeWillExpand and fireTreeExpanded
        since it is not required that the calling class fires these
        events.
        (collapsePath): Likewise.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): Took out code that called fireTreeWillExpand/
        fireTreeWillCollapse and fireTreeExpanded/fireTreeCollapsed.
        (keyPressed): Likewise.

2005-08-17  Andreas Tobler  <a.tobler@schweiz.ch>

	* m4/acx_pthread.m4: Detect -pthreads first. Fixes
	gcc4 compiler warnings on solaris 10.

2005-08-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-15  Roman Kennke  <roman@kennke.org>

        * java/awt/FlowLayout.java
        (setAlignment): Removed check for illegal values. These values
        are treated as LEFT alignment instead.
        (layoutContainer): Treat unknown align values as LEFT in default
        clause of if-else statement.

	2005-08-15  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkButtonPeer.java (handleEvent): Remove
        method.
        (postActionEvent): New method.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c:
        Rename state_to_awt_mods cp_gtk_state_to_awt_mods.
        * native/jni/gtk-peer/gtkpeer.h: Declare cp_gtk_state_to_awt_mods.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c
        (clicked_cb): New function.
        (connectSignals): Connect clicked_cb callback to "clicked" signal.

	2005-08-14  Casey Marshall  <csm@gnu.org>

        * gnu/java/security/provider/DSAKeyPairGenerator.java
        (initialize): set 'keysize' to 'modlen.'
        (getDefaults): return 'true' for keysizes '768' and '1024.'

	2005-08-14  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/ClasspathToolkit.java
        (getScreenSize, getColorModel, getFontMetrics, getImage, createImage,
         createImageProducer, registerImageIOSpis):
        Remove redundant (overloaded) methods.
        * gnu/java/awt/peer/gtk/GtkToolkit.java
        (registerImageIOSpis): Move registration to static initializer.
        * javax/imageio/spi/IIORegistry.java:
        Remove call to Toolkit registration method.

2005-08-15  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Fixed jikes test on AIX.

	Reported by:  Riccardo Mottola  <multix@gmail.com>

2005-08-15  Andreas Tobler  <a.tobler@schweiz.ch>

	* config/powerpc/atomic.h: Replaced by a wrapper for 32-bit
  	or 64-bit atomic.h

	* config/powerpc/bits/atomic.h: original atomic.h.

	* config/powerpc/powerpc32/atomic.h,
	config/powerpc/powerpc64/atomic.h: New files.
	Taken from glibc 2.3.5 

2005-08-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/RefTest.java,
	test/regression/CLTestJLock.java:
	Increased timeout a bit.

2005-08-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/kaffe/security/providers/SHA1PRNG.java
	(<clinit>): Catch any remaining exception. This fixes a problem with
	SecureRandomTest not finding /dev/urandom on some system.
	
2005-08-14  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.c (printShortVersion) Added version information
	for Fedora Core / JPackage.org scripts. That fixes ant on FC4.

	Idea by: Robin Green  <greenrd@greenrd.org>

2005-08-14  Dalibor Topic  <robilad@kaffe.org>

	* test/jni/HelloWorldApp.class: Removed.

	* test/jni/Makefile.am: Compile HelloWorldApp.class on demand.
	(EXTRA_DIST) Removed HelloWorldApp.class.

	Reported by:  Andreas Tobler  <a.tobler@schweiz.ch>

2005-08-14  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-13  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (repaintTimer): Make
        field final.

	2005-08-14  Sven de Marothy  <sven@physto.se>

        * java/awt/Container.java
        (addImpl): Call addNotify() only if the container has a peer.

	2005-08-13  Jeroen Frijters  <jeroen@frijters.net>

        * java/io/ObjectInputStream.java
        (readClassDescriptor): Don't cache caller's class loader.
        (resolveClass): Don't cache caller's class loader and support
        primitive types. Fixes bug #23377.

2005-08-14  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/awt/classpath-qt/Makefile.am
	(libqtpeer_la_MOC) Renamed generated moc cpp file to
	a header file to avoid having it compiled twice.
	(slotcallbacks.moc.cpp) Renamed to 
	(slotcallbacks.moc.h): New target.
	(nodist_libqtpeer_la_SOURCES): New target.
	(BUILT_SOURCES) Fixed name of peer library.

	* libraries/clib/awt/classpath-qt/slotcallbacks.cpp:
	Include slotcallbacks.moc.h rather than slotcallbacks.moc.cpp.

2005-08-12  Andreas Tobler  <a.tobler@schweiz.ch>

       * config/powerpc/ppc_isa.h (REGISTER_SET): Kregs has 7 members,
       initialize all of them. 

2005-08-12  Andreas Tobler  <a.tobler@schweiz.ch>

       * libraries/clib/math/BigInteger.c: Mark unused variables UNUSED.

       * libraries/clib/native/Class.c (java_lang_VMClass_getModifiers): Mark
       ignoreInnerClassAttribute UNUSED.

       * libraries/clib/awt/classpath-gtk/gtk-peer/jawt.c (JAWT_GetAWT): Mark
       env UNUSED.
       (JNICALL _Jv_Lock): Mark surface UNUSED.
       (JNICALL _Jv_Unlock): Likewise.
       (JNICALL _Jv_JAWT_Lock): Mark env UNUSED.
       (JNICALL _Jv_JAWT_Unlock): Likewise.

       * kaffe/kaffevm/systems/unix-pthreads/thread-impl.c (tDumpList): Cast
       t->tid to avoid compiler warning.
       (dump_signal_handler): Reordered attribute.
       (tWatchdogRun): Mark p UNUSED.
       (jthread_init): Reordered attribute.
       (jthread_createfirst): Likewise.
       (suspend_signal_handler): Likewise.
       (resume_signal_handler): Likewise.
       (jthread_suspendall): Cast type to avoid warning.
       (jthread_spinon): Reordered attribute.
       (jthread_spinoff): Likewise.
       (jthread_stop): Likewise.
       (jthread_dumpthreadinfo): Likewise.
       (jthread_has_run): Mark jt UNUSED.
       (jthread_clear_run): Reordered attribute.
       (jthread_suspend): Likewise.
       (jthread_resume): Likewise.
       (jthread_from_data): Likewise.
       (jthread_get_usage): Likewise.

       * kaffe/kaffevm/jni/jni.c (Kaffe_GetVersion): Reordered attribute.
       (Kaffe_DefineClass): Mark *name UNUSED.
       (Kaffe_FindClass): Reordered attribute.

       * kaffe/kaffevm/jni/jni-refs.c (KaffeJNI_NewLocalRef): Mark *env UNUSED.
       (KaffeJNI_NewWeakGlobalRef): Likewise.
       (KaffeJNI_DeleteWeakGlobalRef): Likewise.

       * kaffe/kaffevm/locks.c (KaffeLock_destroyLock): Mark *gcif UNUSED.

2005-08-13  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Add -W and -Wextra to warning options.

	Requested by: Andreas Tobler  <a.tobler@schweiz.ch>

2005-08-13  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-12  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkMenuBarPeer.java (addMenu(Menu)): New
        method.
        * gnu/java/awt/peer/gtk/GtkMenuPeer.java (addSeparator): Likewise.
        * java/awt/peer/MenuBarPeer.java (addMenu): New method
        declaration.
        * java/awt/peer/MenuPeer.java (addSeparator): New method
        declaration.

	2005-08-12  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (setBounds): Get
        frame insets directly from peer rather than from Window.getInsets.
        (toString): New method.

	2005-08-12  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkButtonPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c
        (gtkWidgetGetPreferredDimensions): New method.
        * gnu/java/awt/peer/gtk/GtkLabelPeer.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkLabelPeer.c
        (gtkWidgetGetPreferredDimensions): New method.
        * include/gnu_java_awt_peer_gtk_GtkLabelPeer.h: Regenerate.
        * include/gnu_java_awt_peer_gtk_GtkButtonPeer.h: Likewise.

	2005-08-12  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable.java:
        (setValueAt): Do nothing if isCellEditable returns false.
        (editCelLAt): Removed the Key Listener for the JTextField.  Listening
        for ESCAPE should be handled by the JTable itself.  Note, this is not
        implemented yet.
        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        (initComponentDefaults): Added several keybindings to JTable's
        ancestorInputMap.  These are all implemented.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler): Removed this class.  Note that most of the code from the
        keyPressed method now resides in the actionPerformed method of the
        BasicTableUI.TableAction class.
        (convertModifiers): New private method to convert from new InputEvent
        modifier masks to the old style.
        (installKeyboardActions): Implemented.  Gets the key bindings from
        the UIManager and registers them for the JTable.
        (TableAction): New class.  This is where the actions corresponding to
        key presses resides.
        (installListeners): Removed installation of KeyListener.

	2005-08-12  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getCellLocation): Added in a check to make sure the node has children.
        Fixed loop to use post-increment.
        (paintRecursive): Fixed loop to use post-increment.
        (paintControlIcons): Likewise.
        (getNextNode): Fixed check to make sure that node has children.
        (getPreviousSibling): Added in check to make sure index is in correct
        range.

	2005-08-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java
        (insertString): Use replace() to actually insert content.
        (remove): Use replace() to actually remove content.
        (shiftGap): Repaired misplaced curly brace in if block of
        boudary check.
        (replace): Check for null argument for addItems.

	2005-08-12  Roman Kennke  <roman@kennke.org>

        Reported by: Ingo Proetel  <proetel@aicas.com>
        * java/net/URLClassLoader.java
        (findClass): Added null check to avoid NullPointerException.

	2005-08-12  Roman Kennke  <roman@kennke.org>

        Reported by: Ingo Proetel  <proetel@aicas.com>
        * java/util/logging/Logger.java
        This applies to a couple of log() methods:
        (log): Added check if the specified level is actually enabled,
        otherwise ignore logging request.

	2005-08-12  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicSplitPaneUI.java
        * (getMinimumDividerLocation): Fixed to work similar to
        getMaximumDividerLocation. Was not able to move divider
        in both directions before.

	2005-08-12  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (reshape): Simplified repainting of parent.
        (paint): Don't call peer.paint() here. The paint method is
        exclusivly meant to be overridden by subclasses that wish to
        perform custom painting and should do nothing by default.
        (repaint): Use local variable in null pointer checks to avoid
        NullPointerExceptions.
        (imageUpdate): Slight formatting adjustments.
        (dispatchEvent): Don't call peer.handleEvent() here, this must
        be done in dispatchEventImpl().
        (dispatchEventImpl): Dispatch PAINT and UPDATE events to the
        peer.
        * java/awt/Container.java
        (paint): Don't call super.paint() here, this method does nothing
        anyway. Visit only lightweight children.
        (update): Instead of clearing the background only for top-level
        containers, clear the background for all heavyweight containers.

	2005-08-11  Tom Tromey  <tromey@redhat.com>

        For PR classpath/23008:
        * gnu/java/nio/charset/UTF_16Decoder.java (decodeLoop): Correctly
        mask bytes when constructing characters.

	2005-08-11  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/PortableInterceptor/IORInfoOperations.java,
        org/omg/PortableInterceptor/IORInterceptor.java,
        org/omg/PortableInterceptor/IORInterceptorOperations.java,
        org/omg/PortableInterceptor/IORInfo.java: New files.

	2005-08-11  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTable
        (rowAtPoint): Added in a check for null. Was getting NPE.
        (columnAtPoint): Likewise.

	2005-08-11  Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicViewportUI.java
        (paintSimple): Changed to paint the portBounds from (0,0).

	2005-08-11  Tom Tromey  <tromey@redhat.com>

        * java/awt/image/ConvolveOp.java (filter): Defer numBands check
        until after null check.  PR classpath/22999.

	2005-08-11  Tom Tromey  <tromey@redhat.com>

        * java/util/Observable.java (addObserver): Throw
        NullPointerException if necessary.  PR classpath/23279.

2005-08-13  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/awt/Makefile.am:
	Only des end into classpath-qt dir if it is selected for buiding.

2005-08-13  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac,
	libraries/clib/awt/classpath-qt/Makefile.am,
	include/Makefile.am: Added build machinery for GNU Classpath
	Qt4 based AWT peers.

	Resynced with GNU Classpath.

	2005-08-12  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/qt/QtButtonPeer.java: Replace uses of
        toolkit.eventQueue.postEvent() with QtToolkit.eventQueue.postEvent().
        * gnu/java/awt/peer/qt/QtCheckboxPeer.java: Likewise.
        * gnu/java/awt/peer/qt/QtChoicePeer.java: Likewise.
        * gnu/java/awt/peer/qt/QtComponentPeer.java: Likewise and for
        guiThread.QApplicationPointer and graphicsEnv.getScreenDevices().
        * gnu/java/awt/peer/qt/QtMenuItemPeer.java: Likewise.
        * gnu/java/awt/peer/qt/QtMenuPeer.java: Likewise.
        * gnu/java/awt/peer/qt/QtScrollbarPeer.java: Likewise.
        * gnu/java/security/PolicyFile.javai (refresh): Assign only outside
        if statement.

	2005-08-11  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/qt/QtMenuComponentPeer.java,
        gnu/java/awt/peer/qt/QtGraphics.java,
        gnu/java/awt/peer/qt/QtTextFieldPeer.java,
        gnu/java/awt/peer/qt/QtFramePeer.java,
        gnu/java/awt/peer/qt/QtPanelPeer.java,
        gnu/java/awt/peer/qt/QtToolkit.java,
        gnu/java/awt/peer/qt/QtWindowPeer.java,
        gnu/java/awt/peer/qt/QtButtonPeer.java,
        gnu/java/awt/peer/qt/QtImageGraphics.java,
        gnu/java/awt/peer/qt/QtContainerPeer.java,
        gnu/java/awt/peer/qt/QtComponentPeer.java,
        gnu/java/awt/peer/qt/QtListPeer.java,
        gnu/java/awt/peer/qt/QtChoicePeer.java,
        gnu/java/awt/peer/qt/QtScrollPanePeer.java,
        gnu/java/awt/peer/qt/MainQtThread.java,
        gnu/java/awt/peer/qt/QtImage.java,
        gnu/java/awt/peer/qt/NativeWrapper.java,
        gnu/java/awt/peer/qt/QtCheckboxPeer.java,
        gnu/java/awt/peer/qt/QtScreenDeviceConfiguration.java,
        gnu/java/awt/peer/qt/QtTextAreaPeer.java,
        gnu/java/awt/peer/qt/QtDialogPeer.java,
        gnu/java/awt/peer/qt/QPen.java,
        gnu/java/awt/peer/qt/QtCanvasPeer.java,
        gnu/java/awt/peer/qt/QtLabelPeer.java,
        gnu/java/awt/peer/qt/QtGraphicsEnvironment.java,
        gnu/java/awt/peer/qt/QtImageConsumer.java,
        gnu/java/awt/peer/qt/QtScrollbarPeer.java,
        gnu/java/awt/peer/qt/QtFontMetrics.java,
        gnu/java/awt/peer/qt/QtMenuBarPeer.java,
        gnu/java/awt/peer/qt/QtFontPeer.java,
        gnu/java/awt/peer/qt/QMatrix.java,
        gnu/java/awt/peer/qt/QtVolatileImage.java,
        gnu/java/awt/peer/qt/QPainterPath.java,
        gnu/java/awt/peer/qt/QtComponentGraphics.java,
        gnu/java/awt/peer/qt/QtScreenDevice.java,
        gnu/java/awt/peer/qt/QtMenuPeer.java,
        gnu/java/awt/peer/qt/QtAudioClip.java,
        gnu/java/awt/peer/qt/QtPopupMenuPeer.java,
        gnu/java/awt/peer/qt/QtFileDialogPeer.java,
        gnu/java/awt/peer/qt/QtMenuItemPeer.java,
        * native/jni/qt-peer/qpen.cpp,
        native/jni/qt-peer/keybindings.cpp,
        native/jni/qt-peer/qtcomponentpeer.cpp,
        native/jni/qt-peer/buttonevent.h,
        native/jni/qt-peer/qtdialogpeer.cpp,
        native/jni/qt-peer/qtmenubarpeer.cpp,
        native/jni/qt-peer/mainqtthread.cpp,
        native/jni/qt-peer/qtpanelpeer.cpp,
        native/jni/qt-peer/qmatrix.cpp,
        native/jni/qt-peer/qtmenucomponentpeer.cpp,
        native/jni/qt-peer/qtgraphics.cpp,
        native/jni/qt-peer/qttoolkit.cpp,
        native/jni/qt-peer/qtbuttonpeer.cpp,
        native/jni/qt-peer/keybindings.h,
        native/jni/qt-peer/qtvolatileimage.cpp,
        native/jni/qt-peer/qtcomponent.h,
        native/jni/qt-peer/slotcallbacks.cpp,
        native/jni/qt-peer/qtpopupmenupeer.cpp,
        native/jni/qt-peer/qtmenuitempeer.cpp,
        native/jni/qt-peer/qtchoicepeer.cpp,
        native/jni/qt-peer/nativewrapper.cpp,
        native/jni/qt-peer/qtscreendevice.cpp,
        native/jni/qt-peer/qtfontpeer.cpp,
        native/jni/qt-peer/qpainterpath.cpp,
        native/jni/qt-peer/qtstrings.h,
        native/jni/qt-peer/qttextfieldpeer.cpp,
        native/jni/qt-peer/qtimage.cpp,
        native/jni/qt-peer/componentevent.h,
        native/jni/qt-peer/qtwindowpeer.cpp,
        native/jni/qt-peer/qtframepeer.cpp,
        native/jni/qt-peer/qtscrollpanepeer.cpp,
        native/jni/qt-peer/qtfontmetrics.cpp,
        native/jni/qt-peer/qtlistpeer.cpp,
        native/jni/qt-peer/mainthreadinterface.h
        native/jni/qt-peer/slotcallbacks.h
        native/jni/qt-peer/qtfiledialogpeer.cpp,
        native/jni/qt-peer/eventmethods.cpp,
        native/jni/qt-peer/qtimage.h,
        native/jni/qt-peer/qtstrings.cpp,
        native/jni/qt-peer/nativewrapper.h
        native/jni/qt-peer/qtaudioclip.cpp,
        native/jni/qt-peer/qtfont.h,
        native/jni/qt-peer/qtscrollbarpeer.cpp,
        native/jni/qt-peer/containers.h,
        native/jni/qt-peer/qtcheckboxpeer.cpp,
        native/jni/qt-peer/mainthreadinterface.cpp,
        native/jni/qt-peer/componentevent.cpp,
        native/jni/qt-peer/qttextareapeer.cpp,
        native/jni/qt-peer/qtcomponent.cpp,
        native/jni/qt-peer/qtmenupeer.cpp,
        native/jni/qt-peer/qtlabelpeer.cpp,
        native/jni/qt-peer/slotcallbacks.moc
        native/jni/qt-peer/qtcanvaspeer.cpp,
        native/jni/qt-peer/qtgraphics.h,
        New files.

2005-08-10  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* replace/getifaddrs.c: Added missing include for GNU/Linux 2.4.x

2005-08-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-12  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getCellLocation): Added in a check to make sure the node has children.
        Fixed loop to use post-increment.
        (paintRecursive): Fixed loop to use post-increment.
        (paintControlIcons): Likewise.
        (getNextNode): Fixed check to make sure that node has children.
        (getPreviousSibling): Added in check to make sure index is in correct
        range.

	2005-08-11  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicViewportUI.java
        (paintSimple): This line was causing problems with the JTable viewport.
        However, the scrollpane still needs to be fixed. It is still not
        painting beyond the view's bounds.

	2005-08-10  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): Called fireTreeWillExpand and fireTreeWillCollapse when
        appropriate.
        (keyPressed): Likewise.

2005-08-11  Andreas Tobler  <a.tobler@schweiz.ch>

	* kaffe/kaffevm/jni/jni.c (Kaffe_DefineClass): Cast buf to match the
        prototype of classFileInit.

2005-08-11  Andreas Tobler  <a.tobler@schweiz.ch>

        * libraries/clib/net/PlainSocketImpl.c
        (gnu_java_net_PlainSocketImpl_socketGetOption): Initialize r.

2005-08-11  Andreas Tobler  <a.tobler@schweiz.ch>

        * kaffe/kaffevm/jit3/funcs.h: Add HAVE_move_register_float and
        HAVE_move_register_double to fix compiler warnings.

2005-08-11  Andreas Tobler  <a.tobler@schweiz.ch>

        * libraries/clib/math/BigInteger.c
        (Java_java_math_BigInteger_assignString0): Add return value to fix
        compiler warnings. 

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-10  Lillian Angel  <langel@redhat.com>

	* javax/swing/JTree.java
	(doExpandParents): Took out call to checkExpandParents.
	(checkExpandParents): Helper method not needed. Caused problems since
	fireTreeWillExpand was being called too many times. fireTreeWillExpand is
	called from BasicTreeUI whenever a node is expanded.

	2005-08-10  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableInterceptor/Interceptor.java,
        org/omg/PortableInterceptor/InterceptorOperations.java: New files.
        * org/omg/DynamicAny/_DynAnyFactoryStub.java,
        org/omg/DynamicAny/_DynAnyStub.java,
        org/omg/DynamicAny/_DynArrayStub.java,
        org/omg/DynamicAny/_DynEnumStub.java,
        org/omg/DynamicAny/_DynFixedStub.java,
        org/omg/DynamicAny/_DynStructStub.java,
        org/omg/DynamicAny/_DynUnionStub.java,
        org/omg/DynamicAny/_DynValueStub.java,
        org/omg/DynamicAny/_DynSequenceStub.java: Added _opsClass field.

	2005-08-10  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicTreeUI.java:
	Formatted entire class.

	2005-08-10  Lillian Angel  <langel@redhat.com>
	
	* javax/swing/plaf/basic/BasicTreeUI.java
	(mouseClicked): Called fireTreeWillExpand and fireTreeWillCollapse when
	appropriate.
	(keyPressed): Likewise.

	2005-08-10  Roman Kennke  <roman@kennke.org>

	* java/awt/Container.java
	(paint): Call visitChildren with lightweightOnly == true.
	(update): Only call paint if we are not in a toplevel container.

	2005-08-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/JTable.java:
	(editingCancelled): Implemented.
	(editCellAt): Added a KeyListener to our editor to listen for
	the ESCAPE key and cancel editing upon receiving it.

	2005-08-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/JTable.java
	(setRowHeight): Fixed condition on when to throw exception.
	(setRowHeight): Parameters were mixed up.

	2005-08-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLabelUI.java
	(paint): Added in painting code for label border.
	* javax/swing/plaf/basic/BasicTreeUI.java
	(paintControlIcons): Fixed location for control icons.
	* javax/swing/plaf/metal/MetalLookAndFeel.java:
	Added defaults for selection and non-selection border for
	tree cells.
	* javax/swing/tree/DefaultTreeCellRenderer.java
	(getTreeCellRendererComponent): Set borders for node. Also,
	made node transparent (not opaque), So JLabel draws icon,
	text and border appropriately.

	2005-08-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/plaf/basic/BasicLabelUI.java
	(paint): Added in code to paint background rect according to
	API. Also, formatting changes.
	* javax/swing/plaf/basic/BasicTreeUI.java
	(setCellRenderer): Fixed to changed renderer in JTree.
	(uninstallDefaults): Line taken out because not needed.
	(paintNode): Took out unneeded code because BasicLabelUI was fixed.
	(paintRecursive): Fixed so lines are only drawn when parents have
	children.	

	2005-08-09  Anthony Balkissoon  <abalkiss@redhat.com>

	* javax/swing/DefaultCellEditor.java:
	(EditorDelegate.setValue): Implemented.
	(EditorDelegate.getCellEditorValue): Implemented.
	(EditorDelegate.isCellEditable): Implemented.
	(EditorDelegate.shouldSelectCell): Implemented.
	(EditorDelegate.stopCellEditing): Implemented.
	(EditorDelegate.cancelCellEditing): Implemented.
	(EditorDelegate.startCellEditing): Implemented.
	(EditorDelegate.actionPerformed): Implemented.
	(EditorDelegate.itemStateChanged): Implemented.
	(EditorDelegate.fireEditingStopped): New implementation method.
	(EditorDelegate.fireEditingCancelled): New implementation method.
	(DefaultCellEditor): Implemented 3 constructors.
	(getComponent): Implemented.
	(getClickCountToStart): Implemented.
	(setClickCountToStart): Implemented.
	(getCellEditorValue): Implemented.
	(isCellEditable): Implemented.
	(shouldSelectCell): Implemented.
	(cancelCellEditing): Implemented.
	(getTableCellEditorComponent): Implemented.
	* javax/swing/JTable.java:
	(EditorUpdateTimer): New private class.
	(editingStopped): Implemented.
	(setValueAt): If the Object value is a Component, add it to the JTable
	so it can obtain focus.
	(editCellAt): Implemented.
	(removeEditor): Implemented.
	(prepareEditor): Implemented.
	* javax/swing/plaf/basic/BasicTableUI.java:
	(KeyHandler.keyPressed): Added F2 "start editing" key action.
	(MouseHandler.mousePressed): Added check to see if a new cell was
	selected and we need to stop editing.
	(paint): If the cell is a JTextField, paint its Caret as well.
	* javax/swing/table/DefaultTableCellRenderer.java:
	(getTableCellRendererComponent): If a JTextField is passed in, return
	one.  This is used for editing JTable cells.

	2005-08-09  Mark Wielaard  <mark@klomp.org>

	* javax/swing/tree/DefaultTreeModel.java: Fix copyright
	boilerplate formatting.

	2005-08-09  Lillian Angel  <langel@redhat.com>

	* javax/swing/tree/DefaultTreeModel.java:
	Fixed formatting of class.

	2005-08-09  Lillian Angel  <langel@redhat.com>

	Fixes Bug #23255
	* javax/swing/plaf/basic/BasicTreeUI.java:
	Fixed entire class to use Objects as opposed to TreeNodes.
	(getPathBounds): Changed root to Object
	(getPathForRow): Likewise.
	(getRowCount): Likewise.
	(getPreferredSize): Changed root and nextNode to be of type
	Object.
	(isLeaf): Took out unnecessary code. 
	(keyPressed): Changed all TreeNodes to be of type Object.
	(getCellLocation): Likewise.
	(paintNode): Likewise.
	(paintRecursive): Likewise.
	(getParent): Implemented.
	(findNode): Helper Implemented.
	(getNextVisibleNode): Changed return and parameter type to Object.
	(getPreviousVisibleNode): Likewise.
	(getNextNode): Likewise.
	(getPreviousNode): Likewise.
	(getNextSibling): Likewise.
	(getPreviousSibling): Likewise.
	(getPathToRoot): Likewise.
	(getLevel): Likewise.
	* javax/swing/tree/DefaultTreeModel.java
	(getIndexOfChild): Implemented.

	2005-08-09  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/package.html: Documentation update.
        * org/omg/DynamicAny/package.html: New file.

2005-08-10  Andreas Tobler  <a.tobler@schweiz.ch>

	* config/powerpc/ppc_stack_frame.h (FPFRAME): Return an address and
	not a pointer.

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

        * kaffe/kaffevm/gtypes.h,
        config/alpha/jit.h,
        config/arm/jit.h,
        config/i386/jit.h,
        config/m68k/jit.h,
        config/m68k/openbsd2/jit.h,
        config/mips/jit.h,
        config/powerpc/jit.h,
        config/sparc/jit.h,
        include/native.h,
        kaffe/kaffevm/classMethod.h,
        kaffe/kaffevm/code-analyse.h,
        kaffe/kaffevm/code.h,
        kaffe/kaffevm/exception.h,
        kaffe/kaffevm/external.h,
        kaffe/kaffevm/javacall.c,
        kaffe/kaffevm/stackTrace.h,
        kaffe/kaffevm/support.c,
        kaffe/kaffevm/support.h,
        kaffe/kaffevm/gcj/gcj.h,
        kaffe/kaffevm/intrp/machine.c,
        kaffe/kaffevm/intrp/machine.h,
        kaffe/kaffevm/jit/machine.h:
	Renamed struct _fields to struct _jfieldID and
	struct _methods to struct _jmethodID to match the
	convention in GNU Classpath from include/jni.h and
	fix compiler warnings.

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/linux/md.h (sparcLinuxContextSwitch):
	Added missing prototype to fix compiler warning.

2005-08-10  Andreas Tobler  <a.tobler@schweiz.ch>

	* kaffe/kaffevm/findInJar.c (findClassInJar CP_ZIPFILE): Fix data type
	to avoid compiler signedness warnings.
	(findClassInJar CP_DIR): Likewise.
	(getManifestMainAttribute): Change to char* to fix compiler warnings.

2005-08-10  Andreas Tobler  <a.tobler@schweiz.ch>

	* libraries/clib/net/PlainDatagramSocketImpl.c
	(gnu_java_net_PlainDatagramSocketImpl_send0): Initialize alen.
	(gnu_java_net_PlainDatagramSocketImpl_socketGetOption): Likewise for r.
	(gnu_java_net_PlainDatagramSocketImpl_joinGroup): Likewise.

2005-08-10  Andreas Tobler  <a.tobler@schweiz.ch>

	* kaffe/kaffevm/stringParsing.c (skipChars): Change arguments to
	char *.
	(skipSpace): Likewise.

2005-08-10  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/clib/io/File.c (java_io_VMFile_list):
	Keep the order of files as returned by readdir so that
	the result may be similar to that of other VM's.
	Suggested by Wolfgang Baer <WBaer@gmx.de>.

2005-08-10   Wolfgang Baer <WBaer@gmx.de>

	* kaffe/scripts/jdb.in: Add some explanations to the output of the jdb
	placeholder script.

2005-08-10  Kurt Miller <truk@optonline.net>

	* kaffe/kaffeh/support.c:
	Add constant suffixes to constant values (L, LL, f).
	Change CONSTANT_Long to print in decimal instead of hex.
	Fix CONSTANT_Double on little endian and lp64 arches.
	Allow private static final constants to be output.
	Output #undef before any constant #define to fix cases
	where multiple defines are output with same name 

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/jit3-icode.h:
	(HAVE_move_float_const, HAVE_move_double_const): Removed.

	* config/powerpc/jit3-powerpc.def (define_insn(move_float_const,
	fmove_RxC)): Removed empty function to fix unused variable warnings.
	(define_insn(move_double, fmovel_RxR)): Likewise.

	Based on a patch by:  Andreas Tobler  <toa@pop.agri.ch>

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/intrp/machine.c (virtualMachine):
	Fixed build with JVMPI.

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-08  Casey Marshall  <csm@gnu.org>

        PR classpath/23120
        * gnu/java/security/provider/DSAKeyPairGenerator.java
        (<init>): made public; set default values.
        (initialize): just call 'initialize(int,boolean,SecureRandom).'
        (initialize): just call 'initialize(DSAParams,SecureRandom).'
        (initialize): check all values for 'null' before overwriting.
        (initialize): fill in defaults or generate new parameters here.
        (generateKeyPair): don't create parameters; fill in 'random' if
        'null;' use 'random,' not a new Random object, when generating
        random numbers.
        (getDefaults): fix keysize check.

        PR classpath/22990
        * java/security/KeyPairGenerator.java (initialize): do nothing.

	2005-08-08  Tom Tromey  <tromey@redhat.com>

        PR classpath/23285:
        * native/jni/classpath/classpath_jawt.h
        (classpath_jawt_get_awt_version, classpath_jawt_lock,
        classpath_jawt_unlock, classpath_jawt_create_lock,
        classpath_jawt_destroy_lock): Use '(void)' in prototype.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_SOURCES): Added
        gtk_jawt.c.
        * native/jni/gtk-peer/gtk_jawt.c: New file from libgcj.
        (classpath_jawt_create_lock, classpath_jawt_destroy_lock): Use
        cp_gtk_gdk_env.

	2005-08-08  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/FieldNameHelper.java: New file.

	2005-08-08  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/_DynAnyFactoryStub.java,
        org/omg/DynamicAny/_DynAnyStub.java,
        org/omg/DynamicAny/_DynArrayStub.java,
        org/omg/DynamicAny/_DynEnumStub.java,
        org/omg/DynamicAny/_DynFixedStub.java,
        org/omg/DynamicAny/_DynStructStub.java,
        org/omg/DynamicAny/_DynUnionStub.java,
        org/omg/DynamicAny/_DynValueStub.java,
        org/omg/DynamicAny/_DynSequenceStub.java: New files.

	2005-08-08  Lillian Angel  <langel@redhat.com>

        Fixes bug #23252
        * javax/swing/JTree.java
        (setModel): Changed to allow model to be null.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (setModel): Changed to depend on JTree functions
        (getPathBounds): Fixed to work when model = null.
        (getPathForRow): Likewise.
        (getRowCount): Likewise.
        (installListeners): Likewise.
        (installUI): Likewise.
        (paint): Likewise.
        (getPreferredSize): Likewise.

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/global-regs.c,
	kaffe/kaffevm/jit3/global-regs.h:
	New files. Spilt out global register handling code 
	from machine.c.

	* config/i386/common.h: Include gtypes.h.

	* kaffe/kaffevm/code-analyse.h: Include classMethod.h

	* kaffe/kaffevm/jit3/Makefile.am:
	Added global-regs.c and global-regs.h.

	* kaffe/kaffevm/jit3/icode.c: Include global-regs.h.
	Only call setupGlobalRegisters if NR_GLOBALS is defined.

	* kaffe/kaffevm/jit3/machine.c (sortSlots, bindSlotToGlobal,
	setupGlobalRegisters): Moved over to global-regs.c.

	* kaffe/kaffevm/jit3/machine.h: Include gtypes.h.
	Removed setupGlobalRegisters prototype.

	* kaffe/kaffevm/jit3/registers.h: Include slots.h.

	Reported by:  Andreas Tobler  <toa@pop.agri.ch>

2005-08-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-08  Casey Marshall  <csm@gnu.org>

        Fixes bug #22914
        * gnu/classpath/debug/Component.java (POLICY): new constant.
        * gnu/java/security/PolicyFile.java (logger): new constant.
        (DEBUG,debug,debug): removed.
        (DEFAULT_POLICY): use 'SystemProperties' class to bypass security
        check.
        (DEFAULT_USER_POLICY): new constant.
        (getPermissions): replace 'debug' calls with logger calls.
        (refresh): add 'DEFAULT_USER_POLICY' to the initial list;
        interpret 'java.security.policy' and 'policy.url' properties
        properly; replace 'debug' calls with logger calls.
        (parse): replace 'debug' calls with logger calls.

	2005-08-07  Casey Marshall  <csm@gnu.org>

        * javax/security/auth/x500/X500Principal.java
        (encodeDer): use the right iterator for the inner loop.
        (parseString): test for end of input.
        (readAttributeType): provide detail message for exception.
        (readAttributeValue): return the result on end of input;
        read the next character while looping.
        (putComponent): accept 'o' and 'ou' short names.

2005-08-09  Jim Huang  <jserv@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AWTEvent.java
	(registerSource) (unregisterSource),
	libraries/javalib/awt-implementations/kaffe/java/awt/Component.java
	(getNativeData),
	libraries/javalib/awt-implementations/kaffe/java/awt/Font.java
	(Font.nativeData),
	libraries/javalib/awt-implementations/kaffe/java/awt/FontMetrics.java
	(FontMetrics.nativeData),
	libraries/javalib/awt-implementations/kaffe/java/awt/Image.java
	(Image.oldNativeData),
	libraries/javalib/awt-implementations/kaffe/java/awt/ImageFrameLoader.java
	(runINPLoop),
	libraries/javalib/awt-implementations/kaffe/java/awt/ImageNativeProducer.java
	(produceFrom) (produceFrom),
	libraries/javalib/awt-implementations/kaffe/java/awt/NativeClipboard.java
	(NativeClipboard.nativeData),
	libraries/javalib/awt-implementations/kaffe/java/awt/NativeGraphics.java
	(NativeGraphics.nativeData) (getGraphics) (setGraphics),
	libraries/javalib/awt-implementations/kaffe/java/awt/Toolkit.java
	(cbdFreeClipboard) (cbdGetContents) (cbdInitClipboard) (cbdSetOwner)
	(evtRegisterSource) (evtUnregisterSource) (fntBytesWidth)
	(fntCharWidth) (fntFreeFont) (fntFreeFontMetrics) (fntGetAscent)
	(fntGetDescent) (fntGetFixedWidth) (fntGetHeight) (fntGetLeading)
	(fntGetMaxAdvance) (fntGetMaxDescent) (fntGetWidths) (fntInitFont)
	(fntInitFontMetrics) (fntIsWideFont) (fntStringWidth) (graAddClip)
	(graClearRect) (graCopyArea) (graDraw3DRect) (graDrawArc)
	(graDrawChars) (graDrawImage) (graDrawImageScaled) (graDrawLine)
	(graDrawOval) (graDrawPolygon) (graDrawPolyline) (graDrawRect)
	(graDrawRoundRect) (graDrawString) (graFill3DRect) (graFillArc)
	(graFillOval) (graFillPolygon) (graFillRect) (graFillRoundRect)
	(graFreeGraphics) (graInitGraphics) (graSetBackColor) (graSetClip)
	(graSetColor) (graSetFont) (graSetOffset) (graSetPaintMode)
	(graSetVisible) (graSetXORMode) (imgComplete) (imgCreateFromData)
	(imgCreateFromFile) (imgCreateImage) (imgCreateScaledImage)
	(imgCreateScreenImage) (imgFreeImage) (imgGetHeight) (imgGetLatency)
	(imgGetNextFrame) (imgGetWidth) (imgIsMultiFrame) (imgProduceImage)
	(imgSetFrame) (imgSetIdxPels) (imgSetRGBPels) (wndCreateDialog)
	(wndCreateFrame) (wndCreateWindow) (wndDestroyWindow) (wndRepaint)
	(wndRequestFocus) (wndSetBounds) (wndSetCursor) (wndSetIcon)
	(wndSetResizable) (wndSetTitle) (wndSetVisible) (wndToBack)
	(wndToFront),
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java
	(Window.nativeData) (getNativeData):
	Reflect recent changes in GNU Classpath. Change gnu.classpath.RawData
	to gnu.classpath.Pointer.

2005-08-08  Andreas Tobler  <a.tobler@schweiz.ch>

	* kaffe/kaffevm/jit3/icode.c (cvt_double_int): Remove unused variable.

	* kaffe/kaffe/main.c (setKaffeAWT): Silence unused function warnings.

2005-08-08   Wolfgang Baer <WBaer@gmx.de>

	* kaffe/man/kaffe.1.xml,
	kaffe/man/kaffe.1.in: Fixes for manpages.

2005-08-08  Andreas Tobler  <toa@pop.agri.ch>

	* config/sparc/trampolines.S: Set alignment to 8
	to accomodate 64bit sparcs.

2005-08-08  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jni/jni-base.c (JNI_CreateJavaVM):
	Moved errbuf into JVMPI section to fix compiler warning.

2005-08-08  Dalibor Topic  <robilad@kaffe.org>

	Fixed make distcheck.

	* include/Makefile.am: Added kaffe/trampoline.h.
	(DISTCLEANFILES) Added config-int.h.

	* test/jni/Makefile.am (CLEANFILES) Added *.class files.

	* po/de.po,
	po/fr.po,
	po/kaffe.pot,
	po/zh_CN.po,
	po/zh_TW.po: Regenerated.

2005-08-08  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-08-07  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/AnySeqHelper.java,
        org/omg/DynamicAny/NameDynAnyPairSeqHelper.java,
        org/omg/DynamicAny/NameValuePairHelper.java,
        org/omg/DynamicAny/NameDynAnyPairHelper.java,
        org/omg/DynamicAny/NameValuePairSeqHelper.java,
        org/omg/DynamicAny/DynAnySeqHelper.java,
        gnu/CORBA/DynAnySeqHolder.java,
        gnu/CORBA/NameDynAnyPairSeqHolder.java,
        gnu/CORBA/NameDynAnyPairHolder.java,
        gnu/CORBA/NameValuePairSeqHolder.java,
        gnu/CORBA/NameValuePairHolder.java: New files.

	2005-08-07  Ito Kazumitsu <kaz@maczuka.gcd.org>

        Fixes bug #22929
        * libraries/javalib/java/net/NetworkInterface.java
        (condense): New static private method.
        (getNetworkInterfaces): Call condense().
        (getByName, getByInetAddress): Call getNetworkInterfaces()
        so that condensed result may be returned.

        * vm/reference/java/net/VMNetworkInterface.java (getInterfaces):
        Clarify return value in documentation.

	2005-08-07  Mark Wielaard  <mark@klomp.org>

        Fixes bug #22920
        * java/net/DatagramSocket.java (DatagramSocket(SocketAddress)):
        Use gnu.classpath.SystemProperties to get impl.prefix.

	2005-08-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/CDR/noHeaderInput.java,
        gnu/CORBA/gnuValueHolder.java,
        gnu/CORBA/DynAn/gnuDynAny.java,
        gnu/CORBA/DynAn/gnuDynArray.java,
        gnu/CORBA/DynAn/gnuDynSequence.java,
        gnu/CORBA/DynAn/gnuDynValueBox.java,
        gnu/CORBA/DynAn/abstractRecord.java,
        gnu/CORBA/DynAn/gnuDynAnyFactory.java,
        gnu/CORBA/DynAn/gnuDynValue.java,
        gnu/CORBA/DynAn/gnuDynStruct.java,
        gnu/CORBA/DynAn/anyDivideable.java,
        gnu/CORBA/DynAn/anyUndivideable.java,
        gnu/CORBA/DynAn/gnuDynEnum.java,
        gnu/CORBA/DynAn/abstractDynAny.java,
        gnu/CORBA/DynAn/gnuDynFixed.java,
        gnu/CORBA/DynAn/valueChangedListener.java,
        gnu/CORBA/DynAn/gnuDynUnion.java: New files.
        * org/omg/DynamicAny/DynUnionOperations.java,
        org/omg/DynamicAny/DynAnyOperations.java,
        org/omg/DynamicAny/DynAnyFactoryOperations.java,
        org/omg/DynamicAny/DynValueBox.java,
        org/omg/DynamicAny/DynValueCommon.java,
        org/omg/DynamicAny/DynAnyFactoryHelper.java,
        gnu/CORBA/typeNamer.java,
        gnu/CORBA/fixedTypeCode.java,
        gnu/CORBA/CDR/Vio.java,
        gnu/CORBA/CDR/cdrInput.java,
        gnu/CORBA/CDR/cdrOutput.java,
        gnu/CORBA/holderFactory.java,
        gnu/CORBA/universalHolder.java,
        gnu/CORBA/Poa/ORB_1_4.java,
        gnu/CORBA/Restricted_ORB.java,
        gnu/CORBA/gnuAny.java,
        org/omg/CORBA/TypeCode.java
        org/omg/CORBA/Any.java,
        org/omg/CORBA/ORB.java,
        org/omg/CORBA/ObjectHelper.java,
        org/omg/CORBA/ObjectHolder.java,
        org/omg/CORBA_2_3/portable/InputStream.java,
        org/omg/CORBA_2_3/portable/OutputStream.java,
        gnu/CORBA/DynAn/NameValuePairHolder.java: Rewritten.

	2005-08-06  Jeroen Frijters  <jeroen@frijters.net>

        * java/io/ObjectInputStream.java
        (readClassDescriptor): Removed bogus handling of primitive types.
        (readFields.GetField.defaulted): Pass cause to exception.
        (readFields.GetField.getField): Pass cause to exception.
        (newObject, callReadMethod): Call initCause on exception.

	2005-08-06  Jeroen Frijters  <jeroen@frijters.net>

        * java/lang/IllegalArgumentException.java,
        java/lang/IllegalStateException.java,
        java/lang/SecurityException.java,
        java/lang/UnsupportedOperationException.java: Merged from generics
        branch.

	2005-08-05  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java:
        (getPathBounds): Changed to use TreeNode and not
        DefaultMutableTreeNode.
        (getPathForRow): Likewise.
        (getRowCount): Likewise.
        (getPreferredSize): Likewise.
        (keyPressed): Likewise.
        (paintNode): Likewise.
        (getCellLocation): Likewise.
        (paintRecursive): Likewise.
        (paintControlIcons): Likewise.
        (getNextVisibleNode): Likewise.
        (getPreviousVisibleNode): Likewise.
        (getNextNode): Implemented because not using DefaultMutableTreeNode.
        (getPreviousNode): Implemented
        (getNextSibling): Implemented
        (getPreviousSibling): Implemented
        (getPathToRoot): Implemented
        (getLevel): Implemented

	2005-08-05  Mark Wielaard  <mark@klomp.org>

        * java/awt/datatransfer/FlavorEvent.java: New class.
        * java/awt/datatransfer/FlavorListener.java: Likewise.
        * java/awt/datatransfer/Clipboard.java (name): Made final.
        (listeners): New final ArrayList field.
        (setContents): Reimplemented.
        (getAvailableDataFlavors): New method.
        (isDataFlavorAvailable): Likewise.
        (getData): Likewise.
        (addFlavorListener): Likewise.
        (removeFlavorListener): Likewise.
        (getFlavorListeners): Likewise.
        * java/awt/datatransfer/DataFlavor.java (javaFileListFlavor):
        Construct with mime media-type application/x-java-file-list.
        (DataFlavor(String mimeType, String humanPresentableName)): Call
        constructor that uses given mimeType.
        (getSubType): Reimplemented.
        (getParameter): Handle 'vitual' humanPresentableName parameter.
        (isMimeTypeEqual): Reimplement.
        (isRepresentationClassRemote): Implement.
        (toString): Add formatting.

	2005-08-05  Lillian Angel  <langel@redhat.com>

        * java/awt/GridBagLayout.java
        (setConstraints): Removed checks in if statements because if the height
        or width is less than 0, it should be updated to a positive number in
        all cases.

	2005-08-05  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: Include
        jcl.h.
        (createRawData): Removed unused variable method.
        (getData): Removed unused variable field.
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c
        (createRawData): Removed unused variable method.
        (getData): Removed unused variable field.
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c
        (createRawData): Removed unused variable method.
        (getData): Removed unused variable field.
        * native/jni/java-nio/java_nio_VMDirectByteBuffer.c
        (Java_java_nio_VMDirectByteBuffer_init): Removed.
        * vm/reference/java/nio/VMDirectByteBuffer.java (init): Removed.
        * include/java_nio_VMDirectByteBuffer.h: Regenerated.

	2005-08-05  Roman Kennke  <roman@kennke.org>

        * java/awt/Container.java:
        (preferredSize): Call getLayout() instead of directly referencing
        the private field. This makes components work that override
        getLayout().
        (minimumSize): Call getLayout() instead of directly referencing
        the private field. This makes components work that override
        getLayout(). Use cached size if component is still valid.
        (maximumSize): Call getLayout() instead of directly referencing
        the private field. This makes components work that override
        getLayout(). Use cached size if component is still valid.
        (update): If we are a top-level-container, call super.update(),
        otherwise directly call paint().
        (visitChildren): Also visit children that are itself Containers.
        * java/awt/Component.java
        (update): Clear the background only for lightweight and top-level
        components.

	2005-08-05  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicGraphicsUtils.java
        (getPreferredButtonSize): Added horizontalAdjustment to width
        to create gap at end of label text.
        * javax/swing/plaf/basic/BasicMenuItemUI.java
        (getPreferredSize): Removed "*2" since fix was moved to
        BasicGraphicsUtils

	2005-08-05  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/DefaultCaret.java: Added API comments all
        over.
        * javax/swing/text/DefaultEditorKit.java: Added API comments
        all over.

	2005-08-05  Jeroen Frijters  <jeroen@frijters.net>

        * java/io/ObjectInputStream.java
        (read(byte[],int,int)): Simplified and fixed bug 23236.

	2005-08-04  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicMenuItemUI.java
        (getPreferredSize): Multiplied defaultTextIconGap by 2,
        so there is equal space around the MenuItem

	2005-08-04  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicMenuItemUI.java
        (paintIcon): Added in border painting code for MenuItem
        * javax/swing/plaf/metal/MetalLookAndFeel.java:
        Added in default for CheckBox border

	2005-08-04  Roman Kennke  <roman@kennke.org>

        * java/awt/BorderLayout.java: Reformatted this file to meet our
        coding standards.

	2005-08-04  Roman Kennke  <roman@kennke.org>

        * java/awt/BorderLayout.java
        (layoutContainer): Replaced getSize() call with getWidth() and
        getHeight(). This avoids heap allocation and fixes a bug in
        an application here.

	2005-08-04  Lillian Angel  <langel@redhat.com>

        * javax/swing/JCheckBox.java
        (init): Moved these to ui
        * javax/swing/plaf/basic/BasicCheckBoxUI.java
        (installUI): initalized icons
        * javax/swing/plaf/metal/MetalLookAndFeel.java:
        Took out CheckBoxMenuItem defaults because did not
        work as expected. For now it uses the BasicL&F's defaults.

	2005-08-04  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JList.java:
        (getFirstVisibleIndex): Translate visible rectangle by one less pixel.
        (getLastVisibleIndex): Likewise.

	2005-08-04  Lillian Angel  <langel@redhat.com>

        * javax/swing/JCheckBox.java
        (init): Initialized icons. Was not working otherwise.
        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Added in checkIcon for the CheckBox.
        * javax/swing/plaf/metal/MetalLookAndFeel.java:
        Added in checkIcon for CheckBox and defaults for
        CheckBoxMenuItem.

	2005-08-03  Lillian Angel  <langel@redhat.com>

        * javax/swing/JCheckBoxMenuItem.java
        (installUI): set the items visible. Fixes exceptions that are
        thrown because item is not explicitly set visible.

	2005-08-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicViewportUI.java
        (paintSimple): Corrected the clip that is used to draw the
        viewport's content. This fixes scrolling in JScrollPane and
        JViewport.

	2005-08-03  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Changed the fonts from Helvetica to Dialog.

	2005-08-03  Guilhem Lavaux  <guilhem@kaffe.org>

        * include/java_nio_VMDirectByteBuffer.h:
        Regenerated.

        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c
        (getData): Fixed function call.

        Reported by: Andreas Tobler <toa@pop.agri.ch>

	2005-08-03  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicIconFactory.java:
        (getMenuItemCheckIcon): Implemented so a check mark is drawn when
        the item is selected.
        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Modified the checkbox defaults
        * javax/swing/plaf/basic/BasicMenuItemUI.java:
        (paintMenuItem): Changed to only draw check when item is selected.

	2005-08-03  Roman Kennke  <roman@kennke.org>

        * java/awt/FontMetrics.java
        (charsWidth): Iterate to len + offset instead to len.

	2005-08-03  Guilhem Lavaux  <guilhem@kaffe.org>

        * native/jni/classpath/jcl.c
        (JCL_NewRawDataObject): Fixed typo.

	2005-08-03  Guilhem Lavaux  <guilhem@kaffe.org>

        * gnu/classpath/Pointer.java,
        gnu/classpath/Pointer32.java,
        gnu/classpath/Pointer64.java,
        gnu/classpath/RawData.java,
        gnu/classpath/RawData32.java,
        gnu/classpath/RawData64.java,
        gnu/java/awt/peer/gtk/GtkImage.java,
        gnu/java/nio/charset/iconv/IconvDecoder.java,
        gnu/java/nio/charset/iconv/IconvEncoder.java,
        java/nio/Buffer.java,
        java/nio/DirectByteBufferImpl.java,
        java/nio/MappedByteBufferImpl.java,
        native/jni/classpath/jcl.c,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c,
        native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c,
        native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
        native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
        native/jni/java-nio/java_nio_MappedByteBufferImpl.c,
        native/jni/java-nio/java_nio_VMDirectByteBuffer.c,
        vm/reference/java/nio/VMDirectByteBuffer.java: Renamed
        references to gnu/classpath/RawData to gnu/classpath/Pointer.

	2005-08-03  Guilhem Lavaux  <guilhem@kaffe.org>

        * java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (mapImpl): Fixed typo.

	2005-08-03  Guilhem Lavaux  <guilhem@kaffe.org>

        * classpath/jcl.c
        (JCl_NewRawDataObject): Added error handling.

        * classpath/jcl.h
        (jpointer): New integer type to represent a pointer.

        * gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c,
        java-nio/gnu_java_nio_channels_FileChannelImpl.c,
        java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
        java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
        java-nio/java_nio_MappedByteBufferImpl.c,
        java-nio/java_nio_VMDirectByteBuffer.c,
        xmlj/xmlj_util.c: Use JCL functions instead of directly
        accessing gnu/classpath/RawData.

	2005-08-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AttributeSet.java: Added some API comments
        to class description.
        * javax/swing/text/BadLocationException.java: Added / fixed
        API comments all over.
        * javax/swing/text/Caret.java: Added API comments all over.

	2005-08-02  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (getBounds): Removed debug statements that accidentally slipped in.

	2005-08-02  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable.java:
        (getCellRect): Height should be the row height, not the entire table
        height.
        (getRowHeight): New public method, part of API.
        * javax/swing/JViewport.java:
        (scrollRectToVisible): Fixed buggy scrolling conditions.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed): Implemented PAGE-UP, PAGE-DOWN, CTRL-PAGE-UP,
        and CTRL-PAGE-DOWN key actions.  Also added line to scroll the table
        appropriately after changing the selection.
        (KeyHandler.getFirstVisibleColumnIndex): New implementation method.
        (KeyHandler.getLastVisibleColumnIndex): Likewise.
        (KeyHandler.getFirstVisibleRowIndex): Likewise.
        (KeyHandler.getLastVisibleRowIndex): Likewise.
	2005-08-02  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java
        (AbstractElement.AbstractElement): Create an empty AttributeSet
        if the argument s == null.
        (AbstractElement.getAttribute): Return the element itself instead
        of the wrapped attributes.

	2005-08-02  Roman Kennke  <roman@kennke.org>

        * java/awt/Toolkit.java
        (createCustomCursor): Added check for headless environment.
        (getBestCursorSize): Added check for headless environment.

	2005-08-02  Lillian Angel  <langel@redhat.com>

        * javax/swing/text/GapContent.java
        (shiftGap): Changed to used '&&'. both indexes should be
        greater than 0.

	2005-08-02  Lillian Angel  <langel@redhat.com>

        * javax/swing/text/GapContent.java:
        Formatting code.

	2005-08-02  Lillian Angel  <langel@redhat.com>

        * javax/swing/text/GapContent.java
        (shiftGap): Added in if statement to check if indexes are negative.
        Does not work properly if they are.

	2005-08-02  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java
        (RootView.viewToModel): New method.
        * javax/swing/text/BoxView.java
        (isBefore): New method. This is a stub method to implement the
        new abstract method from CompositeView.
        (isAfter): New method. This is a stub method to implement the
        new abstract method from CompositeView.
        (getViewAtPoint): New method. This is a stub method to implement the
        new abstract method from CompositeView.
        (childAllocation): New method. This is a stub method to implement the
        new abstract method from CompositeView.
        * javax/swing/text/ComponentView.java
        (viewToModel): New method. This is a stub method to implement the
        new abstract method from View.
        * javax/swing/text/CompositeView.java
        (loadChildren): Implemented new method.
        (setParent): Implemented new method.
        (getViewCount): Implemented new method.
        (getView): Implemented new method.
        (replace): Implemented new method.
        (getChildAllocation): Implemented new method.
        (modelToView(int, Shape, Position.Bias)): Implemented this method.
        (modelToView(int, Position.Bias, int, Position.Bias, Shape):
        Implemented new method.
        (viewToModel): Implemented new method.
        (getNextVisualPositionFrom): Implemented new method.
        (getViewIndex): Implemented new method.
        (isBefore): New abstract method.
        (isAfter): New abstract method.
        (getViewAtPoint): New abstract method.
        (childAllocation): New abstract method.
        (getViewAtPosition): Implemented new method.
        (getViewIndexAtPosition): Implemented new method.
        (getInsideAllocation): Implemented new method.
        (setParagraphInsets): Implemented new method.
        (setInsets): Implemented new method.
        (getLeftInset): Implemented new method.
        (getRightInset): Implemented new method.
        (getTopInset): Implemented new method.
        (getBottomInset): Implemented new method.
        (getNextNorthSouthVisualPositionFrom): New method.
        (getNextEastWestVisualPositionFrom): New method.
        (flipEastAndWestAtEnds): Implemented new method.
        * javax/swing/text/GlyphView.java
        (viewToModel): New method. This is a stub method to implement the
        new abstract method from View.
        * javax/swing/text/IconView.java
        (viewToModel): New method. This is a stub method to implement the
        new abstract method from View.
        * javax/swing/text/PlainView.java
        (viewToModel): New method. This is a stub method to implement the
        new abstract method from View.
        * javax/swing/text/View.java
        (viewToModel): New abstract method.

	2005-08-02  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/DynValueCommon.java: Inherit from
        DynValueOperations, DynAny, IDLEntity, org.omg.CORBA.Object,
        Serializable.
        * org/omg/DynamicAny/DynValueCommonOperations.java: Inherit from
        DynAnyOperations.
        * org/omg/DynamicAny/DynAnyHelper.java,
        org/omg/DynamicAny/DynStructHelper.java,
        org/omg/DynamicAny/DynUnionHelper.java,
        org/omg/DynamicAny/DynValueHelper.java,
        org/omg/DynamicAny/DynAnyFactoryHelper.java,
        org/omg/DynamicAny/DynArrayHelper.java,
        org/omg/DynamicAny/DynEnumHelper.java,
        org/omg/DynamicAny/DynFixedHelper.java,
        org/omg/DynamicAny/DynSequenceHelper.java: New files.

	2005-08-01  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AttributeSet.java: Added API comments all over.

	2005-08-01  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java: Added API comments all over.

	2005-08-01  Mark Wielaard  <mark@klomp.org>

        Reported by Wolfgang Baer <WBaer@gmx.de>
        * javax/swing/text/GapContent.java (shiftGap): Use new
        CapContentPosition in binarySearch.
        (shiftEnd): Likewise.

	2005-08-01  Jan Roehrich <jan@roehrich.info>

        * javax.swing.plaf.basic.BasicTreeUI: Method drawCentered
        added / corrected javadoc issues in paintHorizonalLine
        and paintVerticalLine / fixed getRightChildIndent signature
        (problem probably caused by copy/paste)

	2005-08-01  Jan Roehrich <jan@roehrich.info>

        * javax.swing.plaf.basic.BasicTreeUI: paintVerticalLine and
        paintHorizontalLine added.

	2005-07-31  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        org/omg/DynamicAny/DynValueOperations.java,
        org/omg/DynamicAny/DynAnyFactory.java,
        org/omg/DynamicAny/DynAnyFactoryOperations.java,
        org/omg/DynamicAny/DynValue.java,
        org/omg/DynamicAny/DynValueBox.java,
        org/omg/DynamicAny/DynValueBoxOperations.java,
        org/omg/DynamicAny/DynValueCommon.java,
        org/omg/DynamicAny/DynValueCommonOperations.java: New files.

	2005-07-31  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/DynFixedOperations.java,
        org/omg/DynamicAny/DynEnum.java,
        org/omg/DynamicAny/DynArrayOperations.java: Inherit from
        DynAnyOperations.
        * org/omg/DynamicAny/NameDynAnyPair.java: Inherit from
        org.omg.CORBA.portable.IDLEntity.
        * org/omg/DynamicAny/DynAnyOperations.java
        (assign, current_component): Fixes in throws declaration.
        * org/omg/DynamicAny/DynEnumOperations.java,
        org/omg/DynamicAny/DynSequenceOperations.java,
        org/omg/DynamicAny/DynStructOperations.java,
        org/omg/DynamicAny/DynUnionOperations.java,
        org/omg/DynamicAny/DynAny.java,
        org/omg/DynamicAny/DynFixed.java,
        org/omg/DynamicAny/DynSequence.java,
        org/omg/DynamicAny/DynStruct.java,
        org/omg/DynamicAny/DynUnion.java,
        org/omg/DynamicAny/DynArray.java,
        org/omg/DynamicAny/NameValuePair.java: Reformatted.

	2005-07-31  Mark Wielaard  <mark@klomp.org>

        * gnu/java/nio/FileLockImpl.java: Mark class final.
        (ch): Removed field.
        (valid): New field.
        (FileLockImpl): Set valid to true.
        (isValid): Test and set valid field.
        (release): Release lock if it is still valid.
        * java/nio/channels/FileLock.java: Mark all fields private final.
        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (Java_gnu_java_nio_channels_FileChannelImpl_lock): Translate
        Long.MAX_VALUE to zero for fcntl.
        (Java_gnu_java_nio_channels_FileChannelImpl_unlock): Likewise.

	2005-07-31  Jan Roehrich  <jan@roehrich.info>

        * javax.swing.plaf.basic.BasicTreeUI: fixed indentation.

	2005-07-30  Casey Marshall  <csm@gnu.org>

        * native/jni/java-nio/java_nio_MappedByteBuffer.c
        (Java_java_nio_MappedByteBufferImpl_isLoadedImpl): cast argument 3
        to 'mincore' to 'void *' to avoid warnings on GNU.

	2005-07-30  Casey Marshall  <csm@gnu.org>

        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (Java_gnu_java_nio_channels_FileChannelImpl_mapImpl):
        eliminate various compiler warnings; mark 'buffer' as 'volatile;'
        throw an exception if we can't get a constructor method ID.
        * native/jni/java-nio/java_nio_MappedByteBufferImpl.c:
        include 'stdlib.h.'
        (get_raw_values): eliminate compiler warnings.
        (Java_java_nio_MappedByteBufferImpl_isLoadedImpl): likewise.
        * native/jni/java-nio/java_nio_VMDirectByteBuffer.c
        (Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_RawData_2I_3BII):
        eliminate compiler warning.

2005-08-08  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/jit-sparc.def: Removed empty popargs function.

	* config/sparc/jit-icode.h: Undefined popargs.

2005-08-08  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac : Always execute configure for boehm-gc to avoid
	confusing distcheck.

	* config/Makefile.am: Fixed spelling of i386/fpu-set.h

2005-08-07  Riccardo Mottola  <multix@gmail.com>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c:
	Added missing includes for waitpid to fix build on gnu hurd.

2005-08-06  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/jit-sparc.def:
	(argcount) removed as argcount is handled in jit code
	already. Removed all uses to fix Debian bug #321209.

	* kaffe/kaffevm/classMethod.h (initialiseSecurity)
	Added missing prototype to fix compiler warning.
	
2005-08-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jar.c (jarSeek): Initialize pos
	before use.
	(getCentralDirCount) Initialize dir_size before use.

	* kaffe/kaffevm/locks.c (slowLockObject): Initialize
	isContention before use.

	* kaffe/kaffevm/jni/jni-helpers.c (KaffeJNI_GetDirectBufferCapacity)
	Return jlong.

	* kaffe/kaffevm/jni/jni-string.c (KaffeJNI_GetStringUTFChars) Return
	const char*. Changed type of return buffer to char*.

	* kaffe/kaffevm/jni/jni_funcs.h (KaffeJNI_GetDirectBufferCapacity,
	KaffeJNI_GetStringUTFChars): Fixed prototypes to match declarations
	in jni.h.

	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c (jthreadedBind,
	jthreadedConnect) Fixed to match declaration. Removed no longer
	necessary socklen_t casts.

2005-08-05  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/codeproto.h  (and_int_const): 
	Added missing prototype.

2005-08-05  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit/icode.c
	(cvt_double_int) Removed unused variable i.

2005-08-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/target/generic/target_generic_file.h (TARGET_NATIVE_FILE_FSYNC): 
	Swapped with
	* libraries/clib/target/Linux/target_native_file.h (TARGET_NATIVE_FILE_FSYNC): 
	to make sure all the wrapped native calls are in the Linux layer.

2005-08-05  Dalibor Topic  <robilad@kaffe.org>

	* include/jsyscall.h (KFTRUNCATE, KFSYNC, KREAD, KWRITE): Documented.

2005-08-05  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/target/Linux/target_native_file.h (TARGET_NATIVE_FILE_FSYNC,
	TARGET_NATIVE_FILE_TRUNCATE, TARGET_NATIVE_FILE_WRITE,
	TARGET_NATIVE_FILE_READ): New macros used to delegate
	system calls to thread-safe wrappers for system calls.
	
2005-08-04  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/target/Linux/target_native_file.h 
	(TARGET_NATIVE_FILE_SEEK_END, TARGET_NATIVE_FILE_SEEK_CURRENT,
	TARGET_NATIVE_FILE_SEEK_BEGIN): New macros used to delegate
	system calls to thread-safe wrappers for system calls.

2005-08-03 Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for fstat.

	Reported by:  Ito Kazumitsu  <kaz@maczuka.gcd.org>

2005-08-03 Dalibor Topic  <robilad@kaffe.org>

	* test/regression/BufferedInputStreamAvailableTest.java:
	Use file TestScript for testing input, as it exists in
	both builddir and srcdir, so if these are different, the 
	test still passes.

2005-08-03  Guilhem Lavaux <guilhem@kaffe.org>

	* config/powerpc/trampolines.S: Changed commentary type for
	gcc.

	Reported by: Riccardo Mottola <multix@gmail.com>.

2005-08-02 Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* test/regression/BufferedInputStreamAvailableTest.java:
	Weakened the criterion.

2005-08-02 Dalibor Topic  <robilad@kaffe.org>

	* include/jsyscall.h:
	(KOPEN, KLSEEK, KCLOSE, KFSTAT) Documented.

	* libraries/clib/target/Linux/target_native_file.h
	(TARGET_NATIVE_FILE_OPEN, TARGET_NATIVE_FILE_CLOSE,
	TARGET_NATIVE_FILE_AVAILABLE, TARGET_NATIVE_FILE_SIZE,
	TARGET_NATIVE_FILE_TELL): New macros used to delegate
	system calls to thread-safe wrappers for system calls.

	Reported by:  Guilhem Lavaux <guilhem@kaffe.org>

2005-08-01  Guilhem Lavaux <guilhem@kaffe.org>

	* test/jni/Makefile.am: Fixed typo.

	* test/jni/Makefile.in: Regenerated.

	* test/jni/jniWeakTest.c
	(main): Register preloaded symbols.

2005-08-01  Guilhem Lavaux <guilhem@kaffe.org>

	* test/internal/VirtualMethod.java: New test.

	* test/internal/Makefile.am: Added the test.

	* test/internal/Makefile.in: Regenerated.

2005-07-31  Guilhem Lavaux <guilhem@kaffe.org>
	Riccardo Mottola  <multix@gmail.com>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(finaliserJob): Protect the access to the block structure
	as the heap may grow at the same time.
	
2005-07-31 Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* test/regression/BufferedInputStreamAvailableTest.java:
	New file.

	* test/regression/Makefile.am:
	Added BufferedInputStreamAvailableTest.java.

	* test/regression/Makefile.in: regenerated.

2005-07-30 Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/StyledEditorKit.java: Added the remaining API
        comments.

	2005-07-29  Lillian Angel  <langel@redhat.com>

        * javax/swing/MenuSelectionManager.java
        (isComponentPartOfCurrentMenu): Fixed to prevent NPE.
        * javax/swing/plaf/basic/BasicMenuUI.java
        (popupVisible): Likewise.

	2005-07-29  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/event/MouseWheelEvent.java: fixed typo in API docs.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/DefaultStyledDocument.java: Added
        comments all over.
        * javax/swing/text/StyledEditorKit: Likewise.

	2005-07-29  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTextField.java
        (insertString): Added in check for null to resolve a NPE.
        * javax/swing/text/GapContent.java
        (getOffset): Added in check for mark = gapStart because
        if mark = gapStart = 0, then a negative is returned. This was
        not right.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicEditorPaneUI.java: Added API
        comments all over.
        * javax/swing/plaf/basic/BasicTextUI.java: Likewise.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/DefaultStyledDocument.java
        (split): Moved throw statement into proper else clause.
        * javax/swing/text/StyledEditorKit.java
        (StyledViewFactory.create): Return the actual view instead of null.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextPane.java: Added API comments all over.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextPane.java
        (constructor()): Implemented this constructor. Initialize the
        EditorKit and set the Document to null.
        (constructor(StyledDocument)): Implemented this constructor.
        Initialize the EditorKit and Document.
        (getUIClassID): Inlined the constant String.
        (setDocument): Implemented this method.
        (getStyledDocument): Likewise.
        (setStyledDocument): Likewise.
        (replaceSelection): Likewise.
        (insertComponent): Clarified the TODO comment.
        (insertIcon): Clarified the TODO comment.
        (addStyle): Implemented this method.
        (removeStyle): Likewise.
        (getStyle): Likewise.
        (getLogicalStyle): Likewise.
        (setLogicalStyle): Likewise.
        (getCharacterAttributes): Likewise.
        (setCharacterAttributes): Likewise.
        (getParagraphAttributes): Likewise.
        (getInputAttributes): Likewise.
        (getStyledEditorKit): Likewise.
        (createDefaultEditorKit): Likewise.
        (setEditorKit): Likewise.
        * javax/swing/plaf/basic/BasicEditorPaneUI.java
        (getEditorKit): Implemented this method.
        * javax/swing/plaf/basic/BasicTextUI.java
        (RootView.getViewFactory): Ask the installed EditorKit for its
        ViewFactory.
        (RootView.setView): Set this as the parent of the installed real
        root view.
        (RootView.modelToView): Don't cast to PlainView here. Use View
        instead.
        (setView): Don't set the parent here. This is handled inside the
        root view.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java
        (createPosition): Delegate this call to the actual Content.
        (LeafElement.constructor): Manage the start and end marks via
        Position objects.
        (LeafElement.getEndOffset): Use Position instead of static mark.
        (LeafElement.getStartOffset): Use Position instead of static mark.
        * javax/swing/text/DefaultStyledDocument.java
        (ElementBuffer.change): New method. Performs structural changes
        in the element tree that are necessary in order to change
        text attributes.
        (ElementBuffer.changeUpdate): New method. This is the method for
        change().
        (ElementBuffer.split): New package-private method. Splits an
        element into two elements.
        (setCharacterAttributes): Implemented this method. This sets
        character attributes on a piece of content.
        * javax/swing/text/GapContent.java
        (GapContentPosition): New inner class. Implements the Position
        interface for GapContent.
        (constructor): Initialize the list that stores the Position objects.
        (createPosition): Reimplemented. Now uses the GapContentPosition
        class.
        (shiftEnd): Update the stored positions.
        (shiftGap): Update the stored positions.
        * javax/swing/text/LabelView.java: New class.
        * javax/swing/text/PlainDocument.java
        (removeUpdate): Don't update the element positions, this should
        now be handled by the Positions.

	2005-07-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/BoxView.java: New class.
        * javax/swing/text/CompositeView.java: New class.
        * javax/swing/text/FlowView.java: New class.
        * javax/swing/text/GlyphView.java: New class.
        * javax/swing/text/IconView.java: New class.
        * javax/swing/text/ParagraphView.java: New class.
        * javax/swing/text/StyledEditorKit.java
        (UnderLineAction.constructor): Added TODO comment.
        (UnderLineAction.actionPerformed): Implemented this method. This
        toggles the underline attribute to a piece of content.
        (ItalicAction.constructor): Added TODO comment.
        (ItalicAction.actionPerformed): Implemented this method. This
        toggles the italic attribute to a piece of content.
        (BoldAction.constructor): Added TODO comment.
        (BoldAction.actionPerformed): Implemented this method. This
        toggles the bold attribute to a piece of content.
        (AlignmentAction.constructor): Implemented this constructor.
        (AlignmentAction.actionPerformed): Implemented this method. This
        sets the alignment attribute for a piece of content.
        (ForegroundAction.constructor): Implemented this constructor.
        (ForegroundAction.actionPerformed): Implemented this method. This
        sets the foreground attribute for a piece of content.
        (FontSizeAction.constructor): Implemented this constructor.
        (FontSizeAction.actionPerformed): Implemented this method. This
        sets the font size attribute for a piece of content.
        (FontFamilyAction.constructor): Implemented this constructor.
        (FontFamilyAction.actionPerformed): Implemented this method. This
        sets the font family attribute for a piece of content.
        (StyledTextAction.constructor): Removed TODO comment.
        (StyledTextAction.getEditor): Implemented this method.
        (StyledTextAction.getStyledDocument): Implemented this method.
        (StyledTextAction.getStyledEditorKit): Implemented this method.
        (StyledTextAction.setCharacterAttributes): Implemented this method.
        (StyledTextAction.setParagraphAttributes): Implemented this method.
        (StyledViewFactory.constructor): Removed. This is not necessary here.
        (StyledViewFactory.create): Implemented this method.
        (AttributeTracker): Removed this inner class.
        (CaretTracker): New inner class.
        (CaretTracker.caretUpdate):  Implemented this method. This meeps
        track of the caret in a text component and updates some fields
        of the StyledEditorKit.
        (constructor): Implemented this constructor.
        The inputAttributes are initialized here.
        (clone): Implemented this method.
        (getActions): Implemented this method.
        (getInputAttributes): Implemented this method.
        (getCharacterAttributeRun): Implemented this method.
        (createDefaultDocument): Implemented this method.
        (install): Implemented this method.
        (deinstall): Implemented this method.
        (getViewFactory): Implemented this method.
        (createInputAttributes): Implemented this method.
        * javax/swing/text/View.java
        (modelToView(int, Shape, Position.Bias)): Added new abstract method.
        (modelToView(int, Position.Bias, int, Position.Bias, Shape):
        New method.

	2005-07-28  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JViewport.java:
        (scrollRectToVisible): Consider the x and y position of the viewport
        itself when scrolling down.  This fixes an off-by-1-pixel problem.
        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Implemented PAGEUP, SHIFT-PAGEUP, PAGEDOWN,
        and SHIFT-PAGEDOWN key actions.

	2005-07-28  Lillian Angel  <langel@redhat.com>

        * java/awt/GridBagLayout.java
        (distributeSizeAndWeight): added in check, because OutOfBounds exception
        was being raised.
        * javax/swing/JTable.java
        (setRowHeight): Added in, but not implemented.
        * javax/swing/plaf/basic/BasicComboBoxEditor.java
        (setItem): added in check, because NullPointerException was being
        raised.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (getPathBounds): Took out unneeded call.
        (uninstallListeners): added in check, because NPE was being raised.
        (installUI): took out unneeded call.
        (paint): Likewise.
        (getPreferredSize): Should not assume root is an instance of Default
        MutableTreeNode. Changed to use TreeNode instead.
        (getCellBounds): Should never return null
        (getCellLocation): Took out unneeded call.

	2005-07-28  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Replaced calls to KeyEvent.isShiftDown() and
        isControlDown() with comparisons of KeyEvent.getModifiers() and
        InputEvent.SHIFT_MASK and CTRL_MASK.
        (MouseInputHandler.mouseClicked): Reordered SHIFT and CTRL modifier
        actions to correspond to JDK.  Note the JDK simply ignores other
        modifiers so isShiftDown() and isControlDown() are okay for mouse
        input.

	2005-07-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/DynUnion.java,
        org/omg/DynamicAny/DynUnionOperations.java,
        org/omg/DynamicAny/NameDynAnyPair.java,
        org/omg/DynamicAny/NameValuePair.java,
        org/omg/DynamicAny/DynAny.java,
        org/omg/DynamicAny/DynAnyOperations.java,
        org/omg/DynamicAny/DynArray.java,
        org/omg/DynamicAny/DynArrayOperations.java,
        org/omg/DynamicAny/DynEnum.java,
        org/omg/DynamicAny/DynEnumOperations.java,
        org/omg/DynamicAny/DynFixed.java,
        org/omg/DynamicAny/DynFixedOperations.java,
        org/omg/DynamicAny/DynSequence.java,
        org/omg/DynamicAny/DynSequenceOperations.java,
        org/omg/DynamicAny/DynStructOperations.java,
        org/omg/DynamicAny/DynStruct.java: New files.

	2005-07-28  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JViewport.java:
        (scrollRectToVisible): New method, overrides JComponent method as
        intended.

	2005-07-28  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/jni/java-nio/java_nio_MappedByteBufferImpl.c
        (get_raw_values): Add env to getObjectClass call for 64-bit case.

	2005-07-28  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedStringIterator.java: reformatted.

	2005-07-27  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Ensure the new lead selection index is visible
        after making a change.
        (MouseInputHandler.mouseClicked): Likewise.

	2005-07-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/POAHelper.java (type, insert, extract,
        id, read, write): New methods.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedString.java: added/edited API docs.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedString.java: reformatted.

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextPane.java:
        Reformatted file to match our coding style.

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextPane.java
        (getCharacterAttributes): Return SimpleAttributeSet.EMPTY instead
        of null.

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicPanelUI.java
        (installDefaults): Install background color on JPanel.
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Added background color for Panel.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedCharacterIterator.java: API doc fixes.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/text/html/parser/DocumentParser.java: reverted API fix.

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/DefaultBoundedRangeModel.java:
        Fixed / added API comments for class description.
        * javax/swing/DefaultButtonModel.java: Likewise.
        * javax/swing/DefaultCellEditor.java: Likewise.
        * javax/swing/DefaultComboBoxModel.java: Likewise.
        * javax/swing/DefaultDesktopManager.java: Likewise.
        * javax/swing/DefaultButtonModel.java: Likewise.
        * javax/swing/DefaultFocusManager.java: Likewise.
        * javax/swing/DefaultListCellRenderer.java: Likewise.
        * javax/swing/DefaultListModel.java: Likewise.
        * javax/swing/DefaultListSelectionModel.java: Likewise.
        * javax/swing/DefaultSingleSelectionModel.java: Likewise.
        * javax/swing/FocusManager.java: Likewise.
        * javax/swing/GrayFilter.java: Likewise.
        * javax/swing/ImageIcon.java: Likewise.
        * javax/swing/InputMap.java: Likewise.
        * javax/swing/InputVerifier.java: Likewise.
        * javax/swing/InternalFrameFocusTraversalPolicy.java: Likewise.
        * javax/swing/JApplet.java: Likewise.
        * javax/swing/JCheckBox.java: Likewise.
        * javax/swing/JCheckBoxMenuItem.java: Likewise.
        * javax/swing/JColorChooser.java: Likewise.
        * javax/swing/JComboBox.java: Likewise.
        * javax/swing/JComponent.java: Likewise.

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * java/util/Properties.java
        (getPropertyInternal): Removed.
        (getProperty(String)): Search for property here instead of
        getProperty(String, String).
        (getProperty(String,String)): Call getProperty(String).

	2005-07-27  Roman Kennke  <roman@kennke.org>

        * java/awt/MenuItem.java
        (AccessibleAWTMenuItem.setCurrentAccessibleValue): Removed
        duplicate code. Added this to make setEnabled unambiguous for
        javac 1.3 compiler.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/text/html/parser/DocumentParser.java: API doc fixes,
        * javax/swing/text/html/parser/DTD.java: likewise,
        * javax/swing/text/html/parser/DTDConstants.java: likewise,
        * javax/swing/text/html/parser/Element.java: likewise,
        * javax/swing/text/html/parser/Parser.java: likewise,
        * javax/swing/text/html/parser/ParserDelegator.java: likewise.

	2005-07-27  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): added menu-related defaults.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        PR classpath/22989:
        * java/net/Inet4Address.java (isMCNodeLocal): Use super call.
        (isMCOrgLocal): Likewise.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        * gnu/java/security/provider/PKIXCertPathValidatorImpl.java
        (engineValidate): Fix sense of test.  PR classpath/22991.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        PR classpath/22992:
        * javax/security/sasl/Sasl.java (getSaslClientFactories): Fix
        sense of test.
        (getSaslServerFactories): Likewise.

	2005-07-26  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (repaintTimer): Make
        daemon thread.

        * gnu/java/awt/peer/gtk/GdkGraphics.java,
        native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics.c: Add
        static initializer.
        (initStaticState): New method.
        Add new global graphics reference state table and macros.
        * include/gnu_java_awt_peer_gtk_GdkGraphics.h: Regenerate.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: Use new
        NSA_GET_G_PTR macro to retreive graphics objects.
        * native/jni/gtk-peer/gtkpeer.h: Add new graphics state table and
        macros.

	2005-07-26  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed): Replaced calls to KeyEvent.isShiftDown() and
        isControlDown() with mask comparisons of KeyEvent.getModifiers() and
        InputEvent.SHIFT_MASK and CTRL_MASK.  This makes it easier to ignore
        invalid modifiers.

	2005-07-26  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed): Implemented CTRL-SPACE key action.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        * java/security/cert/X509CertSelector.java (match): Convert sigId
        to String before comparison.  PR classpath/22987.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        * gnu/java/security/OID.java: Typo fix.

	2005-07-26  Tom Tromey  <tromey@redhat.com>

        * javax/security/auth/x500/X500Principal.java (getName): Don't
        compare oid to String.  PR classpath/22988.

	2005-07-26  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (repaint): Reuse
        repaint timer across repaint calls.

	2005-07-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractAction.java
        Fixed / Added API doc comments for the class description.
        * javax/swing/AbstractButton.java: Likewise.
        * javax/swing/AbstractCellEditor.java: Likewise.
        * javax/swing/AbstractListModel.java: Likewise.
        * javax/swing/AbstractSpinnerModel.java: Likewise.
        * javax/swing/ActionMap.java: Likewise.
        * javax/swing/BorderFactory.java: Likewise.
        * javax/swing/Box.java: Likewise.
        * javax/swing/BoxLayout.java: Likewise.
        * javax/swing/ButtonGroup.java: Likewise.
        * javax/swing/CellRendererPane.java: Likewise.
        * javax/swing/ComponentInputMap.java: Likewise.
        * javax/swing/DebugGraphics.java: Likewise.

	2005-07-26  Mark Wielaard  <mark@klomp.org>

        * java/text/DateFormat.java (equals): Reimplement.

	2005-07-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicButtonUI.java
        (paint): Only call paintFocus if the button is actually focused.
        (paintFocus): The default implementation in the BasicLookAndFeel
        does nothing. I removed the code here.

	2005-07-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Added new borders for MenuBar and MenuItem.

	2005-07-26  Roman Kennke  <roman@kennke.org>

        * java/util/Properties.java
        (getPropertyInternal): New method. Avoids infinite recursion if
        getProperty() methods are overridden in subclasses.
        (getProperty(String)): Use getPropertyInternal to avoid recursion.
        (getProperty(String,String)): Likewise.

	2005-07-26  Mark Wielaard  <mark@klomp.org>

        * javax/swing/plaf/basic/BasicScrollPaneUI.java
        (getPreferredSize): Removed.
        * javax/swing/plaf/basic/BasicTabbedPaneUI.java
        (getPreferredSize): Removed.
        * javax/swing/plaf/basic/BasicToolBarUI.java
        (getPreferredSize): Removed.

	2005-07-26  Roman Kennke  <roman@kennke.org>

        * gnu/java/awt/AWTUtilities.java:
        Fixed formatting of this file.

	2005-07-26  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalBorders.java:
        (MenuBarBorder): new inner class.

	2005-07-26  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalBorders.java:
        (MenuItemBorder): new inner class.

	2005-07-26  Mark Wielaard  <mark@klomp.org>

        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (Java_gnu_java_nio_channels_FileChannelImpl_init): Mark clazz as
        unused. Remove unused variables constructor and obj.
        (Java_gnu_java_nio_channels_FileChannelImpl_implCloseChannel): Retry
        when interrupted.
        (Java_gnu_java_nio_channels_FileChannelImpl_available): Likewise.

	2005-07-26  Mark Wielaard  <mark@klomp.org>

        * gnu/java/nio/channels/FileChannelImpl.java (lockCheck): New method.
        (tryLock): Use lockCheck().
        (lock): Likewise.

	2005-07-26  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/target/generic/target_generic_network.h
        (TARGET_NATIVE_NETWORK_SOCKET_SET_OPTION_SO_TIMEOUT): Added
        missing sys/time.h include.

	2005-07-26  Mark Wielaard  <mark@klomp.org>

        * gnu/java/nio/channels/FileChannelImpl.java (description):
        New final field.
        (FileChannelImpl): Set description.
        (init): Likewise.
        (toString): New method.
        All methods add parameters when throwing IllegalArgumentException.
        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (open): Add filename to FileNotFoundException.

	2005-07-26  Jeroen Frijters  <jeroen@frijters.net>

        * NEWS: Added comment about new VMProxy class.
        * gnu/classpath/Configuration.java.in
        (HAVE_NATIVE_GET_PROXY_CLASS): Removed.
        (HAVE_NATIVE_GET_PROXY_DATA): Removed.
        (HAVE_NATIVE_GENERATE_PROXY_CLASS): Removed.
        * java/lang/reflect/Proxy.java
        (getProxyClass): Changed to call VMProxy.
        (getProxyClass0): Removed.
        (getProxyData0): Removed.
        (generateProxyClass0): Removed.
        (ProxyData): Removed private modifier.
        (POOL): Removed (was unused).
        (INVOKESTATIC): Removed (was unused).
        * vm/reference/java/lang/reflect/VMProxy.java: New file.

	2005-07-26  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/text/DateFormatter.java: API doc fixes,
        * javax/swing/text/InternationalFormatter.java: likewise,
        * javax/swing/text/JTextComponent.java: likewise.

	2005-07-26  Jeroen Frijters  <jeroen@frijters.net>

        * vm/reference/java/lang/VMClassLoader.java
        (USE_VM_CACHE): Removed final modifier.

	2005-07-25  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (repaint): Implement
        timed repaint.
        (updateCursorImmediately): Implement.
        (RepaintTimerTask): New class.
        * gnu/java/awt/peer/gtk/GtkImageConsumer.java (imageComplete):
        Don't remove consumer if source is a MemoryImageSource.

	2005-07-25  Archie Cobbs  <archie@dellroad.org>

        * native/jni/classpath/native_state.c: add assertion for object type

	2005-07-25  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.advanceSingleSelection): New method.  Helper method for
        ENTER, SHIFT-ENTER, TAB, and SHIFT-TAB key events.
        (KeyHandler.advanceMultipleSelection): Likewise, used when the table
        has multiple selections at the time that ENTER or TAB was pressed.
        (KeyHandler.keyPressed): Implemented TAB, SHIFT-TAB, and SHIFT-ENTER
        and merged these with existing code for ENTER event, because of the
        similarites.

	2005-07-25  Tom Tromey  <tromey@redhat.com>

        * java/text/CollationKey.java (equals): Use Arrays.equals.
        PR classpath/22986.

	2005-07-25  Tom Tromey  <tromey@redhat.com>

        * java/util/Properties.java (load): Handle case where backslash
        appears at EOF when reading the key.  PR classpath/22994.

	2005-07-25  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (paint): moved code to paintNode
        (getCellBounds): width increased, slightly short before
        (paintNode): changed to paint node depending if icons exist

	2005-07-25  Guilhem Lavaux  <guilhem@kaffe.org>

        * native/jni/classpath/jcl.c,
        native/jni/classpath/jcl.h
        (JCL_NewRawDataObject): New function.
        (JCL_GetRawData): New function.

	2005-07-25  Anthony Balkissoon  <abalkiss@redhat.com>

        * java/awt/Container.java:
        (setFocusTraversalKeys): Instantiate focusTraversalKeys to an array of
        size 4, not 3.  This must have been a typo.

	2005-07-25  Jeroen Frijters  <jeroen@frijters.net>

        * java/rmi/server/RMIClassLoader.java
        (loadClass(String, String)): Use Class.forName() instead of
        directly calling ClassLoader.loadClass(), to handle array
        types correctly.

	2005-07-25  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable.java:
        (selectAll): Store the lead selection indices and restore them after
        selecting all cells.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed): Changed the criteria for "only one selection"
        when the ENTER key is pressed to match the behavior of the JDK.  Also
        replaced direct code for CTRL-A with call to JTable.selectAll().

	2005-07-25  Jeroen Frijters  <jeroen@frijters.net>

        * java/lang/ClassLoader.java
        (loadedClasses): Set based on VMClassLoader.VM_USE_CACHE.
        (defineClass): Modified to respect VMClassLoader.VM_USE_CACHE.
        * vm/reference/java/lang/VMClassLoader.java
        (VM_USE_CACHE): New field.

	2005-07-25  Roman Kennke  <roman@kennke.org>

        * gnu/java/awt/AWTUtilities.java:
        Added methods from SwingUtilities so that AWT does not have to
        depend on Swing.
        * java/awt/Component.java:
        Reverted my DEFAULT_FONT patch from yesterday. This does not
        seem to work with the Gtk peers.
        * java/awt/Container.java
        (addImpl): Call addNotify() on the added child. Invalidate not
        only the container but also the added child. Repaint the container.
        (remove): Repaint the container.
        (invalidate): Also invalidate the LayoutManager.
        (invalidateTree): Call super.invalidate to invalidate the container
        itself. Also invalidate the LayoutManager.
        (setFont): Only set the font if the specified argument actually
        differs from the current font.
        (preferredSize): Optimized this method so the LayoutManager is only
        called if the layout is invalid. Otherwise we return the preferred
        size that has been stored during last validation/layout.
        (getAlignmentX): Despite common belief, this method does _not_
        call the LayoutManagers getAlignmentX in the JDK. So we also don't.
        (getAlignmentY): Despite common belief, this method does _not_
        call the LayoutManagers getAlignmentX in the JDK. So we also don't.
        (dispatchEventImpl): Let the dispatcher decide if it is enabled
        for the incoming event type.
        (eventTypeEnabled): Enables only container events for containers.
        (addNotifyContainerChildren): Coalesced two if statements into one.
        Enable events on the dispatcher for this container.
        (LightweightDispatcher): Made this class reentrant. Handle
        events enabling/disabling here.

	2005-07-25  Roman Kennke  <roman@kennke.org>

        * gnu/java/nio/channels/FileChannelImpl.java
        (static initializer): Init out, err and in here.
        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (Java_gnu_java_nio_channels_FileChannelImpl_init): Moved init code
        for in, out and err to Java code.

	2005-07-25  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/image/ConvolveOp.java:
        (getKernel): return a clone of the kernel.

	2005-07-25  Jeroen Frijters  <jeroen@frijters.net>

        * java/lang/ClassLoader.java
        (findLoadedClass): Call VMClassLoader.findLoadedClass.
        * vm/reference/java/lang/VMClassLoader.java
        (findLoadedClass): New method.

	2003-07-23  Casey Marshall  <csm@gnu.org>

        * configure.ac (AC_CHECK_HEADERS): add 'sys/mman.h'.
        (AC_CHECK_FUNCS): add mmap and related functions.
        * include/java_nio_VMDirectByteBuffer.h: regenerated.
        * java/nio/DirectByteBufferImpl.java (put): new method.
        * native/jni/java-nio/gnu_java_nio_channels_FileChannelImpl.c
        (ALIGN_DOWN): new macro.
        (ALIGN_UP): new macro.
        (Java_gnu_java_nio_channels_FileChannelImpl_mapImpl): implemented.
        * native/jni/java-nio/java_nio_MappedByteBufferImpl.c: updated
        copyright years.
        (ALIGN_DOWN): new macro.
        (ALIGN_UP): new macro.
        (get_pagesize): new function.
        (get_raw_values): new function.
        (Java_java_nio_MappedByteBufferImpl_unmapImpl): implemented.
        (Java_java_nio_MappedByteBufferImpl_isLoadedImpl): implemented.
        (Java_java_nio_MappedByteBufferImpl_loadImpl): implemented.
        (Java_java_nio_MappedByteBufferImpl_forceImpl): implemented.
        * native/jni/java-nio/java_nio_VMDirectByteBuffer.c
        (Java_java_nio_VMDirectByteBuffer_put): renamed to
        'Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_RawData_2IB.'
        (Java_java_nio_VMDirectByteBuffer_get__Lgnu_classpath_RawData_2I_3BII):
        call 'ReleaseByteArrayElements' on the source byte array elements.
        (Java_java_nio_VMDirectByteBuffer_put__Lgnu_classpath_RawData_2I_3BII):
        new method.
        * vm/reference/java/nio/VMDirectByteBuffer.java (put): new method.

	2005-07-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/BoundedRangeModel.java: added/updated API doc comments.

	2005-07-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/Icon.java: added API doc comments.

	2005-07-23  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedString.java: API doc fixes,
        * java/text/ChoiceFormat.java: likewise,
        * java/text/CollationElementIterator.java: likewise,
        * java/text/CollationKey.java: likewise,
        * java/text/Collator.java: likewise,
        * java/text/DateFormat.java: likewise,
        * java/text/DateFormatSymbols.java: likewise,
        * java/text/DecimalFormatSymbols.java: likewise,
        * java/text/MessageFormat.java: likewise,
        * java/text/NumberFormat.java: likewise,
        * java/text/ParseException.java: likewise,
        * java/text/SimpleDateFormat.java: likewise,
        * java/text/StringCharacterIterator.java: likewise.

	2005-07-23  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/ImageIcon.java: API doc fixes,
        * javax/swing/JLayeredPane.java: likewise,
        * javax/swing/JSplitPane.java: likewise,
        * javax/swing/JTree.java: likewise,
        * javax/swing/JViewport.java: likewise,
        * javax/swing/RepaintManager.java: likewise,
        * javax/swing/SizeRequirements.java: likewise,
        * javax/swing/SortingFocusTraversalPolicy.java.

	2005-07-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/ServantLocatorOperations.java,
        org/omg/PortableServer/ServantActivatorOperations.java:
        Inherit from ServantManagerOperations.
        * org/omg/PortableServer/CurrentOperations.java:
        Inherit from org.omg.CORBA.CurrentOperations.
        org/omg/PortableServer/ForwardRequestHelper.java: New file.

	2005-07-23  Sven de Marothy  <sven@physto.se>

        * java/awt/List.java (List): Initialize selected[] to an empty array.

	2005-07-22  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/RequestProcessingPolicyOperations.java,
        org/omg/PortableServer/ServantRetentionPolicyOperations.java,
        org/omg/PortableServer/ThreadPolicyOperations.java,
        org/omg/PortableServer/IdAssignmentPolicyOperations.java,
        org/omg/PortableServer/IdUniquenessPolicyOperations.java,
        org/omg/PortableServer/ImplicitActivationPolicyOperations.java,
        org/omg/PortableServer/LifespanPolicyOperations.java:
        Inherit from PolicyOperations.

	2005-07-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed): If row selection is not allowed in the table,
        then consider all rows of a particular column selected when you get an
        ENTER key event.  This matches JDK behaviour and fixes an out of
        bounds error.  Also, wrapped lines at 80 chars.

	2005-07-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (paint): Only highlight the border of a table cell if it is the most
        recently updated cell.

	2005-07-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (paintCell): Fixed misnamed variable.

	2005-07-22  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/Poa/gnuPOA.java,
        gnu/CORBA/Poa/gnuPOAManager.java,
        gnu/CORBA/Poa/activeObjectMap.java,
        gnu/CORBA/Poa/gnuAdapterActivator.java,
        gnu/CORBA/Poa/gnuServantObject.java,
        gnu/CORBA/Poa/servantDelegate.java,
        gnu/CORBA/Poa/ORB_1_4.java,
        gnu/CORBA/Poa/policySets.java,
        gnu/CORBA/Poa/gnuPoaCurrent.java,
        gnu/CORBA/Poa/LocalDelegate.java,
        gnu/CORBA/Poa/dynImpHandler.java,
        gnu/CORBA/Poa/LocalServerRequest.java,
        gnu/CORBA/Poa/LocalRequest.java,
        gnu/CORBA/Poa/ForwardedServant.java,
        gnu/CORBA/Poa/gnuIdAssignmentPolicy.java,
        gnu/CORBA/Poa/gnuRequestProcessingPolicy.java,
        gnu/CORBA/Poa/gnuThreadPolicy.java,
        gnu/CORBA/Poa/gnuLifespanPolicy.java,
        gnu/CORBA/Poa/gnuIdUniquenessPolicy.java,
        gnu/CORBA/Poa/gnuServantRetentionPolicy.java,
        gnu/CORBA/Poa/gnuImplicitActivationPolicy.java,
        gnu/CORBA/Poa/gnuForwardRequest.java,
        gnu/CORBA/ForwardRequestHelper.java,
        gnu/CORBA/Poa/vPolicy.java,
        gnu/CORBA/Poa/ForwardRequestHolder.java,
        org/omg/PortableServer/POA.java,
        org/omg/PortableServer/POAManagerOperations.java,
        org/omg/PortableServer/POAOperations.java,
        org/omg/PortableServer/Servant.java,
        org/omg/PortableServer/DynamicImplementation.java,
        org/omg/PortableServer/ServantActivator.java,
        org/omg/PortableServer/ServantActivatorOperations.java,
        org/omg/PortableServer/ServantLocator.java,
        org/omg/PortableServer/ServantLocatorOperations.java,
        org/omg/PortableServer/ServantManager.java,
        org/omg/PortableServer/Current.java,
        org/omg/PortableServer/CurrentHelper.java,
        org/omg/PortableServer/CurrentOperations.java,
        org/omg/PortableServer/_ServantLocatorStub.java,
        org/omg/PortableServer/portable/Delegate.java,
        org/omg/PortableServer/ServantActivatorHelper.java,
        org/omg/PortableServer/_ServantActivatorStub.java,
        org/omg/PortableServer/ServantLocatorHelper.java,
        org/omg/PortableServer/ServantActivatorPOA.java,
        org/omg/PortableServer/ServantLocatorPOA.java,
        org/omg/PortableServer/AdapterActivatorOperations.java,
        org/omg/PortableServer/AdapterActivator.java,
        org/omg/PortableServer/POAHelper.java,
        org/omg/PortableServer/ServantManagerOperations.java,
        org/omg/PortableServer/POAManager.java,
        org/omg/PortableServer/package.html: New files.
        * org/omg/CORBA/ORB.java: Documented POA features.
        gnu/CORBA/gnuRequest.java (_releaseReply, equals): Mind that
        the delegate can be null.
        * gnu/CORBA/IOR_Delegate.java,
        gnu/CORBA/Functional_ORB.java,
        org/omg/CORBA/portable/ObjectImpl.java,
        gnu/CORBA/Connected_objects.java: Rewritten.
        * gnu/CORBA/Simple_delegate.java (is_equivalent): This method
        is rewritten.
        * gnu/CORBA/ServiceRequestAdapter.java: Added return value support.

	2005-07-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (paintCell): Set hasFocused to true if the cell is the lead selection
        index and if the list has focus.
        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        (initComponentDefaults): Added List.focusCellHighlightBorder default.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Added defaults for ToggleButton.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (setForeground): Fire PropertyChangeEvent after the foreground
        has actually changed, instead of before.
        (setBackground): Fire PropertyChangeEvent after the foreground
        has actually changed, instead of before. Avoid one comparison
        at the beginning of method.
        (getBackground): If background is null and parent is null, return
        null, instead of SystemColor.window. This is what it's supposed
        to do.
        (getFont): Avoid NPE by creating a local reference. Return
        static final DEFAULT_FONT instead of creating a new font every time
        we and our parents have no font set.
        (setFont): Made check for font equality more precise.
        (paramString): Added parent in paramString.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/JToggleButton.java
        (ToggleButtonModel.setPressed): Fixed order in which events
        get fired.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/DefaultButtonModel.java
        (setPressed): Changed order in which the events get fired. The
        ActionEvent must be fired before the ChangeEvent gets fired.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (show): Instead of invalidating the component, only invalidate
        the parent, if there is one. Also repaint this parent.
        Also, avoid NPEs by creating local references.
        (hide): Instead of invalidating the component, only invalidate
        the parent, if there is one. Also repaint this parent.
        Also, avoid NPEs by creating local references.

	2005-07-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicButtonUI.java: API doc fixes,
        * javax/swing/plaf/basic/BasicRadioButtonUI.java: likewise,
        * javax/swing/plaf/basic/BasicTreeUI.java: likewise.

	2005-07-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalCheckBoxIcon.java: API doc fixes,
        * javax/swing/plaf/metal/MetalIconFactory.java: likewise.

	2005-07-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/text/html/HTMLEditorKit.java: API doc fixes.

	2005-07-22  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/tree/AbstractLayoutCache.java: API doc fixes,
        * javax/swing/tree/DefaultTreeCellRenderer.java: likewise,
        * javax/swing/tree/DefaultTreeModel.java: likewise,
        * javax/swing/tree/FixedHeightLayoutCache: likewise.

	2005-07-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalToggleButtonUI.java
        (constructor): Initialize colors.
        (getFocusColor): Fetches the focus property from the UIDefaults.
        (getSelectColor): Fetches the select property from the UIDefaults.
        (getDisabledTextColor): Fetches the disabledText property from the
        UIDefaults.

	2005-07-21  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.updateSelection): Update the ListSelectionModels even if
        rowSelectionAllowed or columnSelectionAllowed is false.  This
        complies with the JDK.
        (KeyHandler.keyPressed): Implemented the ENTER key action.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/BorderUIResource.java: API doc fixes,
        * javax/swing/plaf/FileChooserUI.java: likewise,
        * javax/swing/plaf/TextUI.java: likewise,
        * javax/swing/plaf/UIResource.java: likewise.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/event/EventListenerList.java: API doc fixes,
        * javax/swing/event/MenuKeyEvent.java: likewise,
        * javax/swing/event/TreeSelectionEvent.java: likewise.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/border/AbstractBorder.java: API doc fixes,
        * javax/swing/border/BevelBorder.java: likewise,
        * javax/swing/border/EtchedBorder.java: likewise,
        * javax/swing/border/LineBorder.java: likewise,
        * javax/swing/border/SoftBevelBorder.java: likewise,
        * javax/swing/border/TitledBorder.java: likewise.

	2005-07-21  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalButtonUI.java
        (constructor): Initialize colors.
        (getFocusColor): Fetches the focus property from the UIDefaults.
        (getSelectColor): Fetches the select property from the UIDefaults.
        (getDisabledTextColor): Fetches the disabledText property from the
        UIDefaults.

	2005-07-21  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java
        (replace): New method. Replaces a chunk of the buffer with
        another chunk.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/AbstractListModel.java: API doc fixes,

        * javax/swing/BorderFactory.java: likewise,
        * javax/swing/BoundedRangeModel.java: likewise,
        * javax/swing/BoxLayout.java: likewise,
        * javax/swing/CellRendererPane.java: likewise,
        * javax/swing/ComponentInputMap.java: likewise,
        * javax/swing/DefaultBoundedRangeModel.java: likewise,
        * javax/swing/DefaultButtonModel.java: likewise,
        * javax/swing/DefaultCellEditor.java: likewise,
        * javax/swing/InputMap.java: likewise,
        * javax/swing/JButton.java: likewise,
        * javax/swing/JFrame.java: likewise,
        * javax/swing/JLabel.java: likewise,
        * javax/swing/JMenuBar.java: likewise,
        * javax/swing/JPopupMenu.java: likewise,
        * javax/swing/JScrollBar.java: likewise,
        * javax/swing/JScrollPane.java: likewise,
        * javax/swing/JSeparator.java: likewise,
        * javax/swing/JSlider.java: likewise,
        * javax/swing/JSpinner.java: likewise,
        * javax/swing/JTextArea.java: likewise,
        * javax/swing/JToggleButton.java: likewise,
        * javax/swing/SpinnerListModel.java: likewise,
        * javax/swing/Spring.java: likewise,
        * javax/swing/SpringLayout.java: likewise.

	2005-07-21  Lillian Angel  <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (getPreferredSize): Changed to depend on visible nodes.
        (mouseClicked): Fixed to keep track of last cell clicked, so expand/collapse
        works properly by clicking 2 times on the same cell.

	2005-07-21  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (putClientProperty): If value == null, remove the key from the
        Hashtable, otherwise we would get an NPE here.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicSliderUI.java:
        (thumbHeight): removed,
        (thumbWidth): removed,
        (tickHeight): removed,
        (installDefaults): deleted initialisation of thumbHeight, thumbWidth
        and thumbRect,
        (getPreferredHorizontalSize): changed source of thumb height and width,
        (getPreferredVerticalSize): likewise,
        (getMinimumHorizontalSize): reimplemented,
        (getMinimumVerticalSize): reimplemented,
        (getMinimumSize): reimplemented,
        (getMaximumSize): reimplemented,
        (calculateThumbSize): use getThumbSize(),
        (calculateThumbLocation): use trackRect not contentRect,
        (calculateTrackBuffer): use half the thumbRect,
        (getThumbSize): use constant size,
        (calculateTrackRect): move track down to middle of contentRect,
        (getTickLength): return constant,
        (paintTrack): removed unused local variables,
        (paintTicks): apply a translation to g temporarily before calling
        methods to draw ticks, add 0.5 to solve rounding problem,
        (paintMinorTickForHorizSlider): modified to account for translation
        already applied to g,
        (paintMajorTickForHorizSlider): likewise,
        (paintMinorTickForVertSlider): likewise,
        (paintMajorTickForVertSlider): likewise,
        (xPositionForValue): subtract 1 from width,
        (yPositionForValue): likewise,
        *javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): add slider defaults,
        *javax/swing/plaf/metal/MetalSliderUI.java: implemented missing
        methods,
        * examples/gnu/classpath/examples/swing/Demo.java
        (mkSliders): added minor ticks and labels.

	2005-07-21  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (init): Only set icon if the supplied icon is not null. Otherwise
        we would override icons that are possibly set by the UI.
        * javax/swing/plaf/basic/BasicIconFactory.java
        (CheckBoxIcon): An new Icon implementation used for CheckBoxes
        in the Basic L&F.
        (RadioButtonIcon): An new Icon implementation used for
        RadioButtons in the Basic L&F.
        (getCheckBoxIcon): Now returns a (cached) instance of CheckBoxIcon
        instead of the (wrong) inner icon implementation.
        (getRadioButtonIcon): Now returns a (cached) instance of
        RadioButtonIcon instead of the (wrong) inner icon implementation.
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): Registered new icons for CheckBox and
        RadioButton, using a LazyValue entry.
        * javax/swing/plaf/basic/BasicRadioButtonUI.java
        Added API documentation all over.
        (installUI): Removed this method.
        (installDefaults): New method. Installs the default icons if there
        is no other icon set.
        (getPropertyPrefix): New method. Returns the prefix that is used
        to look up UIDefault entries.
        (getDefaultIcon): Use propertyPrefix instead of hardcoded property.
        (paint): New method. Override paint for customized painting
        of RadioButtons.
        * javax/swing/plaf/metal/MetalCheckBoxIcon.java
        (drawCheck): Respect the x and y parameter.
        * javax/swing/plaf/metal/MetalIconFactory.java
        (RadioButtonIcon): An Icon implementation for Metal RadioButtons.
        (getRadioButtonIcon): New method. Returns a shared instance of
        RadioButtonIcon.
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Register new icons for CheckBox and
        RadioButton using a LazyValue entry.

	2005-07-21  Roman Kennke  <roman@kennke.org>

        * javax/swing/JOptionPane.java
        (createInternalFrame): Look for a JDesktopPane first, then
        look for a JLayeredPane as fallback. Set this JOptionPane as
        contentPane for the found JDesktopPane. Make the InternalFrame
        visible and appropriatly sized here.
        (showInternalConfirmDialog): ALL VARIANTS OF THIS METHOD:
        Adjusted call to startModel to only take one parameter.
        (showInternalInputDialog): ALL VARIANTS OF THIS METHOD:
        Adjusted call to startModel to only take one parameter.
        (showInternalMessageDialog): ALL VARIANTS OF THIS METHOD:
        Adjusted call to startModel to only take one parameter.
        (showInternalOptionDialog): ALL VARIANTS OF THIS METHOD:
        Adjusted call to startModel to only take one parameter.
        (startModal): Now only takes one parameter. This method does no
        longer add the JOptionPane to the contentPane of the InternalFrame,
        set the size and make the InternalFrame visible. This is done in
        createInternalFrame.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/DefaultListSelectionModel.java: API doc fixes.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/AbstractButton.java: API doc fixes all over.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/UIDefaults.java
        (getFont(Object, Locale)): matched argument name to API doc comment,
        (getColor(Object, Locale)): likewise,
        (getIcon(Object, Locale)): likewise,
        (getBorder(Object, Locale)): likewise,
        (getString(Object, Locale)): likewise,
        (getInt(Object, Locale)): likewise,
        (getBoolean(Object, Locale)): likewise,
        (getInsets(Object, Locale)): likewise,
        (getDimension(Object, Locale)): likewise.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JComponent.java: API doc fixes all over.

	2005-07-21  David Gilbert  <david.gilbert@object-refinery.com>

        * java/net/URLClassLoader.java: reordered some API doc comments to
        suppress Eclipse warnings, and fixed API doc link.

	2005-07-20  Anthony Balkissoon  <abalkiss@redhat.com>

        * java/awt/BorderLayout.java:
        (layoutContainer): Removed addition of horizontal and vertical gaps
        when there is no corresponding adjacent component.

	2005-07-20  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable:
        (JTable): Set the lead selection index for each of the two lists
        associated with this table to 0 (instead of -1).  This complies with
        JDK.
        * javax/swing/plaf/basic/BasicTableUI.java:
        (KeyHandler.keyPressed):  Implemented the following key actions (with
        CTRL/SHIFT handling when appropriate): UP/DOWN/LEFT/RIGHT, HOME/END,
        CTRL-A, CTRL-\, CTRL-/.

	2005-07-20  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Restore the lead selection index after doing
        a "select all" operation.

	2005-07-20  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (keyPressed): Implemented some more VK_XXX and VK_KP_XXX events.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): Added value for InternalFrame.icon.
        * javax/swing/plaf/basic/BasicInternalFrameUI.java
        (installDefaults): Install icon from UIDefaults.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (createSeparator): Return null here.
        (installComponents): Don't add a separator in the OptionPane.

	2005-07-20  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (paint): Changed to paint children of root as roots if the
        root is not visible, but the root path is expanded.
        (getPathForRow): If the root is not visible, but expanded,
        the first child should be considered row 0.
        (getRowCount): Likewise.
        (getPathBounds): Likewise.
        (getCellLocation): If root is not visible, but expanded, the
        level of each node is lowered by 1.
        (paintRecursive): If root is not visible, but expanded, there should
        be no indentation when the children are drawn. Also, there should be no
        line drawn connecting the children. This makes it look like there are 2
        independant trees (works same as JDK).

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameUI.java
        (installUI): Moved titlePane.setOpaque() call into
        BasicInternalFrameTitlePane's constructor.
        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        (constructor): Moved titlePane.setOpaque() call from
        BasicInternalFrameUI.installUI into this constructor.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JOptionPane.java
        (createInternalFrame): Look up the nearest JLayeredPane instead
        of JDesktopPane. This is in contrast to the specs but what the JDK
        does and what makes sense.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java:
        Made class description more concise.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JButton.java:
        Made class description more concise.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JButton.java
        (AccessibleJButton): Added accessibility support for JButton.
        (getAccessibleContext): Implemented to return an AccessibleJButton.
        * javax/swing/JLabel.java
        (AccessibleJLabel): Added accessibility support for JLabel.
        (getAccessibleContext): Implemented to return an AccessibleJLabel.

	2005-07-20  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JSlider.java
        (setMinimum): fire PropertyChangeEvent for new value,
        (setMaximum): likewise,
        (setSnapToTicks): fire PropertyChangeEvent, not ChangeEvent,
        (setPaintTrack): fire PropertyChangeEvent for new value,
        (setPaintLabels): initialise label table.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JLayeredPane.java:
        Fixed and extended API documentation / class description.

	2005-07-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/Action.java:
        Fixes the class description to be more concise.

	2005-07-20  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/AttributedCharacterIterator.java: fixed minor API doc
        problems and 80 column wrapping;
        * java/text/BreakIterator.java
        (getCharacterInstance(Locale)): matched argument name to API docs,
        (getLineInstance(Locale)): likewise,
        (getSentenceInstance(Locale)): likewise,
        (getWordInstance(Locale)): likewise,
        and fixed minor API doc problems all over;
        * java/text/CharacterIterator.java: fixed minor API doc problems.

	2005-07-19  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/ForwardRequest.java: New file.

	2005-17-19  Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/BasicTreeUI
        (setModel): changed to call JTree's setModel
        (setRootVisible): Likewise
        (isRootVisible): Likewise
        (getClosestPathForLocation): Implemented
        (paint): took out translate, no need to.
        (mouseClicked): clicking made smoother.

	2005-17-19  Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/BasicTreeUI:
        Moved several functions around for readability.
        Some formatting in various places.
        (paint): extended size of border drawn
        (mouseClicked): checked if path was null
        (getCellLocation): Now package-private.
        (paintNode): Implemented, there is no need to paint the leaf and non
        leaf separately. Works with custom icons.
        (paintRecursive): Now package-private. Changed to paint with paintNode.
        (paintControlIcons): Now package-private.
        (hasControlIcons): Now package-private.

	2005-17-19  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JSlider.java
        (createStandardLabels(int)): updated API docs,
        (createStandardLabels(int, int)): throw IllegalArgumentException for
        bad arguments.

	2005-17-18  Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/BasicTreeUI
        (getPathBounds): checked if path was null initially
        (paint): no need to check for control icons
        (paintLeaf): reseting of icon
        (paintNonLeaf): resetting of icon
        (paintControlIcons): cleaned up
        (hasControlIcons): cleaned up
        * javax/swing/tree/DefaultTreeCellRenderer
        (getTreeCellRendererComponent): fixed to follow API

	2005-07-18  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JSlider.java:
        (JSlider(int)): updated API docs,
        (JSlider(int, int, int)): likewise,
        (JSlider(BoundedRangeModel)): removed code that handles a null
        argument, and updated API docs.

	2005-07-18  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JSlider.java: initialise snapToTicks to false.

	2005-07-18  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicMenuItemUI.java:
        (paintMenuItem): Don't highlight background of a selected
        JCheckboxMenuItem.
        (paintText): Don't highlight text of a selected JCheckBoxMenuItem.

	2005-07-18  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JPopupMenu.java:
        (insert): Resize the container to its preferred size when an item is
        inserted.
        (remove): Resize the container to its preferred size when an item is
        removed.

	2005-07-18  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicMenuUI.java:
        (getMaximumSize): Added check for this menu not being a top level menu.
        If that's the case, return the maximum size as if it were a regular
        JMenuItem.

	2005-07-18  Tom Tromey  <tromey@redhat.com>

        * native/jni/classpath/classpath_jawt.h: Updated copyright
        header.

	2005-07-18  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/imageio/stream/ImageInputStream.java: added import to fix
        minor API doc problems.

	2005-07-18  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (paint): Only paint border if using MetalL&F
        (mouseClicked): Check that control icons exist
        (paintNonLeaf): Changed to paint icon depending on height
        (hasControlIcons): Implemented to return true if control icons exist

	2005-07-18  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (paint): Implemented painting of border around selected path
        (mouseClicked): Fixed clicking of icon

	2005-07-18  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): changed Slider.thumbWidth.
        * javax/swing/plaf/basic/BasicSliderUI.java
        (paintThumb): fixed thumb painting.

	2005-07-17  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/ThreadPolicyValue.java,
        org/omg/PortableServer/IdAssignmentPolicy.java,
        org/omg/PortableServer/IdUniquenessPolicyOperations.java,
        org/omg/PortableServer/IdAssignmentPolicyOperations.java,
        org/omg/PortableServer/IdUniquenessPolicy.java,
        org/omg/PortableServer/ImplicitActivationPolicyOperations.java,
        org/omg/PortableServer/LifespanPolicyOperations.java,
        org/omg/PortableServer/LifespanPolicy.java,
        org/omg/PortableServer/ImplicitActivationPolicy.java,
        org/omg/PortableServer/ServantRetentionPolicy.java,
        org/omg/PortableServer/RequestProcessingPolicy.java,
        org/omg/PortableServer/ServantRetentionPolicyOperations.java,
        org/omg/PortableServer/ThreadPolicyOperations.java,
        org/omg/PortableServer/RequestProcessingPolicyOperations.java,
        org/omg/PortableServer/ThreadPolicy.java: New files.

	2005-07-15  Lillian Angel  <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): Implemented clicking on control icons.

	2005-07-15  Tom Tromey  <tromey@redhat.com>

        * native/jni/classpath/classpath_jawt.h: New file.

	2005-07-15  Lillian Angel  <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): changed to use getPathBounds.
        (getPathBounds): Implemented

	2005-07-15  Lillian Angel  <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): check if user is clicking within the bounds of the cell.
        (getCellLocation): Implemented to return the location of the cell.

	2005-07-15  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalComboBoxIcon.java: new file.

	2005-07-15  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/tree/TreePath.java: added API docs all over,
        (TreePath(Object[])): throw IllegalArgumentException for null argument,
        (TreePath(TreePath, Object)): throw NullPointerException for null Object,
        (equals): test elements using equals(),
        (writeObject): removed,
        (readObject): removed,
        (getPath): return a clone of the path,
        (getPathComponent): throw IllegalArgumentException for invalid position,
        (isDescendant): reimplemented.

	2005-07-15  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (ButtonAreaLayout): Made class static.
        (ButtonAreaLayout.setSyncAllWidths): Removed revalidate(). Never
        ever revalidate something within a LayoutManager!
        (ButtonAreaLayout.setPadding): Likewise.
        (ButtonAreaLayout.setCentersChildren): Likewise.
        (ButtonAreaLayout.layoutContainer): Don't refer to enclosing
        class's instance, this is not allowed in static inner classes.

	2005-07-15  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalCheckBoxIcon.java:
        New class. An icon implementation for use in JCheckBoxes.
        * javax/swing/plaf/metal/MetalBorders.java
        Renamed MetalButtonBorder to ButtonBorder.

	2005-07-15  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTextUI.java:
        (RootView.removeUpdate): Properly update the caret position after text
        has been removed.

	2005-07-15  Mark Wielaard  <mark@klomp.org>

        * NEWS: Add 0.17 release date and new features.
        * configure.ac: Set version to 0.17.

	2005-07-15  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/AbstractButton.java:
        (init): Do not change field text if argument text is null.

	2005-07-15  Mark Wielaard  <mark@klomp.org>

        * java/util/logging/Logger.java (getCallerStackFrame):
        Make sure index < stackTrace.length and return null otherwise.
        (log): Check for caller == null.

	2005-07-15  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (AbstractButton): Directly call init() and updateUI().
        (AbstractButton(String, Icon)): Removed. This is not necessary
        since we have init(String, Icon) for that purpose.
        (getActionCommand): Reverted to previous behaviour: If
        actionCommand is set, return this, otherwise return text, even
        if text is null.
        * javax/swing/JButton.java
        (JButton(String, Icon)): Call super() and init(String, Icon)
        instead of super(String, Icon).
        * javax/swing/JMenuItem.java
        (JMenuItem): Call super() instead of super(String, Icon).
        (JMenuItem(Icon)): Call this(String, Icon) instead of
        super(String, Icon).
        (JMenuItem(String)): Call this(String, Icon) instead of
        super(String, Icon).
        (JMenuItem(Action)): Call super() instead of
        super(String, Icon).
        (JMenuItem(String, Icon)): Call super() and init(String, Icon)
        instead of super(String, Icon).
        (JMenuItem(String, int)): Call this(String, Icon) instead of
        super(String, Icon).
        * javax/swing/JToggleButton.java
        (ToggleButtonModel.setPressed): Fire an ActionEvent if button
        is released. According to my Mauve tests, it seems that this
        is what the JDK does, so do we.
        (ToggleButtonModel.setSelected): Removed.
        (JToggleButton): Call super() and init(String, Icon) instead
        of super(String, Icon).

	2005-07-15  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/tree/DefaultMutableTreeNode.java:
        (removeFromParent): Remove child node from parent now.
        (preorderEnumeration): Implemented.
        (postorderEnumeration): Implemented.
        (depthFirstEnumeration): Implemented.
        (breadthFirstEnumeration): Implemented.
        (nextLeaf): Added TODO doc.
        (previousLeaf): Added TODO doc.

2005-07-29  Guilhem Lavaux <guilhem@kaffe.org>
	Riccardo Mottola  <multix@gmail.com>

	* config/powerpc/callmethod_ppc.h: Updated register names to match
	GAS syntax.
	
	* config/powerpc/sysdepCallMethod.h
	(ARG_DISPLACEMENT): By tests, chose -2 on APPLE.
	
2005-07-28 Ito Kazumitsu <kaz@maczuka.gcd.org>

	* test/regression/SecureRandomTest.java:
	Use kaffe's security provider explicitly.

2005-07-26 Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-14  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkChoicePeer.java (choicePostItemEvent):
        Rename to postChoiceItemEvent.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (realize): New method.
        (setNativeEventMask): Likewise.
        * gnu/java/awt/peer/gtk/GtkGenericPeer.java (printCurrentThread): New method.
        * gnu/java/awt/peer/gtk/GtkWindowPeer.java (realize): New method.
        * native/jni/gtk-peer/gtkpeer.h: Move widget-specific macro,
        variable and function declarations into the widget-specific file.
        Add cp_gtk_ namespace prefix to external symbols.
        (cp_gtk_graphics2d_init_jni): New function.
        (cp_gtk_graphics_init_jni): Likewise.
        (cp_gtk_button_init_jni): Likewise.
        (cp_gtk_checkbox_init_jni): Likewise.
        (cp_gtk_choice_init_jni): Likewise.
        (cp_gtk_component_init_jni): Likewise.
        (cp_gtk_list_init_jni): Likewise.
        (cp_gtk_menuitem_init_jni): Likewise.
        (cp_gtk_scrollbar_init_jni): Likewise.
        (cp_gtk_textcomponent_init_jni): Likewise.
        (cp_gtk_window_init_jni): Likewise.
        (cp_gtk_component_connect_expose_signals): Likewise.
        (cp_gtk_component_connect_focus_signals): Likewise.
        (cp_gtk_component_connect_mouse_signals): Likewise.
        (cp_gtk_component_connect_signals): Likewise.
        (cp_gtk_textcomponent_connect_signals): Likewise.
        (cp_gtk_print_current_thread): Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c: Remove
        file.  Move widget-specific functions into the widget-specific
        files.  Break main event handler into multiple widget-specific
        callbacks.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_SOURCES): Remove
        gnu_java_awt_peer_gtk_GtkEvents.c.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkFontPeer.c: Add
        cp_gtk_ namespace prefix to external symbols.  Add widget-specific
        macros, variables and function declarations from
        gnu_java_awt_peer_gtk_GtkEvents.c.  Add widget-specific callbacks
        to replace main event handling loop.
        * native/jni/classpath/native_state.c: Likewise.
        * native/jni/classpath/native_state.h: Likewise.
        * native/jni/gtk-peer/gdkfont.h: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkRobotPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkTextLayout.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCheckboxPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkChoicePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkClipboard.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFileDialogPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkGenericPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkLabelPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkListPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuItemPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPanelPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollPanePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollbarPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c: Likewise.
        * native/jni/gtk-peer/gthread-jni.c: Likewise.
        * native/jni/gtk-peer/gthread-jni.h: Likewise.

2005-07-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-14 Lillian Angel <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (paintControlIcons): Changed so root does not have control icon.

	2005-07-14 Lillian Angel <langel@redhat.com>
        * javax/swing/plaf/basic/BasicTreeUI.java
        (installUI): Expanded root initially
        (paint): call function to paint controls
        (paintRecursive): added to indentation when painting to increase space
        (paintControlIcons): Implemented to recursively paint the control icons.
        * javax/swing/tree/DefaultTreeCellRenderer.java
        (getTreeCellRendererComponent): reset the font properly

	2005-07-14  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (getActionCommand): If both the actionCommand and text fields
        are null, then return "".

	2005-07-14  Guilhem Lavaux  <guilhem@kaffe.org>

        * java/util/logging/Logger.java
        (resetLogger): Remove all handlers from the handler list.

        * java/util/logging/LogManager.java
        (reset): Call resetLogger() too.
        (readConfiguration): Call reset().

	2005-07-14  Mark Wielaard  <mark@klomp.org>

        * gnu/java/net/protocol/http/HTTPURLConnection.java
        (proxyHostname, proxyPort, agent, keepAlive, maxConnections):
        Likewise.
        * java/text/SimpleDateFormat.java (field, size): Likewise.
        * java/util/jar/JarFile.java (readSignatures): Likewise.
        * java/util/logging/FileHandler.java (written): Likewise.
        * javax/swing/plaf/basic/BasicFileChooserUI.java: Make shared
        fields package private.
        (closeDialog): Make package private.
        (filterEntries): Likewise.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (mouseInputListener): Likewise.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (getNextVisibleNode, getPreviousVisibleNode, selectPath): Likewise.
        * javax/swing/text/JTextComponent.java (caret, editable): Likewise.

	2005-07-14  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/AbstractButton.java: Minor doc fixes.
        (getActionCommand): Access field directly.
        (setActionCommand): Dito.
        (fireActionPerformed): Copy ActionEvent instance instead
        of reusing it.

	2005-07-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/BoundedRangeModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/ButtonModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/CellEditor.java:
        Added/Fixed interface API documentation.
        * javax/swing/ComboBoxEditor.java:
        Added/Fixed interface API documentation.
        * javax/swing/ComboBoxModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/Icon.java:
        Added/Fixed interface API documentation.
        * javax/swing/JComboBox.java
        (KeySelectionManager): Added/Fixed interface API documentation.
        * javax/swing/ListCellRenderer.java:
        Added/Fixed interface API documentation.
        * javax/swing/ListModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/ListSelectionModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/MenuElement.java:
        Added/Fixed interface API documentation.
        * javax/swing/MutableComboBoxModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/Renderer.java:
        Added/Fixed interface API documentation.
        * javax/swing/RootPaneContainer.java:
        Added/Fixed interface API documentation.
        * javax/swing/ScrollPaneConstants.java:
        Added/Fixed interface API documentation.
        * javax/swing/Scrollable.java:
        Added/Fixed interface API documentation.
        * javax/swing/SingleSelectionModel.java:
        Added/Fixed interface API documentation.
:        * javax/swing/SpinnerModel.java:
        Added/Fixed interface API documentation.
        * javax/swing/SwingConstants.java:
        Added/Fixed interface API documentation.
        * javax/swing/UIDefaults.java
        (ActiveValue): interface API documentation.
        (LazyValue): interface API documentation.
        * javax/swing/WindowConstants.java:
        Added/Fixed interface API documentation.
        * javax/swing/package.html: Fixed package description to be more
        a little bit more concise.

	2005-07-13 Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java: Changed font to
        match jdk.
        * javax/swing/plaf/basic/BasicTreeUI.java: took out unneeded
        import statement
        * javax/swing/plaf/metal/MetalLookAndFeel.java: Changed
        defaults to match jdk.

	2005-07-13 Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java: Changed rowHeight
        to the right height. This should be fixed later to something more
        reasonable, as opposed to a 'magic' number.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (paintLeaf): added in code to paint icons properly
        (paintNonLeaf): same as above
        * javax/swing/plaf/metal/MetalLookAndFeel.java: Changed default
        icons to MetalIconFactory icons
        * javax/swing/tree/DefaultTreeCellRenderer.java
        (getTreeCellRendererComponent): Changed to paint icons separately from
        Cell.

	2005-07-13  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Implemented actions for the following key
        presses: "ctrl \\", "END", "shift END", "HOME, "shift HOME", "ctrl /",
        "ctrl A", "ctrl SPACE", "KP_UP", "KP_DOWN", "shift KP_UP",
        "shift KP_DOWN".

	2005-07-13  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultButtonModel.java:
        (changeState): Removed this helper method.
        (setArmed): Replaced call to changeState by code specific to setArmed.
        (setEnabled): Likewise, for setEnabled.
        (setPressed): Likewise, for setPressed.
        (setRollover): Likewise, for setRollover.
        (setSelected): Likewise, for setSelected.
        * javax/swing/JToggleButton.java:
        (ToggleButtonModel.setPressed): Replaced call to super.setPressed with
        Toggle-specific code.
        (ToggleButtonModel.setSelected): New method.  Fire an ActionEvent in
        addition to calling super.setSelected.

	2005-07-13  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/accessibility/AccessibleComponent.java: minor API doc fixes,
        * javax/accessibility/AccessibleRelation.java: likewise,
        * javax/accessibility/AccessibleRelationSet.java: likewise,
        * javax/accessibility/AccessibleResourceBundle.java: likewise,
        * javax/accessibility/AccessibleRole.java: likewise,
        * javax/accessibility/AccessibleState.java: likewise,
        * javax/accessibility/AccessibleStateSet.java: likewise,
        * javax/accessibility/AccessibleText.java: likewise.

	2005-07-13  Robert Schuster  <robertschuster@fsfe.org>

        * java/awt/AWTEvent.java:
        (toString): Generalized string generation.

	2005-07-13  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/LookAndFeel.java: added API docs all over,
        * javax/swing/plaf/metal/DefaultMetalTheme.java: likewise,
        * javax/swing/plaf/metal/MetalLookAndFeel.java: likewise,
        * javax/swing/plaf/metal/MetalTheme.java: likewise.

	2005-07-13  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/table/TableColumn.java: updated API docs,
        * javax/swing/table/TableColumnModel.java: likewise.

	2005-07-13  David Gilbert  <david.gilbert@object-refinery.com>

        * java/util/zip/Inflater.java: minor API doc fixes.

	2005-07-13  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/tree/DefaultMutableTreeNode.java: minor API doc fixes,
        * javax/swing/tree/DefaultTreeSelectionModel.java
        (addSelectionPath): modified parameter name to match doc comment,
        (addSelectionPaths): likewise,
        (removeSelectionPath): likewise,
        (removeSelectionPaths): likewise,
        (isPathSelected): likewise,
        plus other minor API doc fixes all over.
        * javax/swing/tree/MutableTreeNode.java: minor API doc fixes.

	2005-07-13  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/AbstractButton.java: Minimal documentation fixes.
        (getActionCommand): Returns button's label when
        actionCommand is null.
        * javax/swing/JButton.java,
        javax/swing/JToggleButton.java: Removed explicit call to
        setActionCommand in constructors.

	2005-07-13  Robert Schuster  <robertschuster@fsfe.org>

        * javax/swing/JToggleButton.java:
        (paramString): Returns value of same method in superclass now.
        * javax/swing/JRadioButton.java:
        (paramString): Dito.
        * javax/swing/JButton.java:
        (paramString): Returns value of same method in superclass now,
        more verbose information added.
        * javax/swing/JCheckBox.java:
        (paramString): Dito.

	2005-07-12  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicMenuItemUI.java:
        (paintMenuItem): Replaced incorrect hilighting criteria.
        (paintText): Likewise.

	2005-07-12 Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (paintLeaf): fixed size of selection background to depend on
        if icon exists
        (paintNonLeaf): fixed size of selection background to depend on
        if icon exists

	2005-07-12  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultButtonModel.java:
        (changeState): If the button is a JToggleButton fire action events
        when it changes between (selected/unselected) not when it changes
        from pressed to unpressed.  Fire action events after firing
        ItemStateChanged events.

	2005-07-12 Lillian Angel <langel@redhat.com>

        * javax/swing/JTree.java:
        Formatting copyright
        * javax/swing/tree/DefaultTreeCellRenderer.java:
        Formatting copyright
        * javax/swing/tree/DefaultTreeSelectionModel.java:
        Formatting copyright

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalTreeUI.java
        (createUI): Return a different instance of MetalTreeUI for each
        JTree. The TreeUI is stateful, so a shared instance would not
        work.

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTreeUI.java
        I accidentally introduced revalidate calls for repaint calls.
        Reverted.

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTreeUI.java
        Fixed formatting of the copyright notice.

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameUI.java
        (installDefaults): Create border based on defaults in current
        LookAndFeel.
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): Included border for InternalFrame as
        LazyValue.

	2005-07-12 Lillian Angel <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java:
        Took out icon defaults.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (installUI): set root to visible
        (getCellBounds): took out addition to width since there may not be
        an icon.
        * javax/swing/plaf/metal/MetalLookAndFeel.java:
        Added in icon defaults

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        Removed ad-hoc icons. Replaced them by
        BasicIconFactory.createEmptyFrameIcon just like in the JDK.
        (PropertyChangeHandler.propertyChange): Handle change events
        for closable, iconifiable and maximizable here.
        (createButtons): Recognize if the JInternalFrame is closable,
        iconifiable or maximizable.

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): Corrected color values for BasicL&F buttons.

	2005-07-12  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JMenu.java:
        (isSelected): Call super.isSelected() instead of super.isArmed().
        * javax/swing/plaf/basic/BasicMenuItemUI.java:
        (paintMenuItem): Replaced incorrect selection criteria with call to
        isSelected().
        (paintText): Likewise.

	2005-07-12  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java
        Changed default color of text non selection background.
        * javax/swing/plaf/basic/BasicTreeUI.java
        Removed irrelevant comment
        * javax/swing/tree/DefaultTreeCellRenderer.java
        (getTreeCellRendererComponent): changed to use background's non
        selection default color instead

	2005-07-12  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        (TitlePaneLayout.layoutContainer): Do not change any state of
        the components here (visible/enableActions). This is not the purpose of
        a layout manager and can lead to loops. Also correct the layout
        to be closer to the layout of the reference implementation.
        (TitlePaneLayout.preferredLayoutSize): Return (22, 18)
        here. That is what the JDK returns for the title bar.
        (PaneButton): Don't set the border to null.
        (createButtons): The buttons are opaque.
        (createButtonIcons): Don't create icons in the Basic L&F.

	2005-07-12  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JApplet.java,
        * javax/swing/JDialog.java,
        * javax/swing/JFrame.java,
        * javax/swing/JWindow.java:
        (addImpl): Add to the frame itself if we are in the init
        stage, otherwise add to the contentPane.

	2005-07-12  Mark Wielaard  <mark@klomp.org>

        * java/awt/MediaTracker.java (checkAll): Set and check status of
        MediaEntry with checkImage() if prepareImage() returns false.
        (statusAll): Likewise.
        (checkID): Likewise.
        (statusID): Likewise.

	2005-07-12  Mark Wielaard  <mark@klomp.org>

        * javax/swing/text/JTextComponent.java
        (CaretBlinkTimer.actionPerformed): Check that caret != null.
        (CaretBlinkTimer.update): Likewise.

	2005-07-12  Mark Wielaard  <mark@klomp.org>

        Reported by Simon Kitching <skitching@apache.org>
        * java/lang/String.java (toCharArray): Return value.clone() when
        count == value.length.

	2005-07-12  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * javax/swing/text/html/parser/ParserDelegator.java (gnuParser.getDTD):
        Added comment about 'super'.

2005-07-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-11  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c:
        Replace occurrences of malloc with g_malloc and free with g_free.

        * gnu/java/awt/peer/gtk/GtkChoicePeer.java (connectSignals): New method.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkFontPeer.c: Move
        gdk_threads_enter calls to start of method bodies.  Move
        gdk_threads_leave calls to end of method definitions bodies.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphicsEnvironment.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkRobotPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkTextLayout.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCanvasPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCheckboxGroupPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCheckboxMenuItemPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkCheckboxPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkChoicePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkClipboard.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEmbeddedWindowPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFileDialogPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkGenericPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkLabelPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkListPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuBarPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuItemPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPanelPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPopupMenuPeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollPanePeer.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c: Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c: Likewise.

2005-07-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-11  David Gilbert  <david.gilbert@object-refinery.com>

        * java/lang/IllegalAccessException.java: fixed minor API doc errors,
        
	2005-07-11  David Gilbert  <david.gilbert@object-refinery.com>

        * java/io/DataOutput.java: fixed minor API doc errors,
        * java/io/LineNumberInputStream.java: likewise.

	2005-07-11  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalIconFactory.java
        (HorizontalSliderThumbIcon): new inner class,
        (VerticalSliderThumbIcon): new inner class,
        (getHorizontalSliderThumbIcon): implemented,
        (getVerticalSliderThumbIcon): implemented.

	2005-07-11  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/gtk/GtkImage.java:
        (setImage): Set error flag on bad width, height or pixels.
        (checkImage): Return error flag.

	2005-07-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/JInternalFrame.java
        (addImpl): Add to the frame itself if we are in the init
        stage, otherwise add to the contentPane.

	2005-07-11  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicLookAndFeel.java
        Changed the default row height for the tree.

	2005-07-11  Mark Wielaard  <mark@klomp.org>

        * javax/swing/JFileChooser.java (getSelectedFiles): Return an one
        element array containing selectedFile if selectedFiles is null.

	2005-07-11  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getPreviousVisibleNode): Implemented
        (selectPath): helper method, implemented.
        (keyPressed): handles up/down/left/right keys
        (mouseClicked): made more efficent and implemented double 
        clicking for folders.
        * javax/swing/JTree.java
        (clearSelection): Lead selection path is set to null when 
        nothing is currently selected.

	2005-07-11  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicMenuUI.java:
        (MouseHandler.popupVisible): new method.
        (MouseHandler.mouseEntered): Removed check for menu being armed to
        comply with reference implementation.  Calls popupVisible to check
        for menus with their popup menu visible.

	2005-07-11  Mark Wielaard  <mark@klomp.org>

        * java/net/DatagramSocket.java (getImpl): Record cause of Exception.

2005-07-25  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-11  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicMenuUI.java:
        (MouseInputHandler.mouseEntered): Added check: if a different menu in
        the menubar was selected, we don't select this one unless the old one
        had its popup menu showing.  This complies with the reference
        implementation.

	2005-07-11  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JMenu.java:
        (setSelectedHelper): new method.
        (setSelected): Code moved to setSelectedHelper. Calls
        setSelectedHelper(selected,true,false) which doesn't expand the popup
        menu and works whether the menu is enabled or not.
        (menuSelectionChanged): Changed call to setSelected(changed) to 
        setSelectedHelper(changed,isEnabled(),true) which does expand the
        popup menu, but only if the menu is enabled.

2005-07-24  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/awt/X/fnt.c
	(fntInitFont): Return NULL if an error occured.

2005-07-24  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/awt/X/img.c:
	(Java_java_awt_Toolkit_imgCreateImageFromFile,
	Java_java_awt_Toolkit_imgCreateFromData): Another fixlet for NULL
	images (unknownImage is NULL).

2005-07-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/awt/X/img.c
	(Java_java_awt_Toolkit_imgCreateImageFromFile,
	Java_java_awt_Toolkit_imgCreateFromData): Return NULL if the image
	has not been created.

2005-07-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Swapped some commands for semaphore detection.

	* m4/solarispthread.m4: Add semaphore library to PTHREAD_LIBS.

	* m4/semaphore.m4: Add pthread libraries to LDFLAGS for the test.
	
	* configure: Regenerated.
	
2005-07-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/awt/X/gra.c,
	libraries/clib/awt/X/imggif.c,
	libraries/clib/awt/X/imgjpeg.c,
	libraries/clib/awt/X/imgpng.c: Fixed the use of real raw data
	inside native calls.

2005-07-22  Kurt Miller <truk@optonline.net>

	* m4/ax_create_stdint_h.m4: Define intmax_t if it is not available.

	* configure: Regenerated.

2005-07-21  Kurt Miller <truk@optonline.net>

	* libraries/javalib/kaffe/tools/jar/Jar.java
	(listFilesInJar,extractFilesInJar): Handle correctly -t and -x arguments.

2005-07-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* WHATSNEW, TODO: Updated.

2005-07-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/awt-implementations/kaffe/java/awt/AWTEvent.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Component.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Font.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/FontMetrics.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Image.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ImageFrameLoader.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/ImageNativeProducer.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/NativeClipboard.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/NativeGraphics.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Toolkit.java,
	libraries/javalib/awt-implementations/kaffe/java/awt/Window.java:
	Use gnu.classpath.RawData instead of kaffe.util.Ptr.

	* libraries/clib/awt/X/cbd.c,
	libraries/clib/awt/X/evt.c,
	libraries/clib/awt/X/fnt.c,
	libraries/clib/awt/X/gra.c,
	libraries/clib/awt/X/img.c,
	libraries/clib/awt/X/toolkit.h,
	libraries/clib/awt/X/wnd.c: Encapuslate the system pointers into a
	RawData object. Cleaned up type uses.

	* libraries/clib/classpath/jcl.c,
	libraries/clib/jcl.h
	(JCL_NewRawDataObject, JCL_GetRawData): New functions to build and
	retrieve data from RawData instances.

	* libraries/clib/awt/X/Makefile.am: Added dependence on
	libclasspath.

	* libraries/clib/awt/X/Makefile.in: Regenerated.

2005-07-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.c
	(jvmpiRequestEvent): Return failure if the argument is wrong.

	* libraries/clib/native/Object.c
	(java_lang_VMObject_wait): Send JVMPI_EVENT_MONITOR_WAITED and not
	JVMPI_EVENT_MONITOR_WAIT when the waiting finishes.
	
2005-07-20  Dalibor Topic  <robilad@kaffe.org>

	Fix for gump issue bootstrap-ant.

	* libraries/javalib/java/util/zip/ZipEntry.java (clone):
	New method. Taken from GNU Classpath.

2005-07-20  Wolfgang Baer <WBaer@gmx.de>

	* po/de.po: Translation for German.

	* po/LINGUAS: Added de.po.

2005-07-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for crt_externs.h to fix build on darwin.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-07-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.h,
	kaffe/jvmpi/jvmpi_kaffe.c
	(jvmpiFillThreadStart): Use really VMThread as a second argument.

2005-07-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.c
	(jvmpiCreateSystemThread): Increased stack size.
	(jvmpiFillMethodLoad): Typo fix.

	* kaffe/kaffevm/jni/jni-base.c
	(JNI_CreateJavaVM): Typo fix.

2005-07-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* include/jvmpi.h: Added support for JVMPI_VERSION_1_2.

	* include/kaffe_jni.h: Added new VM parameters about the profiler
	to load at startup.

	* kaffe/jvmpi/Makefile.am: JVMPI should be compiled and linked
	like the rest of the VM.

	* kaffe/jvmpi/Makefile.in: Regenerated.

	* kaffe/jvmpi/jvmpi_kaffe.c,
	kaffe/jvmpi/jvmpi_kaffe.h
	(jvmpiFillObjectLoad): Handle array more correctly.
	(jvmpiFillClassLoad): Fill the right structure entry using the
	instance field lists.
	(jvmpiFillMethodLoad): New function.
	(jvmpiRawMonitorCreate,
	jvmpiRawMonitorEnter,
	jvmpiRawMonitorExit,
	jvmpiRawMonitorWait,
	jvmpiRawMonitorNotifyAll,
	jvmpiRawMonitorDestroy): Use Klocks.
	(jvmpiRequestEvent): Return success if successful.
	(jvmpiCleanupThreadStart): New function.
	
	* kaffe/kaffe/main.c
	(options): Loading and executing the profiler is now handled by
	JNI itself.

	* kaffe/kaffevm/classPool.c
	(walkClassPool): Only walk valid entries.

	* kaffe/kaffevm/external.c,
	kaffe/kaffevm/external.h
	(loadNativeLibrary): Use "const char *" for the library name.

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): JVMPI is supported for all translators. Fixed
	typo.

	* kaffe/kaffevm/kaffe.def
	(IRETURN, LRETURN, FRETURN,
	DRETURN, ARETURN, RETURN): Acknowledge method exit.

	* kaffe/kaffevm/locks.c: Removed slowlock's timing. Updated JVMPI
	event handling for contended mutexes as the algorithm has changed.

	* kaffe/kaffevm/soft.c
	(soft_enter_method): Rearranged ifdefs.

	* kaffe/kaffevm/stats.c,
	kaffe/kaffevm/stats.h: Put variable definitions in KAFFE_STATS
	(for darwin). Added fulljit timer.

	* kaffe/kaffevm/thread.c
	(firstStartThread): Use jvmpiCleanupThreadStart now.
	
	* kaffe/kaffevm/intrp/machine.c
	(virtualMachine): Acknowledge enter/exit method using JVMPI.

	* kaffe/kaffevm/jit/machine.c
	(translate): Acknowledge translate completion.

	* kaffe/kaffevm/jit/native-wrapper.c
	(Kaffe_wrapper): Invoke exit_method() before method exit.

	* kaffe/kaffevm/jit3/machine.c
	(translate): Measure translation time using fulljit. Moved JVMPI
	event handling into an helper function.
	
	* kaffe/kaffevm/intrp/icode.h,
	kaffe/kaffevm/jit/codeproto.h,
	kaffe/kaffevm/jit/icode.c,
	kaffe/kaffevm/jit3/codeproto.h,
	kaffe/kaffevm/jit3/icode.c
	(exit_method) New icode to be called before exiting a method.
	(softcall_enter_method, softcall_exit_method): Implemented in JIT.

	* kaffe/kaffevm/jni/jni-base.c
	(JNI_CreateJavaVM): Load and invoke the profiler if needed.

	* kaffe/kaffevm/jni/jni-refs.c
	(KaffeJNI_NewWeakGlobalRef, KaffeJNI_DeleteWeakGlobalRef): Handle
	JVMPI events.

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_GetEnv): Accept JVMPI 1.2.
	(Kaffe_JavaVMInitArgs): Initialize the new fields to NULL.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-internal.h
	(jthread_on_condvar, jthread_on_mutex, jthread_has_run,
	jthread_clear_run, jthread_get_status, jthread_from_data): Implemented.

2005-07-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure: Regenerated.

2005-07-19  Dalibor Topic  <robilad@kaffe.org>

	Merged in Runtime/VMRuntime, Process/VMProcess, target native layer and
	FileChannel from GNU Classpath.
	
	* configure.ac: Merged in support for CLASSPATH_INCLUDES. 
	Added Makefiles in libraries/clib/target and subdirs to config files.	

	* include/Makefile.am: (NOINSTALL_DERIVED_HDRS) Added java_lang_VMRuntime.h.
	Removed java_lang_Runtime.h. Added java_lang_VMProcess.h. 
	Removed kaffe_lang_MemoryAdvice.h.

	* kaffe/kaffevm/thread.c: (runfinalizer) Removed call into Runtime hook,
	to avoid loop.

	* libraries/clib/Makefile.am: (SUBDIRS) Added target subdir.

	* libraries/clib/native/Makefile.am: (AM_CPPFLAGS) Added CLASSPATH_INCLUDES.
	(LANG_SRCS) Added java_lang_VMProcess.c. Removed MemoryAdvice.c and 
	UNIXProcess.c.

	* libraries/clib/native/Runtime.c: (java_lang_Runtime_exit0) Renamed to 
	java_lang_VMRuntime_exit.
	(java_lang_Runtime_execInternal) Removed.
	(java_lang_Runtime_freeMemory) Renamed to java_lang_VMRuntime_freeMemory.
	(java_lang_Runtime_maxMemory) Renamed to java_lang_VMRuntime_maxMemory.
	(java_lang_Runtime_totalMemory) Renamed to java_lang_VMRuntime_totalMemory.
	(java_lang_Runtime_gc) Renamed to java_lang_VMRuntime_gc.
	(java_lang_Runtime_runFinalization) Renamed to java_lang_VMRuntime_runFinalization.
	(java_lang_VMRuntime_runFinalizationForExit) New method.
	(java_lang_Runtime_traceInstructions) Renamed to java_lang_VMRuntime_traceInstructions.
	(java_lang_Runtime_traceMethodCalls) Renamed to java_lang_VMRuntime_traceMethodCalls.
	(java_lang_Runtime_runFinalizersOnExit) Renamed to java_lang_VMRuntime_runFinalizersOnExit.
	(java_lang_Runtime_linkLibrary) Renamed to java_lang_VMRuntime_nativeLoad.
	(java_lang_Runtime_getLibPrefix) Renamed to java_lang_VMRuntime_getLibPrefix.
	(java_lang_Runtime_getLibSuffix) Renamed to java_lang_VMRuntime_getLibSuffix.

	* libraries/clib/nio/Makefile.am: (AM_CPPFLAGS) Added CLASSPATH_INCLUDES.
	(libnio_la_SOURCES) Removed FileChannelImpl.c.

	* libraries/clib/nio/gnu_java_nio_channels_FileChannelImpl.c: Replaced with 
	full file from GNU Classpath.

	* libraries/javalib/gnu/classpath/VMSystemProperties.java: (preInit)
	Set gnu.classpath.boot.library.path instead of kaffe.library.path.

	* libraries/javalib/java/lang/Runtime.java: Replaced with implementation
	from GNU Classpath.
	
	* libraries/javalib/java/lang/System.java: Fully synced up with GNU Classpath.

	* libraries/clib/native/java_lang_VMProcess.c,
	libraries/clib/target/Makefile.am,
	libraries/clib/target/Makefile.in,
	libraries/clib/target/readme.txt,
	libraries/clib/target/Linux/Makefile.am,
	libraries/clib/target/Linux/Makefile.in,
	libraries/clib/target/Linux/target_native.h,
	libraries/clib/target/Linux/target_native_file.h,
	libraries/clib/target/Linux/target_native_io.h,
	libraries/clib/target/Linux/target_native_math_float.h,
	libraries/clib/target/Linux/target_native_math_int.h,
	libraries/clib/target/Linux/target_native_misc.h,
	libraries/clib/target/Linux/target_native_network.h,
	libraries/clib/target/generic/Makefile.am,
	libraries/clib/target/generic/Makefile.in,
	libraries/clib/target/generic/target_generic.h,
	libraries/clib/target/generic/target_generic_file.h,
	libraries/clib/target/generic/target_generic_io.h,
	libraries/clib/target/generic/target_generic_math_float.h,
	libraries/clib/target/generic/target_generic_math_int.h,
	libraries/clib/target/generic/target_generic_misc.h,
	libraries/clib/target/generic/target_generic_network.h,
	libraries/javalib/java/lang/VMProcess.java,
	libraries/javalib/java/lang/VMRuntime.java:
	New files, taken from GNU Classpath.
	
	* libraries/clib/native/MemoryAdvice.c,
	libraries/clib/native/UNIXProcess.c,
	libraries/clib/nio/FileChannelImpl.c,
	libraries/javalib/kaffe/lang/MemoryAdvice.java,
	libraries/javalib/kaffe/lang/MemoryAdviceCallback.java: Removed.

	* libraries/javalib/gnu/java/nio/channels/FileChannelImpl.java:
	Resynced with GNU Classpath.

	2005-07-10  Mark Wielaard  <mark@klomp.org>

        * gnu/java/nio/channels/FileChannelImpl.java (force): New native
        method.
        (force(boolean)): Call new native force method.


2005-07-17  Eric Anholt  <eta@lclark.edu>

	* config/config-net.h: Include sys/types.h to
	fix build on FreeBSD.

2005-07-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure: Regenerated.

	* replace/getifaddrs.c: Fixed macro name.

	* config/i386/solaris2/md.h
	(INIT_MD): Fixed function name.
	
2005-07-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/trampolines.S: Fixed PIC usage for x86.

	* config/i386/fpu-set.h: New file.

	* config/i386/linux/md.c: Do not use fpu_control.h but the new
	function in fpu-set.h

	* config/i386/solaris2/md.h
	(INIT_MD): Call fpu_set_precision.

	* configure.ac: Removed fpu_control.h

	* config/Makefile.am: Added i386/fpu-set.h
	
	* replace/Makefile.am: Added ifaddrs_bsd.c

	* replace/ifaddrs_bsd.c: New file.

	* configure,
	config/config.h.in,
	config/Makefile.in,
	replace/Makefile.in: Regenerated.

2005-07-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

        * libraries/javalib/Makefile.am.in:
	(classpath_icons) Added the icons directory.
	(JAR_CMD_TOOLS) Renamed from JAR_CMD_6.
	(JAR_CMD_6) Added command for archiving the icons.

	* libraries/javalib/gnu/javax/swing/plaf/gtk/icons/Error.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/Inform.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/JavaCup.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/JavaCupLarge.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/Question.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/TreeClosed.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/TreeLeaf-normal.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/TreeLeaf.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/TreeOpen.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/Warn.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/file-folders.png,
	libraries/javalib/gnu/javax/swing/plaf/gtk/icons/slider.png:
	New files. Taken from GNU Classpath.

	2005-07-11  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getCellBounds): added width of icon, so selection fits over
        the cell properly.
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        added in icons for the tree.

2005-07-17  Andreas Tobler  <toa@pop.agri.ch>

	* config/powerpc/trampolines.S: Fixed PIC code for powerpc-linux.

2005-07-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-10  Roman Kennke  <roman@kennke.org>

        * javax/swing/JInternalFrame.java
        (pack): Set the JInternalFrame's own size here instead of
        layouting its children (this is triggered by setSize anyway).
        * javax/swing/plaf/basic/BasicInternalFrameUI.java
        (installDefaults): Set the correct border for InternalFrames.
        Set InternalFrames to invisible by default.
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefaults): Set correct color values for
        InternalFrames.

2005-07-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/FileChannelImpl.c:
	(getFD) Renamed to get_native_fd. No longer static since it is used in
	gnu_java_nio_channels_FileChannelImpl.c as well.
	(Java_gnu_java_nio_channels_FileChannelImpl_available,
	Java_gnu_java_nio_channels_FileChannelImpl_implPosition,
	Java_gnu_java_nio_channels_FileChannelImpl_seek,
	Java_gnu_java_nio_channels_FileChannelImpl_implTruncate,
	Java_gnu_java_nio_channels_FileChannelImpl_size,
	Java_gnu_java_nio_channels_FileChannelImpl_write__I,
	Java_gnu_java_nio_channels_FileChannelImpl_implCloseChannel) Use get_native_fd 
	instead of getFD.
	(Java_gnu_java_nio_channels_FileChannelImpl_lock,
	Java_gnu_java_nio_channels_FileChannelImpl_unlock) Removed.

	* libraries/clib/nio/gnu_java_nio_channels_FileChannelImpl.c:
	New file. Taken from GNU Classpath. Removed unused functions.

	* libraries/clib/nio/Makefile.am (libnio_la_SOURCES): Added
	gnu_java_nio_channels_FileChannelImpl.c.

	Resynced with GNU Classpath.

	2005-07-10  Casey Marshall  <csm@gnu.org>

        * native/jni/java-nio/gnu_java_nio_channels_FileChannel.c:
        Include <fcntl.h> if HAVE_FCNTL_H.
        (Java_gnu_java_nio_channels_FileChannelImpl_lock,
        Java_gnu_java_nio_channels_FileChannelImpl_unlock): implemented
        if HAVE_FCNTL.

2005-07-17  Riccardo Mottola  <multix@gmail.com>

	* config/i386/gnu/md.h
	(SIGNAL_PC, STACK_POINTER): Get the right field in sigcontext.

2005-07-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-mem.c
	(gc_block_alloc): Relocate gc_last_block too.

2005-07-17  Kurt Miller <truk@optonline.net>

	* kaffe/kaffeh/main.c
	(main): Handle inner classes. Added support for '-bootclasspath'.
	
2005-07-16  Dalibor Topic  <robilad@kaffe.org>

	* Resynced with GNU Classpath.

	2005-07-10  Casey Marshall  <csm@gnu.org>

        * gnu/classpath/debug/Component.java: new file.
        * gnu/classpath/debug/PreciseFilter.java: new file.
        * gnu/classpath/debug/SystemLogger.java: new file.
        * gnu/java/security/x509/X509Certificate.java
        (DEBUG, debug, debug): removed.
        (logger): new constant; use 'logger' with 'Component.X509'
        for debug messages throughout.
        (parse): always read the next DER value after reading the
        version-specific values.

2005-07-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/solaris2/jit3-md.h: Enabled JIT3 on solaris/x86.

2005-07-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/solaris2/md.h: Removed the extra "struct".

2005-07-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* developers/math_symbols: Removed log10 as it is not implemented in
	fdlibm.

	* libraries/clib/fdlibm/namespace.h: Regenerated.

2005-07-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* developers/math_symbols, developers/build_mathnamespace: Added a
	dwarf script to build the namespace.h file.
	
	* libraries/clib/fdlibm/namespace.h: New generated file.

	* libraries/clib/fdlibm/fdlibm.h,
	libraries/clib/fdlibm/mprec.h: Include namespace.h.

	* libraries/clib/fdlibm/Makefile.am: Added namespace.h.

	* libraries/clib/fdlibm/Makefile.in: Regenerated.

2005-07-14  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Fixed comment.

2005-07-14  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/fdlibm/ieeefp.h: Readded arm specific ifdefs.

	* libraries/javalib/java/lang/Runtime.java
	(availableProcessors): Dummy function for compatibility.
	
2005-07-14  Daniel Bonniot  <bonniot@users.sf.net>

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Removed break because entries may be duplicated.

2005-07-13  Andreas Tobler  <toa@pop.agri.ch>

	* config/powerpc/trampolines.S:
	Fixed to work with PIC on darwin. All jitBasic tests pass now on Panther.

2005-07-13  Andreas Tobler  <toa@pop.agri.ch>

	* config/powerpc/darwin/jit3-md.h: Removed broken comment
	delimiters.

2005-07-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/jni/JNIWeakTest.java: New tests.

	* test/jni/jniweaklib.c: Added support functions for the new tests.

2005-07-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* TODO: Added some TODO entries.

	* kaffe/kaffe/main.c
	(parseArgs): -Xmx may detect unlimited now.

	* kaffe/kaffe/version.c
	(printVersion): Kaffe reports unlimited if the internal default
	value is UNLIMITED_HEAP.

	* kaffe/kaffevm/gc.h
	(UNLIMITED_HEAP): New key value.

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(gcMalloc): Use directly KGC_invoke and adviseGC.

	* kaffe/kaffevm/kaffe-gc/gc-incremental.h: Removed unsed default
	values.
	
	* kaffe/kaffevm/kaffe-gc/gc-mem.c
	(gc_num_blocks, gc_num_live_pages): Moved from gc_block_alloc.
	(gc_block_alloc): Do not use gc_heap_limit anymore for computing the
	needed memory blocks.
	(gc_heap_grow): Only limit the heap if gc_heap_limit !=
	UNLIMITED_HEAP.

2005-07-13  Dalibor Topic  <robilad@kaffe.org>

	* test/jni/Makefile.am: (check_PROGRAMS) Added jniWeakTest.
	(check_LTLIBRARIES, libjniweaklib_la_SOURCES, libjniweaklib_la_LDFLAGS,
	JAVA_CLASSES, CPATH, JNIWeakTest.class, jniWeakTest_SOURCES, 
	jniWeakTest_LDADD, jniWeakTest_DEPENDECIES, jniWeakTest.o): New rules.
	(TESTS_ENVIRONMENT) Set BOOTCLASSPATH and KAFFELIBRARYPATH.
	(EXTRA_DIST) Added JNIWeakTest.java.

	* test/jni/Makefile.in: Regenerated.

2005-07-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/jni/JNIWeakTest.java,
	test/jni/jniWeakTest.c,
	test/jni/jniweaklib.c: New test.

2005-07-12  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	Added missing hunk reported by  Wolfgang Baer <WBaer@gmx.de>

	2005-07-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c: Add
        method implementations from
        gnu_java_awt_peer_gtk_GtkTextComponentPeer.c.

2005-07-12  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	2005-06-14  Chris Burdess  <dog@gnu.org>

        * gnu/xml/aelfred2/XmlParser.java: ensure that charset parameter of
        external MIME entity is trimmed.
        * gnu/xml/dom/DomDocument.java: DomNsNodes retrieved via
        createElement/createAttribute should not have localNames.

2005-07-11  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/netbsd1/jit-md.h: Updated macro to retrieve the base
	stack pointer and not the current stack pointer.

2005-07-11  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/netbsd1/md.h,
	config/i386/netbsd1/jit-md.h: Use old sigcontext if ucontext.h is not 
	available.

2005-07-10  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Check for sys/ucontext.h

	* configure, config/config.h.in, 
	libltdl/configure: Regenerated.

	* config/i386/netbsd1/md.h: Include sys/ucontext.h if available.

	* libraries/clib/nio/java_nio_VMDirectByteBuffer.c: Removed
	spurious debug message.

2005-07-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	* libraries/javalib/gnu/java/security/provider/SHA1PRNG.java:
	Updated copyright information.

2005-07-09  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	2005-07-09  Chris Burdess  <dog@gnu.org>

        * gnu/xml/transform/AbstractNumberNode.java,
        gnu/xml/transform/ApplyImportsNode.java,
        gnu/xml/transform/ApplyTemplatesNode.java,
        gnu/xml/transform/AttributeNode.java,
        gnu/xml/transform/Bindings.java,
        gnu/xml/transform/CallTemplateNode.java,
        gnu/xml/transform/CopyOfNode.java,
        gnu/xml/transform/CurrentFunction.java,
        gnu/xml/transform/DocumentFunction.java,
        gnu/xml/transform/ElementAvailableFunction.java,
        gnu/xml/transform/ElementNode.java,
        gnu/xml/transform/ForEachNode.java,
        gnu/xml/transform/FormatNumberFunction.java,
        gnu/xml/transform/FunctionAvailableFunction.java,
        gnu/xml/transform/GenerateIdFunction.java,
        gnu/xml/transform/IfNode.java,
        gnu/xml/transform/KeyFunction.java,
        gnu/xml/transform/ParameterNode.java,
        gnu/xml/transform/SortKey.java,
        gnu/xml/transform/StreamSerializer.java,
        gnu/xml/transform/Stylesheet.java,
        gnu/xml/transform/SystemPropertyFunction.java,
        gnu/xml/transform/TemplateNode.java,
        gnu/xml/transform/TransformerImpl.java,
        gnu/xml/transform/UnparsedEntityUriFunction.java,
        gnu/xml/transform/ValueOfNode.java,
        gnu/xml/transform/WhenNode.java,
        gnu/xml/transform/WithParam.java,
        gnu/xml/xpath/AndExpr.java,
        gnu/xml/xpath/ArithmeticExpr.java,
        gnu/xml/xpath/BooleanFunction.java,
        gnu/xml/xpath/CeilingFunction.java,
        gnu/xml/xpath/ConcatFunction.java,
        gnu/xml/xpath/Constant.java,
        gnu/xml/xpath/ContainsFunction.java,
        gnu/xml/xpath/CountFunction.java,
        gnu/xml/xpath/EqualityExpr.java,
        gnu/xml/xpath/Expr.java,
        gnu/xml/xpath/FalseFunction.java,
        gnu/xml/xpath/FloorFunction.java,
        gnu/xml/xpath/FunctionCall.java,
        gnu/xml/xpath/IdFunction.java,
        gnu/xml/xpath/LangFunction.java,
        gnu/xml/xpath/LastFunction.java,
        gnu/xml/xpath/LocalNameFunction.java,
        gnu/xml/xpath/NameFunction.java,
        gnu/xml/xpath/NameTest.java,
        gnu/xml/xpath/NamespaceTest.java,
        gnu/xml/xpath/NamespaceUriFunction.java,
        gnu/xml/xpath/NegativeExpr.java,
        gnu/xml/xpath/NodeTypeTest.java,
        gnu/xml/xpath/NormalizeSpaceFunction.java,
        gnu/xml/xpath/NotFunction.java,
        gnu/xml/xpath/NumberFunction.java,
        gnu/xml/xpath/OrExpr.java,
        gnu/xml/xpath/ParenthesizedExpr.java,
        gnu/xml/xpath/Pattern.java,
        gnu/xml/xpath/PositionFunction.java,
        gnu/xml/xpath/Predicate.java,
        gnu/xml/xpath/RelationalExpr.java,
        gnu/xml/xpath/Root.java,
        gnu/xml/xpath/RoundFunction.java,
        gnu/xml/xpath/Selector.java,
        gnu/xml/xpath/StartsWithFunction.java,
        gnu/xml/xpath/Steps.java,
        gnu/xml/xpath/StringFunction.java,
        gnu/xml/xpath/StringLengthFunction.java,
        gnu/xml/xpath/SubstringAfterFunction.java,
        gnu/xml/xpath/SubstringBeforeFunction.java,
        gnu/xml/xpath/SubstringFunction.java,
        gnu/xml/xpath/SumFunction.java,
        gnu/xml/xpath/Test.java,
        gnu/xml/xpath/TranslateFunction.java,
        gnu/xml/xpath/TrueFunction.java,
        gnu/xml/xpath/UnionExpr.java,
        gnu/xml/xpath/VariableReference.java,
        gnu/xml/xpath/XPathParser.java,
        gnu/xml/xpath/XPathParser.y,
        javax/xml/namespace/QName.java: Corrections to handling of XSL
        variables and minor conformance updates.

	2005-07-09  Archie Cobbs  <archie@dellroad.org>

        * java/net/URLClassLoader.java: disallow directories as resources

	2005-07-09  Casey Marshall  <csm@gnu.org>

        * java/util/logging/FileHandler.java
        (written): new field.
        (logFiles): new field.
        (<init>): initialize the OutputStream last.
        (createFileStream): made non-static; append '.%g' to 'pattern'
        if not included; open existing files if 'append' is set; return
        byte-counting stream; use 'has', not 'String.indexOf'.
        (publish): rotate the file if we go beyond the byte limit; flush
        the stream after publishing each record.
        (rotate): new method.
        (has): new method.
        (ostr): new member class.

	2005-07-08  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicFileChooserUI.java:
        (ApproveSelectionAction.actionPerformed): Allow directories to be
        selected unless selection mode is FILES_ONLY.

	2005-07-08  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicButtonUI.java: minor API doc fixes,
        * javax/swing/plaf/basic/BasicComboBoxEditor.java: likewise,
        * javax/swing/plaf/basic/BasicGraphicsUtils.java: likewise,
        * javax/swing/plaf/basic/BasicLabelUI.java: likewise,
        * javax/swing/plaf/basic/BasicListUI.java: likewise,
        * javax/swing/plaf/basic/BasicLookAndFeel.java: likewise,
        * javax/swing/plaf/basic/BasicMenuBarUI.java: likewise,
        * javax/swing/plaf/basic/BasicMenuUI.java: likewise,
        * javax/swing/plaf/basic/BasicPopupMenuUI.java: likewise,
        * javax/swing/plaf/basic/BasicScrollBarUI.java: likewise,
        * javax/swing/plaf/basic/BasicSpinnerUI.java: likewise,
        * javax/swing/plaf/basic/BasicSplitPaneDivider.java: likewise,
        * javax/swing/plaf/basic/BasicToolTipUI.java: likewise.

	2005-07-08  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/filechooser/FileSystemView.java:
        (getFiles): Added check for non-existent directory, in which case
        default to home directory.

	2005-07-08  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalIconFactory.java: new file, implements
        core tree icons.

	2005-07-08  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (getDefaults): Call theme.addCustomEntriesToTable() only once
        during initialization of the defaults table.

	2005-07-08  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTableUI.java
        (installDefaults): Initialize cell borders.
        (paint): Set correct cell border before painting.
        * javax/swing/plaf/basic/BasicLookAndFeel.java
        (initComponentDefault): Corrected color value for the
        Table.focusCellHighlightBorder UIResource.

	2005-07-07  Jeroen Frijters  <jeroen@frijters.net>

        * java/io/ObjectStreamClass.java
        (findAccessibleMethod): Added code to make method accessible.

	2005-07-07  Robert Schuster <robertschuster@fsfe.org>

        * javax/swing/JMenu.java
        (setSelected): Added isEnabled() to expression.

	2005-07-07  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable.java:
        (clearSelection): Added clearing of columns as well as rows.

	2005-07-07  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicTableUI.java:
        (MouseInputHandler.mousePressed): Added check for control being pressed
        and mouse clicked on already selected cell.  In this case, deselect
        the cell.

	2005-07-07  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultListSelectionModel.java:
        (addSelectionInterval): Added check for leadSelectionIndex being
        unselected (ie - after a remove operation).

	2005-07-07  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getRowCount): Implemented
        (getPreferredSize): Implemented
        (getMinimumSize): Implemented
        (getMaximumSize): Implemented
        (getCellBounds): checked if parameter is null
        (paintRecursive): added in a variable to keep track of the
        length of vertical line to be drawn. Now paints tree nicely.

	2005-07-07  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        Formatted code so else's are on new lines

	2005-07-07  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        Formatted code to get rid of TABs
        (getPathForRow): took out redundant code.
        (getNextVisibleNode): took out redundant code.

	2005-07-07  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java
        (DocumentHandler.insertUpdate): Update caret position when document
        changes.
        (DocumentHandler.removeUpdate): Update caret position when document
        changes.

	2005-07-07  Roman Kennke  <roman@kennke.org>

        * gnu/java/awt/FocusManager.java: New class. Provides a concrete
        implementation of javax.swing.FocusManager so that we can support
        the old-style FocusManager in Swing and AWT.
        * gnu/classpath/SystemProperties.java: Add new system property
        gnu.java.awt.FocusManager that sets the class that should be used
        as the default FocusManager in AWT and Swing.
        * java/awt/KeyboardFocusManager.java
        (setCurrentKeyboardFocusManager): Use createFocusManager instead
        of creating the instance directly.
        (createFocusManager): New method. Instantiate a KeyboardFocusManager
        that is set by the system property gnu.java.awt.FocusManager.
        * javax/swing.FocusManager.java
        (constructor): Call super() here.
        (getCurrentManager): Return the current AWT KeyboardFocusManager
        here.
        (setCurrentManager): Set the current AWT KeyboardFocusManager
        here.
        (processKeyEvent): Removed method. This is no longer in the
        API.
        (focusNextComponent): Removed method. This is no longer in the
        API.
        (focusPreviousComponent): Removed method. This is no longer in the
        API.

	2005-07-07  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JProgressBar.java
        (JProgressBar(int, int, int)): fix order of parameters,
        (JProgressBar()): reorder arguments in call to other constructor,
        (JProgressBar(int): likewise,
        (JProgressBar(int, int): likewise.

2005-07-09  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/javadoc.in,
	kaffe/scripts/compat/javadoc.in:
	Make sure the scripts find gjdoc.jar.

2005-07-09  Dalibor Topic  <robilad@kaffe.org>

	Resynced with gjdoc.

	2005-07-01  Tom Tromey  <tromey@redhat.com>

        * src/gnu/classpath/tools/gjdoc/Parser.java
        (PackageComponent.process): Don't add to importedStatementList.
        (processSourceFile): Don't add java.lang.* to
        importedStatementList.
        (classOpened): Update importedStatementList here.

	2005-05-24  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/ClassDocImpl.java (findClass): New
        method variant which accepts a dimension specifier and caches
        results.

        * src/gnu/classpath/tools/gjdoc/MemberDocImpl.java (resolve):
        Optimized for reduced memory usage.

        * src/gnu/classpath/tools/gjdoc/ParameterImpl.java (resolve):
        Optimized for reduced memory usage.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
        Implemented new option -baseurl.  Refactored to use newHtmlPage
        factory methods.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlPage.java:
        Likewise.

        * src/gnu/classpath/tools/gjdoc/Main.java (usage): Added usage
        information for option -baseurl.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/resources/htmldoclet/gjdochtml-clean-layout.css: Minor
        improvement to layout of class description.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlPage.java
        (anchorName): Output ID in addition to NAME attribute for anchors,
        as per W3C recommendation.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
        Option -validhtml implemented.
        (getMemberDocURL): Now works for external documentation set.
        (createTypeHref): Minor refactoring.
        (getPackageURL): Now takes external documentation sets into
        account.
        (getClassURL): Likewise.
        (renderSeeTag): Likewise.
        (run): Capitalized warnings for options -serialwarn and
        -title. Added warning for option -validhtml.  Now writes
        gjdoc.properties to output directory.
        (getMemberAnchor): Refactored to take -validhtml into account.
        (transformReferencedMemberName): New method.
        (writeGjdocProperties): New method.
        (isJavadocCompatibleNames): New method.

        * src/gnu/classpath/tools/doclets/htmldoclet/ExternalDocSet.java
        (load): Try to load gjdoc.properties from external documentation
        for detecting the external set's compatibility mode.
        (getClassDocURL): No longer throws a checked exception.
        (getPackageDocURL): New method.
        (isJavadocCompatible): New Method.

        * src/gnu/classpath/tools/gjdoc/Main.java:
        (usage): Added usage information for option -validhtml.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/MemberDocImpl.java: Honor
        dimension when replacing ClassDocProxies with ClassDocImpl.

        * src/gnu/classpath/tools/gjdoc/ParameterImpl.java: Likewise.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/resources/htmldoclet/xhtml11-strict-target10.dtd: Renamed to
        xhtml11-target10.dtd.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
        Rename DTD.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlPage.java:
        Likewise, and fixed link to DTD in DOCTYPE descriptor.

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
        Improved generated code for better XHTML compatibility.  Now falls
        back to platform default charset if -charset hasn't been
        specified.

        * src/resources/htmldoclet/gjdochtml-clean-layout.css: Made the
        new HTML structure display the same as the old ones.

        * src/gnu/classpath/tools/doclets/xmldoclet/HtmlRepairer.java:
        Omit text which occurs in invalid contexts (e.g. in a <ul>
        element.)

	2005-05-23  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java:
        Improved CSS class definitions for better XHTML compatibility.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlPage.java: Use
        custom DTD (which includes the XHTML Target 1.0 extension) instead
        of the plain XHTML DTD.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java: Copy
        the custom DTD to the output directory.

        * src/resources/htmldoclet/xhtml11-strict-target10.dtd: Added.

        * src/resources/htmldoclet/gjdochtml-clean-layout.css: Made the
        new CSS class definitions display the same as the old ones.

	2005-05-22  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/FieldDocImpl.java
        (createFromSource): Do not skip contents of strings when parsing
        static field values.  Fixed a bug which would break parsing when a
        backslash is encountered in single quotes.  See Savannah bug
        #12816.

	2005-05-20  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/Main.java (start): Use stdout
        instead of stderr for printing version information.
        (main, execute, start, startDoclet): Do not immediately call
        System.exit in case of error; instead, pass error count back to
        entry method.  This allows the execute() method to be better used
        via reflection.  For normal command line usage, this shouldn't
        change anything.
        (shutdown): Removed.

        * src/gnu/classpath/tools/doclets/PackageMatcher.java (match):
        Actually return true on a match.  This makes option -group work.
        (toString) Added.

        * src/gnu/classpath/tools/taglets/ValueTaglet.java (toString):
        Remove debug message.

	2005-05-18  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/Main.java (isValidJavaFile):
        Implemented, removed static modifier.
        (findPackages): Removed static modifier. Better handling of
        default package.
        (startDoclet): Better handling of default package.

        * src/gnu/classpath/tools/gjdoc/RootDocImpl.java
        (build): Better handling of default package. Use Set instead of
        List for collecting package names.

        * src/gnu/classpath/tools/gjdoc/Parser.java (classOpened): Better
        reporting for ignored files. Better handling of default package.

	2005-05-11  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/RootDocImpl.java
        (findSourceFile, findOrCreatePackageDoc, build): Modified to
        better handle multiple source directories.

        * src/gnu/classpath/tools/gjdoc/Main.java (startDoclet): Likewise.

	2005-05-05  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/ExecutableMemberDocImpl.java
        (createFromSource): Do not require whitespace to separate type
        dimension qualifier from member name.  Replace some uses of String
        by StringBuffer.

        * src/gnu/classpath/tools/gjdoc/MemberDocImpl.java
        (parseModifiers): Likewise.

        * src/gnu/classpath/tools/doclets/AbstractDoclet.java (addUsedBy):
        Use TreeMap instead of HashMap for deterministic usage type sort
        order.
        (UsageType): Implements Comparable
        (UsageType.compareTo): New method.

	2005-05-04  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/Main.java: Handle single quotes in
        command files.

	2005-04-27  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/Main.java: Treat command line
        flags as case-insensitive.

        * src/gnu/classpath/tools/doclets/AbstractDoclet.java: Likewise.

	2005-04-26  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/ExternalDocSet.java
        (load): Throw a FileNotFoundException when URL.openStream()
        returns null.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java
        (run): When an external package-list cannot be retrieved, print a
        warning instead of raising an exception.

	2005-04-25  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/ParameterImpl.java (name): Fix
        capitalized public keyword.

	2005-04-25  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/ParameterImpl.java (resolve): Do
        not replace unresolvable ClassDocProxy with TypeImpl.

	2005-04-25  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java
        (getTypeParameters): do not return "<>" string when type parameter
        array is empty.

	2005-04-17  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * src/com/sun/javadoc/ClassDoc.java:
        (typeParameters()): New method for retrieving type variables.
        * src/com/sun/javadoc/Type.java:
        (asTypeVariable()): New method for casting to a type variable.
        * src/com/sun/javadoc/TypeVariable.java:
        New class to handle type variables.
        (bounds()): New method to retrieve variable bounds.
        (owner()): New method to retrieve owning class.
        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
        (printIndexEntry(HtmlPage,Doc)): Add type variables to class name.
        (printClassPage(File,String,ClassDoc,ClassDoc,ClassDoc)):
        Likewise.
        (createTypeHref(HtmlPage,Type,boolean)): Likewise.
        (getTypeParameters(ClassDoc)): New method to construct a String
        containing the type parameters.
        * src/gnu/classpath/tools/gjdoc/ClassDocImpl.java:
        (asTypeVariable()): New method.
        (createInstance(ClassDoc,PackageDoc,ClassDoc[],PackageDoc[],char[],
        int,int,List)): Add parsing of type variables, which may contain ','.
        (typeParameters()): New method to return the type parameters.
        (parseTypeVariables(ClassDocImpl, String)): New method to parse
        the type variables.
        * src/gnu/classpath/tools/gjdoc/ClassDocProxy.java:
        (asTypeVariable()): New method.
        (typeParameters()): New method.
        * src/gnu/classpath/tools/gjdoc/ClassDocReflectedImpl.java:
        (asTypeVariable()): New method.
        (typeParameters()): New method.
        * src/gnu/classpath/tools/gjdoc/TypeImpl.java:
        (asTypeVariable()): New variable to cast type variables.
        * src/gnu/classpath/tools/gjdoc/TypeVariableImpl.java:
        New class to represent type variables.
        (TypeVariableImpl(String,String,String,ProgramElementDoc)):
        New constructor, which also handles owning class.
        (setBounds(List)): New method to set bounds.
        (bounds()): New method to retrieve bounds.
        (owner()): New method to retrieve owner.

	2005-04-08  Julian Scheid  <julian@sektor37.de>

        * src/gnu/classpath/tools/gjdoc/FieldDocImpl.java
        (createFromSource): Reimplemented. Fixes a number of bugs, most
        importantly comma-separated field lists are now recognized and
        nested brackets/braces as well as comments are dealt with
        properly. (createFieldDoc): added helper method.

        * src/gnu/classpath/tools/gjdoc/ClassDocImpl.java (isIncluded):
        Include inner classes if outer class is included and access level
        is covered according to command line options.

        * src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java
        (printClassPage): Only output "Nested Classes" header if there are
        nested classes to list.

2005-07-08  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c (main): Only use strdup if parameter is known
	not to be NULL. Brown paper bag time.

2005-07-08  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	2005-07-07  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (MouseInputHandler.mouseClicked): Access static TreeSelectionModel
        fields via the class and not via an instance.

	2005-07-07  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTreeUI.java:
        Reformatted source file to better match our coding standards.

	2005-07-06  Chris Burdess  <dog@gnu.org>

        * gnu/java/net/protocol/http/HTTPConnection.java,
        gnu/java/net/protocol/http/HTTPURLConnection.java:
        Fix bug with multiple threads and persistent connections.

2005-07-07  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/main.c (main): Duplicate classpath string received from getenv
	in order to be able to free it later.

2005-07-07  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU classpath.

	2005-07-06  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/basic/BasicBorders.java: fixed API docs all over.

	2005-07-06  Chris Burdess  <dog@gnu.org>

        * gnu/xml/transform/StreamSerializer.java,
        gnu/xml/xpath/EqualityExpr.java: XSLT conformance fixes.

	2005-07-06  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getPathForRow): took out redundant code.

	2005-07-06  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java
        (getNextVisibleNode): Implemented
        (getPathForRow): Fixed so the next node retrieved is visible.

	2005-07-06  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTree.java
        Initialized the Hashtable.
        (addSelectionPath): removed redundant code.
        (doExpandParents): added in line so that state is
        changed for current path. Changed while loop to if
        statement, an infinite loop was occurring.
        * javax/swing/plaf/basic/BasicTreeUI.java
        (getPathForRow): Implemented to work with visibility.
        (isLeaf): Implemented
        (mouseClicked): add in check for expand/collapse.
        Selection for DISCONTIGUOUS tree selection is
        implemented.
        (treeExpanded): called repaint, so the tree updates
        visually when something is expanded.
        (treeCollapse): Similar to treeExpanded.
        (paintLeaf): changed to paint leaf only when visible.
        (paintNonLeaf): paints only when visible.
        (paintRecursive): lines for tree are only painted when
        needed. checked for visibility of current object and
        parent.
        * javax/swing/tree/DefaultTreeCellRenderer.java
        (getTreeCellRendererComponent): setting icons when
        expanded.
        * javax/swing/tree/DefaultTreeSelectionModel.java
        (clearSelection): set leadPath to null because selection
        should be completely reset.

	2005-07-06  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (setContentAreaFilled): Set the opaque property here.

2005-07-07  Dalibor Topic  <robilad@kaffe.org>

	* FAQ/FAQ.classlibrary-compile: Updated URL for jikes.

	Reported by:  Ito Kazumitsu  <kaz@maczuka.gcd.org>

2005-07-07  Dalibor Topic  <robilad@kaffe.org>

        * THIRDPARTY: Updated to DNSJava 2.0.0.

        * libraries/javalib/org/xbill/DNS/A6Record.java,
        libraries/javalib/org/xbill/DNS/AAAARecord.java,
        libraries/javalib/org/xbill/DNS/AFSDBRecord.java,
        libraries/javalib/org/xbill/DNS/APLRecord.java,
        libraries/javalib/org/xbill/DNS/ARecord.java,
        libraries/javalib/org/xbill/DNS/Address.java,
        libraries/javalib/org/xbill/DNS/CNAMERecord.java,
        libraries/javalib/org/xbill/DNS/Cache.java,
        libraries/javalib/org/xbill/DNS/Client.java,
        libraries/javalib/org/xbill/DNS/DClass.java,
        libraries/javalib/org/xbill/DNS/DNAMERecord.java,
        libraries/javalib/org/xbill/DNS/DNSInput.java,
        libraries/javalib/org/xbill/DNS/DNSKEYRecord.java,
        libraries/javalib/org/xbill/DNS/DNSSEC.java,
        libraries/javalib/org/xbill/DNS/EmptyRecord.java,
        libraries/javalib/org/xbill/DNS/ExtendedResolver.java,
        libraries/javalib/org/xbill/DNS/FindServer.java,
        libraries/javalib/org/xbill/DNS/Flags.java,
        libraries/javalib/org/xbill/DNS/GPOSRecord.java,
        libraries/javalib/org/xbill/DNS/Generator.java,
        libraries/javalib/org/xbill/DNS/HINFORecord.java,
        libraries/javalib/org/xbill/DNS/Header.java,
        libraries/javalib/org/xbill/DNS/ISDNRecord.java,
        libraries/javalib/org/xbill/DNS/Inet6Address.java,
        libraries/javalib/org/xbill/DNS/InvalidDClassException.java,
        libraries/javalib/org/xbill/DNS/InvalidTypeException.java,
        libraries/javalib/org/xbill/DNS/KEYBase.java,
        libraries/javalib/org/xbill/DNS/KEYRecord.java,
        libraries/javalib/org/xbill/DNS/KXRecord.java,
        libraries/javalib/org/xbill/DNS/LOCRecord.java,
        libraries/javalib/org/xbill/DNS/Lookup.java,
        libraries/javalib/org/xbill/DNS/MBRecord.java,
        libraries/javalib/org/xbill/DNS/MDRecord.java,
        libraries/javalib/org/xbill/DNS/MFRecord.java,
        libraries/javalib/org/xbill/DNS/MGRecord.java,
        libraries/javalib/org/xbill/DNS/MINFORecord.java,
        libraries/javalib/org/xbill/DNS/MRRecord.java,
        libraries/javalib/org/xbill/DNS/MXRecord.java,
        libraries/javalib/org/xbill/DNS/Master.java,
        libraries/javalib/org/xbill/DNS/Message.java,
        libraries/javalib/org/xbill/DNS/Mnemonic.java,
        libraries/javalib/org/xbill/DNS/NAPTRRecord.java,
        libraries/javalib/org/xbill/DNS/NSAP_PTRRecord.java,
        libraries/javalib/org/xbill/DNS/NSECRecord.java,
        libraries/javalib/org/xbill/DNS/NSRecord.java,
        libraries/javalib/org/xbill/DNS/NULLRecord.java,
        libraries/javalib/org/xbill/DNS/NXTRecord.java,
        libraries/javalib/org/xbill/DNS/Name.java,
        libraries/javalib/org/xbill/DNS/NameSet.java,
        libraries/javalib/org/xbill/DNS/NameTooLongException.java,
        libraries/javalib/org/xbill/DNS/OPTRecord.java,
        libraries/javalib/org/xbill/DNS/Opcode.java,
        libraries/javalib/org/xbill/DNS/Options.java,
        libraries/javalib/org/xbill/DNS/PTRRecord.java,
        libraries/javalib/org/xbill/DNS/PXRecord.java,
        libraries/javalib/org/xbill/DNS/RPRecord.java,
        libraries/javalib/org/xbill/DNS/RRSIGRecord.java,
        libraries/javalib/org/xbill/DNS/RRset.java,
        libraries/javalib/org/xbill/DNS/RTRecord.java,
        libraries/javalib/org/xbill/DNS/Rcode.java,
        libraries/javalib/org/xbill/DNS/Record.java,
        libraries/javalib/org/xbill/DNS/RelativeNameException.java,
        libraries/javalib/org/xbill/DNS/Resolver.java,
        libraries/javalib/org/xbill/DNS/ResolverConfig.java,
        libraries/javalib/org/xbill/DNS/ReverseMap.java,
        libraries/javalib/org/xbill/DNS/SIGBase.java,
        libraries/javalib/org/xbill/DNS/SIGRecord.java,
        libraries/javalib/org/xbill/DNS/SOARecord.java,
        libraries/javalib/org/xbill/DNS/SRVRecord.java,
        libraries/javalib/org/xbill/DNS/SSHFPRecord.java,
        libraries/javalib/org/xbill/DNS/Section.java,
        libraries/javalib/org/xbill/DNS/Serial.java,
        libraries/javalib/org/xbill/DNS/SimpleResolver.java,
        libraries/javalib/org/xbill/DNS/SingleCompressedNameBase.java,
        libraries/javalib/org/xbill/DNS/SingleNameBase.java,
        libraries/javalib/org/xbill/DNS/TCPClient.java,
        libraries/javalib/org/xbill/DNS/TSIG.java,
        libraries/javalib/org/xbill/DNS/TSIGRecord.java,
        libraries/javalib/org/xbill/DNS/TTL.java,
        libraries/javalib/org/xbill/DNS/TXTRecord.java,
        libraries/javalib/org/xbill/DNS/Tokenizer.java,
        libraries/javalib/org/xbill/DNS/Type.java,
        libraries/javalib/org/xbill/DNS/U16NameBase.java,
        libraries/javalib/org/xbill/DNS/UDPClient.java,
        libraries/javalib/org/xbill/DNS/UNKRecord.java,
        libraries/javalib/org/xbill/DNS/WKSRecord.java,
        libraries/javalib/org/xbill/DNS/X25Record.java,
        libraries/javalib/org/xbill/DNS/Zone.java,
        libraries/javalib/org/xbill/DNS/ZoneTransferIn.java,
        libraries/javalib/org/xbill/DNS/dns.java,
        libraries/javalib/org/xbill/DNS/security/DNSSECVerifier.java,
        libraries/javalib/org/xbill/DNS/security/DSAPubKey.java,
        libraries/javalib/org/xbill/DNS/security/DSASignature.java,
        libraries/javalib/org/xbill/DNS/utils/HMAC.java,
        libraries/javalib/org/xbill/DNS/utils/hmacSigner.java,
        libraries/javalib/org/xbill/DNS/utils/md5.java:
	Resynced with DNSJava 2.0.0.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU inetlib.

	2005-06-20  Chris Burdess  <dog@gnu.org>

        * Request.java: If request method is HEAD or OPTIONS, never attempt
        to read response body.

	2005-06-15  Goffredo Baroncelli  <kreijack@inwind.it>

        * HTTPURLConnection.java: Check index.

	2005-06-06  Chris Burdess  <dog@gnu.org>

        * IMAPConnection.java,POP3Connection.java,SMTPConnection.java,
        NNTPConnection.java,TraceLevel.java: New logging framework.
        * POP3Connection.java,SMTPConnection.java: Permit TLS negotiation on
        socket connection.

	2005-05-28  Chris Burdess  <dog@gnu.org>

        * HTTPURLConnection.java: Check that Location is not null on
        redirect.
        * FTPURLConnection.java: URL paths are relative.

	2005-04-28  Chris Burdess  <dog@gnu.org>

        * NNTPConnection.java: As below for createSaslClient.

	2005-04-27  Chris Burdess  <dog@gnu.org>

        * HTTPURLConnection.java: Accept absolute and relative paths in
        Location header. Throw FileNotFoundException and implement
        getErrorStream on 404.
        * SMTPConnection.java,IMAPConnection.java,POP3Connection.java:
        Use HashMap instead of Properties in argument to createSaslClient
        to ensure compatibility with Java 1.5 generics syntax.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	* FAQ/FAQ.classlibrary-compile: Recommend jikes 1.22.

        Reported by:  Akhilesh Shirbhate <akhilesh.hacking@gmail.com>

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/awt/classpath-gtk/gtk-peer/Makefile.am
	(libgtkpeer_la_SOURCES): Removed gnu_java_awt_peer_gtk_GtkTextComponentPeer.c.

	Reported by:  Akhilesh Shirbhate <akhilesh.hacking@gmail.com>

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.h: Added missing classMethod.h include.

	* kaffe/kaffevm/jni/jni-refs.c: Added missing jvmpi_kaffe.h include.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-06  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/AWTKeyStroke.java: fixed API doc links,
        * java/awt/BufferCapabilities.java: likewise,
        * java/awt/ColorPaintContext.java: likewise,
        * java/awt/Component.java: likewise,
        * java/awt/Container.java: likewise,
        * java/awt/EventQueue.java: likewise,
        * java/awt/GraphicsDevice.java: likewise,
        * java/awt/Image.java: likewise,
        * java/awt/KeyboardFocusManager.java: likewise,
        * java/awt/MediaTracker.java: likewise,
        * java/awt/PrintJob.java: likewise,
        * java/awt/Robot.java: likewise.

	2005-07-06  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JTable.java
        (setAutoCreateColumnsFromModel): when the flag changes from false to
        true, call createDefaultColumnsFromModel().

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JTable.java
        (getColumnName): return name from column in data model.

	2005-07-05  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/DefaultKeyboardFocusManager.java (dispatchEvent): Check
        parent and target before casting target to Window.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/AbstractAction.java: updated API docs,
        * javax/swing/Action.java: likewise.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * java/applet/Applet.java: added import to fix API doc link.

	2005-07-05  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * javax/swing/text/StyleContext.java
        (defaultStyle): New field.
        (constructor): Add defaultStyle to the styleTable.
        (DEFAULT_STYLE, getStyle, getStyleNames): Documented.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JTable.java:
        (addColumn): retrieve correct column name,
        (convertColumnIndexToModel): remove check for > columnCount and let
        exception happen,
        (getColumnName): retrieve name from TableColumn,
        (isCellEditable): implemented,
        (createDefaultColumnsFromModel): implemented.
        * javax/swing/table/DefaultTableColumnModel.java:
        (addColumn): throw exception for null argument, set correct column
        index in TableColumnModelEvent,
        (removeColumn): use correct column index,
        (moveColumn): move the column, don't swap it. Also added argument
        checks,
        (getColumnIndex): reimplemented.

	2005-07-05  Sven de Marothy  <sven@physto.se>

        * javax/swing/JLabel.java:
        (JLabel): Revert previous change for JLabel(Icon) constructor.

	2005-07-05  Roman Kennke  <roman@kennke.org>

        * javax/swing/JScrollPane.java:
        Added API documentation for class and constructors.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * java/util/BitSet.java: fixed minor problems in API docs,
        * java/util/Calendar.java: likewise,
        * java/util/Collections.java: likewise,
        * java/util/Date.java: likewise,
        * java/util/Hashtable.java: likewise,
        * java/util/LinkedList.java: likewise,
        * java/util/Properties.java: likewise,
        * java/util/PropertyResourceBundle.java: likewise,
        * java/util/ResourceBundle.java: likewise,
        * java/util/SimpleTimeZone.java: likewise,
        * java/util/TreeMap.java: likewise.

	2005-07-05  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * javax/swing/text/JTextComponent.java (read, write): New methods.

	2005-07-05  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/JTable.java: fixed API doc links all over.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-05  Mark Wielaard  <mark@klomp.org>

        * include/Makefile.am (GTKPEER_H_FILES): Removed GtkTextComponentPeer.
        * include/gnu_java_awt_peer_gtk_GtkTextComponentPeer.h: Removed.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java
        (classpath_gtk_component_connect_nonfocus_signals): Mark argument
        unused.
        (classpath_gtk_component_connect_signals): Likewise.

	2005-07-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (postTextEvent): New
        method.
        * gnu/java/awt/peer/gtk/GtkTextAreaPeer.java: Add
        TextComponentPeer method declarations.
        * gnu/java/awt/peer/gtk/GtkTextFieldPeer.java: Likewise.
        * gnu/java/awt/peer/gtk/GtkTextComponentPeer.java: Remove file.
        * include/gnu_java_awt_peer_gtk_GtkTextAreaPeer.h: Regenerate.
        * include/gnu_java_awt_peer_gtk_GtkTextFieldPeer.h: Likewise.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_SOURCES): Remove
        gnu_java_awt_peer_gtk_GtkTextComponentPeer.c.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c
        (classpath_gtk_component_connect_nonfocus_signals): New function.
        (classpath_gtk_component_connect_signals): Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c: Add
        method implementations from
        gnu_java_awt_peer_gtk_GtkTextComponentPeer.c.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c:
        Likewise.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextComponentPeer.c:
        Remove file.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (gtkInit): Get postTextEventID from GtkComponentPeer, not
        GtkTextComponentPeer.
        * native/jni/gtk-peer/gtkpeer.h (classpath_gtk_textcomponent_init_jni): Declare.
        (classpath_gtk_component_connect_signals): Likewise.
        (classpath_gtk_component_connect_nonfocus_signals): Likewise.
        (classpath_gtk_textcomponent_connect_signals): Likewise.

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c:
        Rename gnu_java_awt_peer_gtk_GtkScrollbarPeer.c.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_SOURCES): Rename
        gnu_java_awt_peer_gtk_GtkScrollBarPeer.c
        gnu_java_awt_peer_gtk_GtkScrollbarPeer.c.

        * gnu/java/awt/ClasspathToolkit.java (createEmbeddedWindow): New method.
        * gnu/java/awt/EmbeddedWindow.java (addNotify): Assume we're using
        ClasspathToolkit.
        * gnu/java/awt/EmbeddedWindowSupport.java: Remove file.
        * gnu/java/awt/peer/gtk/GtkToolkit.java: Remove references to
        EmbeddedWindowSupport.

	2005-07-04  Sven de Marothy  <sven@physto.se>

        * javax/swing/JComponent.java:
        (setEnabled): Fix typo in event string.

	2005-07-04  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTabbedPane.java
        (Page.setDisplayedMnemonicIndex): Added check for index being -1
        before calling title.charAt(index).  Eliminates StringIndexOutOfBounds
        error.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-04  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GdkPixbufDecoder.java (initialized):
        Remove unused field.
        (needsClose): New private field.
        (finish): Take needsClose boolean argument.
        (finalize): Call finish with needsClose.
        (produce): Set needsClose.
        * include/gnu_java_awt_peer_gtk_GdkPixbufDecoder.h: Regenerated.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c
        (Java_gnu_java_awt_peer_gtk_GdkPixbufDecoder_finish): Only close
        when needed.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-04  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/ParameterModeHolder.java: New constructor.

2005-07-06  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-04  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTree.java
        (addSelectionPath): if mouse click somewhere other than
        a row, all selections are removed
        * javax/swing/plaf/basic/BasicTreeUI.java
        (mouseClicked): if mouse clicked on a row, all other
        selections are cleared. DISCONTIGUOUS mode implemented.
        (getCellBounds): Implemented
        (paintLeaf): paints with cell bounds
        (paintNonLeaf): paints with cell bounds
        * javax/swing/tree/DefaultTreeCellRenderer.java:
        (DefaultTreeCellRendererComponent): changed color of
        selected row
        (getFont): Implemented
        * javax/swing/tree/DefaultTreeSelectionModel.java:
        (addSelectionPaths): check if parameter is null
        (removeSelectionPaths): check if parameter is null

2005-07-05  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/jni/jni_i.h
	(unveil): Fixed pointer arithmetic.

2005-07-05  Guilhem Lavaux  <guilhem@kaffe.org>

	* WHATSNEW: Added changes to JNI interface.

	* kaffe/kaffevm/gc.h,
	kaffe/kaffevm/gcFuncs.c: Added new type KGC_ALLOC_VMWEAKREF.

	* kaffe/kaffevm/javacall.c
	(KaffeVM_classMethodA, KaffeVM_callMethodV):
	Unveil an object reference passed into
	arguments if needed.

	* kaffe/kaffevm/intrp/methodcalls.c
	(engine_callMethod): Unveil the return value if it is an object
	reference.
	
	* kaffe/kaffevm/jit/native-wrapper.c
	(Kaffe_wrapper): Added some JIT pseudo-code to unveil object
	stored into weak references.
	
	* kaffe/kaffevm/jni/Makefile.am: Added jni-refs.c
	
	* kaffe/kaffevm/jni/Makefile.in: Regenerated.
	
	* kaffe/kaffevm/jni/jni-arrays.c,
	kaffe/kaffevm/jni/jni-callmethod.c,
	kaffe/kaffevm/jni/jni-fields.c,
	kaffe/kaffevm/jni/jni-helpers.c,
	kaffe/kaffevm/jni/jni-string.c: Updated to unveil all object
	references passed as arguments.
	
	* kaffe/kaffevm/jni/jni.c: Moved out references handling.

	* kaffe/kaffevm/jni/jni_funcs.h: Added new JNI exported functions.

	* kaffe/kaffevm/jni/jni_i.h
	(unveil): New function.

	* kaffe/kaffevm/jni/jni-refs.c: New file.
	
2005-07-04  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-04  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * configure.ac: Remove libart dependency.

2005-07-04  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-03  Daniel Bonniot  <bonniot@users.sf.net>

        * java/io/ObjectStreamClass.java (inSamePackage): New private method.
        (findAccessibleMethod): Likewise.
        (cacheMethods): Lookup readResolve and writeReplace using the new
        findAccessibleMethod().

2005-07-04  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-03  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/ServantLocatorPackage/package.html,
        org/omg/PortableServer/ServantLocatorPackage/CookieHolder.java:
        New files.

	2005-07-02  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * gnu/CORBA/_PolicyImplBase.java: Ihnerit from Policy.
        (ids): Made final non static, new constructor.
        (type, value, policyCode): New fields.
        (_invoke): Handle "value" operation.
        (getValue, getCode, destroy, toString, copy, equals, hashCode):
        New methods.
        * org/omg/CORBA/PolicyHelper.java (narrow): Removed check for
        repository for repository id.

	2005-07-02  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/IdAssignmentPolicyValue.java,
        org/omg/PortableServer/IdUniquenessPolicyValue.java,
        org/omg/PortableServer/ImplicitActivationPolicyValue.java,
        org/omg/PortableServer/LifespanPolicyValue.java,
        org/omg/PortableServer/ServantRetentionPolicyValue.java,
        org/omg/PortableServer/RequestProcessingPolicyValue.java:
        Documentation update.

2005-07-04  Michael Franz  <mvfranz@gmail.com>

	* kaffe/kaffevm/support.h (callMethodInfo): Improved and fixed docs.

2005-07-04  Riccardo Mottola  <rmottola@users.sf.net>

	* config/powerpc/netbsd1/jit3-md.h
	Added to start JIT support

	* config/powerpc/darwin/jit3-md.h
	A small comment added

	* config/powerpc/linux/md.h,
	config/powerpc/netbsd1/md.h
	Changed macros to use ucontext_t instead of sigcontext.
	Also unified them to use macros provided by netbsd that
	are portable among different platforms to get SP and PC.
	First patches to get JIT ported to powerpc-netbsd2.

2005-07-04  Riccardo Mottola  <rmottola@users.sf.net>

	*config/i386/netbsd1/jit-md.h,
	config/i386/netbsd1/md.h:
	Changed macros to use ucontext_t instead of sigcontext.
	Also unified them to use macros provided by netbsd that 
	are portable among different platforms to get SP and PC.

2005-07-04  Riccardo Mottola  <rmottola@users.sf.net>

	* config/sparc/netbsd1/jit-md.h, 
	config/sparc/netbsd1/md.h:
	Changed macros to use ucontext_t instead of sigcontext. 
	Also unified them to use macros provided by netbsd that 
	are portable among different platforms to get SP and PC.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Updated the address of the FSF in the GPL,
	and all over the place.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/undo/UndoManager.java: fixed API doc links,
        * javax/swing/undo/UndoableEditSupport.java: likewise.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/RenderingHints.java: API doc updates.

	2005-07-01  Chris Burdess  <dog@gnu.org>

        * gnu/xml/dom/DomNode.java,
        gnu/xml/dom/html2/DomHTMLCollection.java,
        gnu/xml/dom/html2/DomHTMLElement.java,
        gnu/xml/dom/html2/DomHTMLTableElement.java,
        gnu/xml/dom/html2/DomHTMLTableRowElement.java,
        gnu/xml/dom/html2/DomHTMLTableSectionElement.java,
        gnu/xml/transform/NodeNumberNode.java,
        gnu/xml/transform/Stylesheet.java,
        gnu/xml/transform/TemplateNode.java,
        gnu/xml/xpath/NameTest.java,
        gnu/xml/xpath/NamespaceTest.java: Corrections for cases where
        elements/attributes might have been created in non-namespace-aware mode.
        * gnu/xml/transform/StreamSerializer.java: Only apply HTML attribute
        reduction when attribute is defined as a boolean in the HTML DTD.
        * gnu/xml/transform/TransformerImpl.java: Add support for output indenting
        and cdata-section-elements output instruction.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/table/JTableHeader.java: added some API docs,
        * javax/swing/table/TableModel.java: fixed link in API docs,
        * javax/swing/table/package.html: added package description.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/ListUI.java
        (locationToIndex): match parameter name to API docs.

	2005-07-01  Roman Kennke  <roman@kennke.org>

        * javax/swing/JLayeredPane.java
        (getLayer): Also search through the components parents to find
        the one that is actually directly contained in the JLayeredPane.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/image/DataBuffer.java: fixed API doc typos;
        * java/awt/image/DataBufferByte.java: added description to API docs;
        * java/awt/image/DataBufferDouble.java: added description to API docs,
        (setElem(int, int)): removed unnecessary cast;
        (setElem(int, int, int)): likewise.
        * java/awt/image/DataBufferFloat.java: added description to API docs;
        (setElem(int, int)): removed unnecessary cast;
        (setElem(int, int, int)): likewise.
        * java/awt/image/DataBufferInt.java: added description to API docs;
        * java/awt/image/DataBufferShort.java: likewise;
        * java/awt/image/DataBufferUShort.java: likewise.

	2005-06-30  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicMenuBarUI.java
        (installDefaults): Made JMenuBar opaque.
        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (installDefaults): Made JOptionPane opaque.
        * javax/swing/plaf/basic/BasicPanelUI.java
        (installUI): Also call installDefaults().
        (installDefaults): New method. Made JPanel opaque.
        * javax/swing/plaf/basic/BasicRootPaneUI.java
        (installDefaults): Made JRootPane opaque.
        * javax/swing/plaf/basic/BasicSeparatorUI.java
        (installDefaults): Made JSeparator opaque.
        * javax/swing/plaf/basic/BasicSpinnerUI.java
        (installDefaults): Made JSpinner opaque.
        * javax/swing/plaf/basic/BasicSplitPaneUI.java
        (installDefaults): Made JSplitPane opaque.
        * javax/swing/plaf/basic/BasicTabbedPaneUI.java
        (installDefaults): Made JSplitPane opaque.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (isNativeLookAndFeel): fixed return value,
        * javax/swing/plaf/metal/MetalTheme.java
        (getMenuDisabledForeground): fixed return value.

	2005-07-01  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/event/TableModelEvent.java:
        (TableModelEvent(TableModel): set lastRowIndex to Integer.MAX_VALUE.

	2005-06-30  Chris Burdess  <dog@gnu.org>

        * gnu/xml/dom/DomDocument.java: Add support for adopting nodes from
        other implementations.
        * gnu/xml/dom/DomNamedNodeMap.java: Fix for nodes created outside a
        namespace context.
        * gnu/xml/transform/AbstractNumberNode.java,
        gnu/xml/transform/ApplyImportsNode.java,
        gnu/xml/transform/ApplyTemplatesNode.java,
        gnu/xml/transform/AttributeNode.java,
        gnu/xml/transform/CallTemplateNode.java,
        gnu/xml/transform/ChooseNode.java,
        gnu/xml/transform/CommentNode.java,
        gnu/xml/transform/CopyNode.java,
        gnu/xml/transform/CopyOfNode.java,
        gnu/xml/transform/ElementNode.java,
        gnu/xml/transform/ForEachNode.java,
        gnu/xml/transform/IfNode.java,
        gnu/xml/transform/LiteralNode.java,
        gnu/xml/transform/MessageNode.java,
        gnu/xml/transform/NodeNumberNode.java,
        gnu/xml/transform/NumberNode.java,
        gnu/xml/transform/OtherwiseNode.java,
        gnu/xml/transform/ParameterNode.java,
        gnu/xml/transform/ProcessingInstructionNode.java,
        gnu/xml/transform/StreamSerializer.java,
        gnu/xml/transform/Stylesheet.java,
        gnu/xml/transform/Template.java,
        gnu/xml/transform/TemplateNode.java,
        gnu/xml/transform/TextNode.java,
        gnu/xml/transform/ValueOfNode.java,
        gnu/xml/transform/WhenNode.java: Parsing and serialisation design
        changes to minimise the number of virtual machine stack frames used.

	2005-06-30  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JTable.java:
        (initializeLocalVars): Set dragEnabled to true by default to comply
        with reference implementations.
        (getSelectionModel): Don't return null if row selection is disabled,
        still return selectionModel.  This complies with reference
        implemenations.
        (changeSelection): New method.
        * javax/swing/plaf/basic/BasicTableUI.java: Added a MouseMotionListener
        so that MouseDragged events register properly.
        (MouseInputHandler.updateSelection): Added boolean parameter for
        Control being pressed and added functionality for this (multiple
        selection).

	2005-06-30  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java:
        Removed all calls to repaint() and revalidate(). These are likely
        causing infinite loops with the RepaintManager.

	2005-06-30  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicListUI.java
        (damageLayout): Removed call to revalidate(). This caused an
        infinite loop with the RepaintManager and is not necessary.

	2005-06-30  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI.java:
        Removed all calls to layoutContainer() in this file.
        (installDefaults): Set this as LayoutManager for the JScrollBar.
        This way the layoutContainer() method is called when it should be.

	2005-06-30  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultListSelectionModel.java:
        (addSelectionInterval): Don't clear the selection state if JList's
        selection mode is SINGLE_SELECTION_INTERVAL and index0 and index1
        correspond to an interval adjacent to an already selected interval.
        (removeSelectionInterval): Added check for a middle interval being
        removed when selection mode is SINGLE_SELECTION_INTERVAL.
        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler.keyPressed): Added check for scrolling past bottom of list.
        (MouseHandler.mouseClicked): Added check for shift key being
        pressed.

	2005-06-30  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * gnu/java/locale/LocaleHelper.java:
        Fixed to use new property files.

	2005-06-30  Lillian Angel  <langel@redhat.com>

        * javax/swing/JTree.java:
        (valueChanged): repaint everytime something is selected in the
        tree.
        (setSelectionModel): set TreeSelectionListeners
        (isRowSelected): isRowSelected uses isPathSelected
        * javax/swing/plaf/basic/BasicTreeUI.java
        (setSelectionModel): works with JTree to set the selection model
        (getPathForRow): took out unneeded lines
        (mouseClicked): switched if statements, should check if already
        selected first.
        (paintLeaf): checked selection of Leaf and paint selected
        differently than not selected cells
        (paintNonLeaf): checked selection of nonLeaf and paint selected
        differently than not selected cells
        (paintRecursive): updated to work with other paint functions
        * javax/swing/tree/DefaultTreeSelectionModel.java:
        (addSelectionPath): fire change, so selection is registered to
        listener
        (addSelectionPaths): fire change, so selection is registered to
        listener
        (removeSelectionPath): fire change, so selection is registered
        to listener
        (removeSelectionPaths): fire change, so selection is registered
        to listener
        (isPathSelected): took out unneeded lines
        (getTreeSelectionListeners): made more logical to call
        getListeners
        (fireValueChanged): fixed loop to be more logical

	2005-06-30  Mark Wielaard  <mark@klomp.org>

        * javax/swing/JEditorPane.java (getEditorKit): Call
        createDefaultEditorKit() and setEditorKit() when editorKit == null.
        * javax/swing/JTextPane.java: Call super for all methods where
        possible.

	2005-06-29  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * INSTALL: Drop GTK requirement to 2.4.
        * NEWS: Likewise.
        * configure.ac: Likewise.

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c:
        Re-add GTK 2.4 support.

	2005-06-29  Christian Thalinger  <twisti@complang.tuwien.ac.at>

        * native/fdlibm/Makefile.am: Added s_finite.c
        * native/fdlibm/s_finite.c: Added

	2005-06-29  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultListSelectionModel.java:
        (addSelectionInterval):
        (clearSelection):
        (removeSelectionInterval):
        (setLeadSelectionIndex):
        (setSelectionInterval): Check that the selection model actually
        changes before calling fireValueChanged.

	2005-06-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLabelUI.java
        (installDefaults): Do not set the border here.
        (uninstallDefaults): Do not unset the border here.

	2005-06-29  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (getComponentGraphics): Do not replicate the Graphics at this
        point. This is moved into paintComponent.
        (paintComponent): Replicate the Graphics object before going into
        the tree. This makes sure that the state is preserved and is
        what is specified in the JDKs API docs.

	2005-06-29  Lillian Angel  <langel@redhat.com>

        * javax/swing/plaf/basic/BasicTreeUI.java:
        (BasicTreeUI): Initalization of listeners and instances.
        (createUI): Implementation
        (getHashColor): Implementation
        (setLeftChildIndent): Implementation
        (getLeftChildIndent): Implementation
        (setRightChildIndent): Implementation
        (getRightChildIndent): Implementation
        (setExpandedIcon): Implementation
        (getExpandedIcon): Implementation
        (setCollapsedIcon): Implementation
        (getCollapsedIcon): Implementation
        (setLargeModel): Implementation
        (isLargeModel): Implementation
        (setRowHeight): Implementation
        (getRowHeight): Implementation
        (setCellRenderer): Implementation
        (getCellRenderer): Implementation
        (setModel): Implementation
        (getModel): Implementation
        (setRootVisible): Implementation
        (isRootVisible): Implementation
        (setShowsRootHandles): Implementation
        (getShowsRootHandles): Implementation
        (setCellEditor): Implementation
        (getCellEditor): Implementation
        (setEditable): Implementation
        (isEditable): Implementation
        (setSelectionModel): Implementation
        (getSelectionModel): Implementation
        (getPathForRow): Implementation
        (getRowForPath): Implementation
        (getRowCount): Implementation
        (getClosestPathForLocation): Implementation
        (createPropertyChangeListener): Implementation
        (createMouseListener): Implementation
        (createFocusListener): Implementation
        (createKeyListener): Implementation
        (createSelectionModelPropertyChangeListener): Implementation
        (createTreeSelectionListener): Implementation
        (createCellEditorListener): Implementation
        (createComponentListener): Implementation
        (createTreeExpansionListener): Implementation
        (createLayoutCache): Implementation
        (createCellRendererPane): Implementation
        (createDefaultCellEditor): Implementation
        (createDefaultCellRenderer): Implementation
        (createTreeModelListener): Implementation
        (uninstallListeners): Implementation
        (getLastChildPath): Implementation
        (configureLayoutCache): Implementation
        (installDefaults): Implementation
        (installListeners): Implementation
        (installUI): Implementation
        (uninstallDefaults): Implementation
        (uninstallUI): Implementation
        (paint): moderate changes, so painting works with new changes
        (MouseInputHandler.mouseClicked): Implementation
        (paintLeaf): made private
        (paintNonLeaf): made private
        (paintRecursive): made private
        Several variables, instances and methods were adding according
        to the API. The methods that were added and not in the list
        above, have not been implemented yet. All JavaDoc is updated,
        as well as formatting.
        * javax/swing/JTree.java:
        (createChildren): checked that children is not null.
        * javax/swing/tree/AbstractLayoutCache.java:
        (getNodeDimensions): slight modifications to return initialized
        Rectangle when the bounds are null. Implementation not complete.
        * javax/swing/tree/DefaultTreeSelectionModel.java:
        (addSelectionPath): Implementation
        (addSelectionPaths): Implementation
        (removeSelectionPath): Implementation
        (removeSelectionPaths): Implementation
        (getSelectionPaths): returned the selection array
        (clearSelection): set the selection array to null
        * javax/swing/tree/FixedHeightLayoutCache.java:
        (setModel): removed this method because it is defined in the
        abstract parent.
        (setRootVisible): removed this method because it is defined in
        the abstract parent.
        (setRowHeight): removed this method because it is defined in
        the abstract parent.
        Also, some formatting was updated.
        * javax/swing/tree/VariableHeightLayoutCache.java:
        (setRowHeight): removed this method because it is defined in
        the abstract parent.
        * javax/swing/tree/DefaultTreeModel.java:
        (DefaultTreeModel): Needed to initialize root if it was passed
        into the constructor as null.

	2005-06-29  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/event/TableModelEvent.java: updated API docs all over.

	2005-06-29  Roman Kennke  <roman@kennke.org>

        * gnu/java/awt/AWTUtilities.java
        (VisibleComponentList): Added List implementation that iterates over
        the child components of a Container and only returns Components
        that are actually visible.
        (getVisibleChildren): Now returns a List instead of an array. This
        list is cached. This greatly decreases allocations in
        LayoutManagers.
        * javax/swing/BoxLayout.java:
        Updated to use the new AWTUtilities.getVisibleChildren() method.

	2005-06-29  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/package.html: added package description,
        * javax/swing/border/package.html: likewise,
        * javax/swing/colorchooser/package.html: likewise,
        * javax/swing/event/package.html: likewise,
        * javax/swing/filechooser/package.html: likewise,
        * javax/swing/plaf/package.html: likewise,
        * javax/swing/plaf/basic/package.html: likewise,
        * javax/swing/plaf/metal/package.html: likewise,
        * javax/swing/tree/package.html: likewise,
        * javax/swing/undo/package.html: likewise.

	2005-06-29  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/Font.java: fixed API doc links.

	2005-06-28  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/event/AWTEventListener.java: added imports to fix links
        in API docs,
        * java/awt/event/AWTEventListenerProxy.java: likewise,
        * java/awt/event/InputMethodListener.java: likewise,
        * java/awt/event/ItemListener.java: likewise,
        * java/awt/event/MouseWheelEvent.java: likewise,
        * java/awt/event/TextEvent.java: likewise,
        * java/awt/event/WindowEvent.java: likewise,
        * java/awt/event/WindowListener.java: likewise.

2005-06-28  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/table/AbstractTableModel.java: updated API docs,
        * javax/swing/table/DefaultTableModel.java: fixed API docs.

	2005-06-28  Jeroen Frijters  <jeroen@frijters.net>

        * gnu/java/nio/DatagramChannelImpl.java
        (getNativeFD): Removed.
        * gnu/java/nio/DatagramChannelSelectionKey.java
        (getNativeFD): Modified to extract the native fd via the
        PlainDatagramSocketImpl.
        * gnu/java/nio/ServerSocketChannelImpl.java
        (getNativeFD): Removed.
        * gnu/java/nio/ServerSocketChannelSelectionKey.java
        (getNativeFD): Modified to extract the native fd via the
        PlainSocketImpl.
        * gnu/java/nio/SocketChannelImpl.java
        (getNativeFD): Removed.
        * gnu/java/nio/SocketChannelSelectionKey.java
        (getNativeFD): Modified to extract the native fd via the
        PlainSocketImpl.

	2005-06-27  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (constructors): Default to
        a transparent background instead of black.
        (drawImage): When drawing a raster, pass live data to avoid copying.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (createImage): Return
        a BufferedImage when using Graphics2D.
        * javax/swing/JComponent.java (getComponentGraphics): Avoid copying
        Graphics2D instances.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_copyState): Copy the pixel
        buffer and initialize a new cairo context in MODE_JAVA_ARRAY.
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_drawPixels): Revert
        previous transformation patch.

	2005-06-27  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_copyState):
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_initState___3III):
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_initState__II):
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_initState__Lgnu_java_awt_peer_gtk_GtkComponentPeer_2):
        Remove gdk_cairo_create calls.
        Obtain dimension for the cairo surface.
        (init_graphics2d_as_renderable): Fix cairo_xlib_surface_create
        invocation by passing dimension.
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_drawPixels): Fix translation
        matrix sign.
        Use cairo_set_source for applying patterns.
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_gdkDrawDrawable): Fix
        cairo_set_source_surface invocation by passing position instead of
        dimension.
        (Java_gnu_java_awt_peer_gtk_GdkGraphics2D_initState___3III):
        (begin_drawing_operation):
        (end_drawing_operation): In MODE_JAVA_ARRAY mode, only initialize the
        cairo context once.  Use GetPrimitiveArrayCritical for pinning down
        pixel buffers and maintain a buffer copy if necessary.
        * native/jni/gtk-peer/gtkcairopeer.h (javabuf_copy): New field.

	2005-06-27  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (glog_func): New static function.
        (Java_gnu_java_awt_peer_gtk_GtkToolkit_gtkInit): Install glog_func as
        default log handler.
        * native/jni/gtk-peer/Makefile.am (libgtkpeer_la_LIBADD): Add jcl.

	2005-06-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (getPreferredSize): Don't let the UI replace a manually set preferred
        size.

	2005-06-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/Box.java
        (createGlue): Return Short.MAX_VALUE instead of Integer.MAX_VALUE as
        dimension in the Filler component.
        (createHorizontalGlue): Return a new Filler object with the correct
        value instead of relying on createGlue(). The object returned by
        createHorizontalGlue must not have a vertical dimension.

	2005-06-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/BoxLayout.java
        (Direction): New inner interface. This abstracts the layout algorithm
        from the layout direction.
        (Horizontal): Implementation for the above interface for the
        horizontal direction.
        (Vertical): Implementation for the above interface for the
        vertical direction.
        (SizeReq): An inner helper class that holds size requirements for
        Components that are laid out. This is similar but not equal to
        the SizeRequirements class in javax.swing.
        (layoutContainer): Removed the actual algorithm into a new method,
        using the Direction interface.
        (layoutAlgorithm): This is the new layout algorithm. This uses
        the Direction interface, so that the algorithm is not duplicated
        and can be expressed more readable.
        (distributeSpace): A new helper method that distributes excess
        space over a set of components. This is the actual 'worker' in
        BoxLayout.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-27  Tom Tromey  <tromey@redhat.com>

        * java/lang/Integer.java:
        (valueOf(int)): Implemented.
        (bitCount(int)): Implemented.
        (rotateLeft(int,int)): Implemented.
        (rotateRight(int,int)): Implemented.
        (highestOneBit(int)): Implemented.
        (numberOfLeadingZeros(int)): Implemented.
        (lowestOneBit(int)): Implemented.
        (numberOfTrailingZeros(int)): Implemented.
        (signum(int)): Implmented.
        (reverseBytes(int)): Implemented.
        (reverse(int)): Implemented.

	2005-06-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/plaf/ColorUIResource.java: documented
        IllegalArgumentExceptions in constructors;

	2005-06-24  David Gilbert  <david.gilbert@object-refinery.com>

        * javax/swing/table/AbstractTableModel.java:
        (getColumnName): eliminated temp index to fix very minor bug,
        (findColumn): throw NullPointerException for null argument,
        (fireTableDataChanged): set correct row indices.
        * javax/swing/table/DefaultTableModel.java:
        (setDataVector): replace null argument with empty vector then call
        setColumnIdentifiers() to set up column names,
        (setColumnCount): call fireTableStructureChanged() rather than
        fireTableDataChanged(),
        (addColumn(Object, Object[])): call fireTableStructureChanged() rather
        than fireTableDataChanged(),
        (addRow(Vector)): fixed row indices in TableModelEvent,
        (moveRow): fixed row indices in TableModelEvent,
        (getColumnName): for a column index beyond the number of columns in
        the model, pass control to the superclass.

	2005-06-24  Anthony Balkissoon  <abalkiss@redhat.com>

        * java/awt/Container.java:
        (LightweightDispatcher.acquireComponentForMouseEvent):
        Use temp variable to set lastComponentEntered to null _before_
        dispatching MOUSE_EXITED events to avoid infinite loop.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java:
        (MouseInputHandler.acquireComponentForMouseEvent):
        Use temp variable to set lastComponentEntered to null _before_
        dispatching MOUSE_EXITED events to avoid infinite loop.

	2005-06-24  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JScrollPane.java
        (JScrollPane): Add Viewport at index 0 rather than after the
        JScrollBars.  This complies with reference implementations.

	2005-05-14  Chris Burdess  <dog@gnu.org>

        * gnu/xml/aelfred2/XmlParser.java: ensure that charset parameter of
        external MIME entity is trimmed.
        * gnu/xml/dom/DomDocument.java: DomNsNodes retrieved via
        createElement/createAttribute should not have localNames.

	2005-06-24  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicInternalFrameUI.java:
        (GlassPaneDispatcher.acquireComponentForMouseEvent): Use
        temp variable to set lastComponentEntered to null _before_
        dispatching MOUSE_EXITED events, otherwise we get infinite
        loop.

	2005-06-24  Roman Kennke  <roman@kennke.org>

        * gnu/java/awt/AWTUtilities.java:
        Added new utility class. This provides a method for fetching
        the visible children of a Container.
        * javax/swing/BoxLayout.java:
        Use AWTUtilities.getVisibleChildren() instead of
        Container.getComponents(). LayoutManagers must not layout invisible
        children.

	2005-06-24  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTable.java
        (constructor): Call setModel() instead of setting the model directly.
        This makes sure that listeners and the columnModel are set up
        correctly.
        (initializeLocalVars): Set up tableHeader before the columnModel.
        This way we already have a tableHeader when setColumnModel is called
        and it can be updated accordingly.
        (tableChanged): Update the columnModel when the table structure
        changes.
        (setColumnModel): Also set the columnModel of the tableHeader here.
        This is specified in Sun's API documentation.
        * javax/swing/table/DefaultTableModel.java
        (setDataVector): Fire a structureChanged event, so that the
        columnModel and header columnModel are updated correctly.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-23  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/gtk/GtkImage.java: Don't draw 0 size images.

	2005-06-23  Sven de Marothy  <sven@physto.se>

        * gnu/java/awt/peer/gtk/GtkImage.java: Add case source size > size.

	2005-06-22  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GdkPixbufDecoder.java
        (pumpBytes): Throws IOException.
        (pumpDone): New native method.
        (produce): Call pumpDone().
        * include/gnu_java_awt_peer_gtk_GdkPixbufDecoder.h: Regenerated.
        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c
        (Java_gnu_java_awt_peer_gtk_GdkPixbufDecoder_pumpDone): New method.
        (Java_gnu_java_awt_peer_gtk_GdkPixbufDecoder_pumpBytes): Check for
        errors on gdk_pixbuf_loader_write.

	2005-06-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/plaf/basic/BasicInternalFrameUI.java:
        (InternalFramePropertyChangeListener.vetoableChange):
        Repaint the JDesktopPane when JInternalFrame is closed.
        Also veto the close request, because hiding is not
        closing.

	2005-06-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/SwingUtilities.java:
        (layoutCompoundLabel): Added check for multi-line text.

	2005-06-22  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JDialog.java:
        (setDefaultCloseOperation): Removed validity check for
        operation code.  Validity is handled in processWindowEvent.
        * javax/swing/JFrame.java:
        (setDefaultCloseOperation): Changed error message to be more
        descriptive and similar to reference implementation.
        * javax/swing/JInternalFrame.java:
        (setDefaultCloseOperation): Removed validity check for
        operation code.
        * javax/swing/plaf/basic/BasicInternalFrameUI.java:
        (InternalFramePropertyListener): Added implementation of
        VetoableChangeListener.
        (InternalFramePropertyListener.vetoableChange): New method.
        (InternalFramePropertyListener.propertyChange): Removed
        check for JInternalFrame.IS_CLOSED_PROPERTY.  This is now
        handled in vetoableChange.
        (getDesktopManager): Added a check for null pointer from
        JInternalFrame.getDesktopPane().

	2005-06-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicLabelUI.java
        (installDefaults): JLabels are not opaque by default.

	2005-06-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/GrayFilter.java
        (constructor): Compute factor at initialization time.
        (createDisabledImage): Initialize GrayFilter with correct arguments.
        (filterRGB): Reworked filter method. This is now compliant with
        the JDK behaviour.

	2005-06-22  Mark Wielaard  <mark@klomp.org>

        Fixes bug #13439
        * javax/swing/JScrollPane.java (JScrollPane(Component,int,int)):
        Set viewport, view and scrollLostener manually.

	2005-06-21  Lillian Angel  <langel@redhat.com>

        * java/util/logging/Logger.java
        (setParent): No lines after throwing an exception are executed
        and there is no point to check if the parent is null, because a
        NullPointerException would have been thrown earlier. Fixes Bug
        #13460.

	2005-06-21  Lillian Angel  <langel@redhat.com>

        * gnu/xml/aelfred2/XmlParser
        (parseAttribute): if (type.equals("CDATA") || type == null)
        this would always throw a NullPointerException if type is null.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-20  Mark Wielaard  <mark@klomp.org>

        * javax/swing/DefaultDesktopManager.java (getBoundsForIconOf):
        Initialize desktopPane before use.

	2005-06-20  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * javax/swing/text/html/HTML.java: Added public parameterless
        constructor for Tag.

	2005-06-20  Lillian Angel  <langel@redhat.com>

        * javax/swing/DefaultDesktopManager.java
        (getBoundsForIconOf): No reason to check if desktopPane is null
        after dereferencing desktopPane in code. Fixes bug #13461.

	2005-06-20  Lillian Angel  <langel@redhat.com>

        * javax/swing/JScrollPane.java
        (JScrollPane): Viewport was not being set when
        the view was null. Whenever a view would be added to container
        it would not appear. This was changed to use setViewportView.

	2005-06-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java:
        * javax/swing/AbstractCellEditor.java:
        * javax/swing/Action.java:
        * javax/swing/BorderFactory.java:
        * javax/swing/ButtonGroup.java:
        * javax/swing/CellRendererPane.java:
        * javax/swing/DebugGraphics.java:
        * javax/swing/DefaultBoundedRangeModel.java:
        * javax/swing/DefaultButtonModel.java:
        * javax/swing/DefaultCellEditor.java:
        * javax/swing/DefaultComboBoxModel.java:
        * javax/swing/DefaultDesktopManager.java:
        * javax/swing/DefaultFocusManager.java:
        * javax/swing/DefaultListCellRenderer.java:
        * javax/swing/DefaultListModel.java:
        * javax/swing/DefaultListSelectionModel.java:
        * javax/swing/FocusManager.java:
        * javax/swing/GrayFilter.java:
        * javax/swing/ImageIcon.java:
        * javax/swing/JButton.java:
        * javax/swing/JCheckBoxMenuItem.java:
        * javax/swing/JColorChooser.java:
        * javax/swing/JComboBox.java:
        * javax/swing/JComponent.java:
        * javax/swing/JDesktopPane.java:
        Reformatted these sourcefiles to better match our coding style.

	2005-06-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (getPreferredSize): Make sure that preferredSize is greater than
        minimumSize.
        (setMinimumSize): Removed hack to adjust preferredSize. This is moved
        into the method getPreferredSize().

	2005-06-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (setOpaque): Don't revalidate and repaint when the opaque property
        is changed (at least not here).

	2005-06-20  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * javax/swing/text/html/HTMLEditorKit.java:
        Inherit from StyledEditorKit, Cloneable, Serializable and adding
        string constants.
        (handleStartTag): Fixed typo in comment.

	2005-06-19  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
        (gnu_java_awt_peer_gtk_GtkImage_getPixbuf,
        gnu_java_awt_peer_gtk_GtkImage_getPixmap,
        gnu_java_awt_peer_gtk_GtkImage_isOffScreen): Move declaration to ...
        * native/jni/gtk-peer/gtkpeer.h: here.

	2005-06-18  Chris Burdess <dog@bluezoo.org>

        * java/util/logging/LogManager.java: Set default level of root
        logger to INFO.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-17  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/JApplet.java,
        javax/swing/JDialog.java,
        javax/swing/JFrame.java,
        javax/swing/JInternalFrame.java,
        javax/swing/JWindow.java: Added support for adding and setting
        layout managers directly for these top-level containers tocomply
        with J2SE 5.0.  Added private boolean initStageDone.
        Initialized rootPaneCheckingEnabled to false.
        (JDialog.dialogInit): Set initStageDone to true.
        (JApplet.JApplet): Set initStageDone to true.
        (JFrame.frameInit) : Set initStageDone to true.
        (JInternalFrame.JInternalFrame): Set initStageDone to true.
        (JWindow.windowInit): Set initStageDone to true.
        (addImpl): Added check for direct adds (J2SE 5.0) and directed
        them to getContentPane().add.
        (setLayout): Added check for direct calls to setLayout.
        (remove): Added check for direct calls to remove.

	2005-06-17  Lillian Angel  <langel@redhat.com>

        * javax/swing/ToolTipManager.java
        (mousePressed): Check if currentComponent is null.
        If so, it should be equal to the current source.
        Fixes Bug #11538.

	2005-06-17  Anthony Balkissoon  <abalkiss@redhat.com>

        * javax/swing/DefaultListSelectionModel.java:
        (addSelectionInterval): Added update to leadSelectionIndex
        and anchorSelectionIndex variables.
        (removeSelectionInterval): Same as above.
        (setSelectionInterval): Same as above.
        * javax/swing/JList.java:
        (getSelectedIndices): Increased for loop upper bound by 1.
        * javax/swing/plaf/basic/BasicListUI.java:
        (KeyHandler): New class.
        (MouseInputHandler): Moved code from MousePressed to
        MouseClicked.
        (MouseInputHandler.MouseClicked): Added check for control
        key being down.

	2005-06-17  Roman Kennke  <roman@kennke.org>

        * java/io/DataInputStream.java:
        Reverted my patch from 2005-06-15.

	2005-06-16  Robert Schuster <thebohemian@gmx.net>

        * gnu/java/nio/charset/Windows1250.java,
        gnu/java/nio/charset/Windows1251.java,
        gnu/java/nio/charset/Windows1252.java,
        gnu/java/nio/charset/Windows1253.java,
        gnu/java/nio/charset/Windows1254.java,
        gnu/java/nio/charset/Windows1255.java,
        gnu/java/nio/charset/Windows1256.java,
        gnu/java/nio/charset/Windows1257.java,
        gnu/java/nio/charset/Windows1258.java: Fixed canonical NIO
        charset name.

	2005-06-15  Goffredo Baroncelli  <kreijack@inwind.it>

        * gnu/java/net/protocol/http/HTTPURLConnection.java
        (getHeaderFieldKey): Check index.

	2005-06-15  Roman Kennke  <roman@kennke.org>

        * java/io/DataInputStream.java
        (readLine): Added checks for InputStream that support have a pos field
        for repositioning the stream.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-14  Mark Wielaard  <mark@klomp.org>

        * javax/swing/JComponent.java (setMinimumSize): Only adjust
        prefferedSize or maximumSize when they are set.
        * javax/swing/JScrollPane.java (JScrollPane(Component,int,int)):
        Set viewport and view manually.

	2005-06-14  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (updateBufferedImage):
        Fixed pixelBuffer array index.

	2005-06-14  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        Classpath bug #13353:
        * gnu/java/net/protocol/jar/Handler.java (parseURL, toExternalForm):
        Append fragments (#ref) to URLs.

	2005-06-14  Mark Wielaard  <mark@klomp.org>

        * javax/swing/text/InternationalFormatter.java (clone): Disabled.

	2005-06-14  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/DecimalFormat.java
        (DecimalFormat(String, DecimalFormatSymbols)): store clone of symbols;
        (equals): add missing checks;
        (getDecimalFormatSymbols): return clone of symbols;
        (setDecimalFormatSymbols): store clone of symbols.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-13  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * java/awt/image/SampleModel.java (getPixels): Fixed array
        assignment.

	2005-06-13  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * java/text/AttributedStringIterator.java (getRunLimit): Fixed the
        range of the returned indexes.

	2005-06-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalUtils.java:
        Added new package-private helper class.
        * javax/swing/plaf/metal/MetalSplitPaneDivider.java:
        Added new package-private class. This is the divider used
        by JSplitPane.
        * javax/swing/plaf/metal/MetalScrollBarUI.java
        (paintThumb): Use new MetalUtils class for drawing the typical
        Metal pattern on the thumb.
        * javax/swing/plaf/metal/MetalScrollBarUI.java
        (initComponentDefaults): Added color defaults for SplitPane.
        * javax/swing/plaf/metal/MetalSplitPaneUI.java:
        (createDefaultDivider): Implemented new method. This creates
        the Metal divider for JSplitPane.

	2005-06-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JSpinner.java
        (StubEditor): Removed this inner class.
        (DefaultEditor): Implemented this class and its dummy methods.
        (DateEditor): Added and implemented this inner class.

	2005-06-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JFormattedTextField.java
        (setValue): Creates an AbstractFormatter instance based on the type
        of the value beeing set.
        (createFormatter): New helper method.


	2005-06-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/DateFormatter.java:
        Implemented new class.
        * javax/swing/JFormattedTextField.java
        (setValue): Added conversion from value to text.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-12  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        * java/text/MessageFormat.java (parse): When parsing strings, check
        for an empty pattern trailer.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-12  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        PR libgcj/20435:
        * gnu/regexp/RESyntax.java (RE_POSSESSIVE_OPS): New field.
        (static): Add possessive matching to JAVA_1_4 syntax.
        * gnu/regexp/RETokenRepeated.java (possessive): New field.
        (makePossessive, isPossessive): New methods.
        (match): Don't back off during possessive matching.
        * gnu/regexp/RE.java (initalize): Accept possessive quantifier.
        * java/util/regex/Pattern.java (constructor): Switch syntax from PERL5
        to JAVA_1_4.

2005-07-03  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-28  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CosNaming/BindingIterator.java: Inherit from
        BindingIteratorOperations, added specnotes for 1.2 specific methods.
        * org/omg/CosNaming/NamingContext.java: Inherit from
        NamingContextOperations, added specnotes for 1.2 specific methods.
        * org/omg/IOP/Encoding.java,
        org/omg/IOP/TaggedComponent.java,
        org/omg/IOP/TaggedProfile.java: Inherit from Serializable, added
        SerialVersionUID.
        org/omg/CosNaming/BindingIteratorOperations.java,
        org/omg/Dynamic/Parameter.java: New files.

	2005-06-28  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/gnuRequest.java (submit): If IOException is
        thrown while opening a socket, rethrow MARSHAL.
        * gnu/CORBA/NamingService/NamingServiceTransient.java (main):
        Fixed regression due that the service started on the wrong port.

	2005-06-28  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/_IDLTypeStub.java: Added SerialVersionUID.
        org/omg/CORBA/PolicyTypeHelper.java: New file.

	2005-06-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        org/omg/DynamicAny/DynAnyPackage/InvalidValue.java,
        org/omg/DynamicAny/DynAnyPackage/InvalidValueHelper.java,
        org/omg/DynamicAny/DynAnyPackage/TypeMismatch.java,
        org/omg/DynamicAny/DynAnyPackage/TypeMismatchHelper.java,
        org/omg/DynamicAny/DynAnyPackage/package.html,
        org/omg/IOP/ComponentIdHelper.java: New files.

	2005-06-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/POAPackage/ServantAlreadyActive.java,
        org/omg/PortableServer/POAPackage/ServantAlreadyActiveHelper.java:
        New files.

	2005-06-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>
	
        * org/omg/PortableInterceptor/ORBInitInfoPackage/ObjectIdHelper.java:
        New file.

	2005-06-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/POAManagerPackage/AdapterInactive.java,
        org/omg/PortableServer/POAManagerPackage/AdapterInactiveHelper.java,
        org/omg/PortableServer/POAManagerPackage/State.java,
        org/omg/PortableServer/POAManagerPackage/index.html: New files.

	2005-06-24  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        org/omg/PortableServer/POAPackage/AdapterAlreadyExists.java,
        org/omg/PortableServer/POAPackage/AdapterAlreadyExistsHelper.java,
        org/omg/PortableServer/POAPackage/WrongPolicyHelper.java,
        org/omg/PortableServer/POAPackage/AdapterNonExistentHelper.java,
        org/omg/PortableServer/POAPackage/InvalidPolicyHelper.java,
        org/omg/PortableServer/POAPackage/ServantNotActiveHelper.java,
        org/omg/PortableServer/POAPackage/ObjectAlreadyActiveHelper.java,
        org/omg/PortableServer/POAPackage/ObjectNotActiveHelper.java,
        org/omg/PortableServer/POAPackage/NoServantHelper.java,
        org/omg/PortableServer/POAPackage/WrongAdapterHelper.java,
        org/omg/PortableServer/POAPackage/AdapterNonExistent.java,
        org/omg/PortableServer/POAPackage/InvalidPolicy.java,
        org/omg/PortableServer/POAPackage/NoServant.java,
        org/omg/PortableServer/POAPackage/ObjectAlreadyActive.java,
        org/omg/PortableServer/POAPackage/ObjectNotActive.java,
        org/omg/PortableServer/POAPackage/ServantNotActive.java,
        org/omg/PortableServer/POAPackage/WrongAdapter.java,
        org/omg/PortableServer/POAPackage/WrongPolicy.java,
        gnu/CORBA/Poa/InvalidPolicyHolder.java,
        org/omg/PortableServer/POAPackage/package.html: New files.

	2005-06-24  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/IOP/CodecOperations.java,
        org/omg/IOP/Codec.java,
        org/omg/IOP/CodecFactory.java,
        org/omg/IOP/CodecFactoryHelper.java,
        org/omg/IOP/CodecFactoryOperations.java,
        gnu/CORBA/cdrEncapsCodec.java,
        gnu/CORBA/gnuCodecFactory.java: New files.
        * gnu/CORBA/Functional_ORB.java (constructor):
        Put "CodecFactory" into initial references.
        * gnu/CORBA/holderFactory.java (createHolder):
        Removed debug statement.

	2005-06-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/LocalObject.java: New file.

	2005-06-22  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/IOP/ProfileIdHelper.java,
        omg/IOP/MultipleComponentProfileHelper.java,
        omg/IOP/MultipleComponentProfileHolder.java: New files.

	2005-06-22  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/IOP/ServiceContextListHolder.java,
        org/omg/IOP/ServiceContext.java
        org/omg/IOP/ServiceContextHelper.java
        org/omg/IOP/ServiceContextHolder.java
        org/omg/IOP/ServiceContextListHelper.java
        org/omg/IOP/ServiceIdHelper.java: New files.

	2005-06-21  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/IOP/Encoding.java,
        org/omg/IOP/IOR.java,
        org/omg/IOP/IORHelper.java,
        org/omg/IOP/IORHolder.java,
        org/omg/IOP/TaggedProfileHolder.java,
        org/omg/IOP/TaggedProfile.java,
        org/omg/IOP/TaggedProfileHelper.java,
        org/omg/IOP/TaggedComponentHolder.java,
        org/omg/IOP/TaggedComponent.java,
        org/omg/IOP/TaggedComponentHelper.java: New files.

	2005-06-21  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/Functional_ORB.java (Port): Documentation
        update. (setPort): Made static, documentation update.
        (getPort): Removed.
        * gnu/CORBA/generalTypeCode.java (UNSET): Changed value.
        * gnu/CORBA/NamingService/NamingServiceTransient.java (main):
        Removed call to init.

	2005-06-21  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/CurrentHelper.java,
        org/omg/CORBA/CurrentHolder.java: New files.

	2005-06-21  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/Current.java,
        org/omg/CORBA/CurrentOperations.java: Documentation update.

	2005-06-20  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * javax/swing/text/html/HTML.java: Added public parameterless
        constructor for Tag.

	2005-06-20  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/PolicyListHolder.java,
        org/omg/CORBA/PolicyListHelper.java: New files.

	2005-06-20  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * javax/swing/text/html/HTMLEditorKit.java:
        Inherit from StyledEditorKit, Cloneable, Serializable and adding
        string constants.
        (handleStartTag): Fixed typo in comment.

	2005-06-20  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/PolicyHelper.java,
        org/omg/CORBA/PolicyHolder.java,
        org/omg/CORBA/_PolicyStub.java,
        gnu/CORBA/_PolicyImplBase.java: New files.

	2005-06-18  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/IOP/TransactionService.java,
        org/omg/IOP/CodeSets.java: New files.

	2005-06-17  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/PortableServer/ID_ASSIGNMENT_POLICY_ID.java,
        org/omg/PortableServer/ID_UNIQUENESS_POLICY_ID.java,
        org/omg/PortableServer/IMPLICIT_ACTIVATION_POLICY_ID.java,
        org/omg/PortableServer/LIFESPAN_POLICY_ID.java,
        org/omg/PortableServer/REQUEST_PROCESSING_POLICY_ID.java,
        org/omg/PortableServer/SERVANT_RETENTION_POLICY_ID.java,
        org/omg/PortableServer/THREAD_POLICY_ID.java,
        org/omg/IOP/ENCODING_CDR_ENCAPS.java,
        org/omg/IOP/TAG_ALTERNATE_IIOP_ADDRESS.java,
        org/omg/IOP/TAG_CODE_SETS.java,
        org/omg/IOP/TAG_INTERNET_IOP.java,
        org/omg/IOP/TAG_JAVA_CODEBASE.java,
        org/omg/IOP/TAG_MULTIPLE_COMPONENTS.java,
        org/omg/IOP/TAG_ORB_TYPE.java,
        org/omg/IOP/TAG_POLICIES.java,
        org/omg/PortableInterceptor/LOCATION_FORWARD.java,
        org/omg/PortableInterceptor/SUCCESSFUL.java,
        org/omg/PortableInterceptor/SYSTEM_EXCEPTION.java,
        org/omg/PortableInterceptor/TRANSPORT_RETRY.java,
        org/omg/PortableInterceptor/USER_EXCEPTION.java: New files.

	2005-06-16  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * gnu/CORBA/CDR/uncObjectOutputStream.java,
        gnu/CORBA/CDR/uncObjectInputStream.java: Deleted.

	2005-06-16  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/CosNaming/NamingContextPackage/CannotProceed.java,
        org/omg/CosNaming/NamingContextPackage/NotEmpty.java,
        org/omg/CosNaming/NamingContextPackage/NotFound.java:
        Added 1.4 constructors.
        * org/omg/CosNaming/NamingContextExtPackage/InvalidAddress.java:
        Added 1.4 constructors and serialVersionUID.

	2005-06-16  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/ProtableServer/IdAssignmentPolicyValue.java,
        org/omg/ProtableServer/IdUniquenessPolicyValue.java,
        org/omg/ProtableServer/ImplicitActivationPolicyValue.java,
        org/omg/ProtableServer/LifespanPolicyValue.java,
        org/omg/ProtableServer/RequestProcessingPolicyValue.java,
        org/omg/ProtableServer/ServantRetentionPolicyValue.java:
        New files.

	2005-06-16  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/DynamicAny/DynAnyFactoryPackage/InconsistentTypeCode.java,
        org/omg/IOP/CodecFactoryPackage/UnknownEncoding.java,
        org/omg/IOP/CodecPackage/FormatMismatch.java,
        org/omg/IOP/CodecPackage/InvalidTypeForEncoding.java,
        org/omg/IOP/CodecPackage/TypeMismatch.java,
        org/omg/IOP/CodecPackage/TypeMismatchHelper.java,
        org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateName.java,
        org/omg/PortableInterceptor/ORBInitInfoPackage/InvalidName.java,
        org/omg/PortableServer/CurrentPackage/NoContext.java: New exceptions.
        org/omg/DynamicAny/DynAnyFactoryPackage/InconsistentTypeCodeHelper.java,
        org/omg/IOP/CodecFactoryPackage/UnknownEncodingHelper.java,
        org/omg/IOP/CodecPackage/FormatMismatchHelper.java,
        org/omg/IOP/CodecPackage/InvalidTypeForEncodingHelper.java,
        org/omg/PortableInterceptor/ORBInitInfoPackage/DuplicateNameHelper.java,
        org/omg/PortableInterceptor/ORBInitInfoPackage/InvalidNameHelper.java,
        org/omg/PortableServer/CurrentPackage/NoContextHelper.java: New helpers.
        * gnu/CORBA/ObjectCreator.java (readUserException):
        Renamed misleading variable.
        * gnu/CORBA/DuplicateNameHolder.java,
        gnu/CORBA/EmptyExceptionHolder.java: New holders.

	2005-06-15  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/Messaging/SyncScopeHelper.java (write): Made public.

	2005-06-13  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/SendingContext/Runtime.java: Deleted.
        * org/omg/SendingContext/RunTime.java: Added.

	2005-06-11  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/ORB.java,
        org/omg/CORBA/CustomValue.java,
        org/omg/CORBA/VM_ABSTRACT.java,
        org/omg/CORBA/VM_CUSTOM.java,
        org/omg/CORBA/VM_NONE.java,
        org/omg/CORBA/VM_TRUNCATABLE.java,
        org/omg/CORBA/VM_TRUNCATABLE.java,
        org/omg/CORBA/portable/ValueBase.java,
        org/omg/CORBA_2_3/portable/package.html: Documentation update.
        * org/omg/CORBA_2_3/package.html: New file.

	2005-06-11  Audrius Meskauskas <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/portable/StreamableValue.java,
        org/omg/CORBA/portable/CustomValue.java,
        gnu/CORBA/CDR/Vio.java: New files.
        * org/omg/CORBA/ValueBaseHelper.java: Using     gnu.CORBA.Vio.
        * org/omg/CORBA_2_3/portable/OutputStream.java: Documentatin update.
        (write_value): Using gnu.CORBA.Vio.
        * org/omg/CORBA_2_3/portable/InputStream.java Documentation update.
        (read_value): Using gnu.CORBA.Vio.
        * gnu/CORBA/ObjectCreator.java (Idl2class, Idl2Object): New methods.
        (toIDL): Do not insert OMG prefix.
        * gnu/CORBA/Restricted_ORB.java (create_any): Set ORB for that Any.
        (register_value_factory, unregister_value_factory, lookup_value_factory):
        New CORBA 2_3 methods.
        * gnu/CORBA/gnuAny.java (extract_Value): Use reflection if holder does
        not implement ValueBaseHolder.
        * gnu/CORBA/CDR/cdrInput.java: Implementing 2_3 stream and
        DataInputStream, (read_Value, read_Abstract, read_char_array,
        read_wchar_array, ensureArray, read_ulong_array, read_long_array,
        read_float_array, read_double_array, read_short_array, read_ushort_array,
        read_octet_array, read_longlong_array, read_ulonglong_array,
        read_boolean_array, read_any_array, _truncatable_ids): New methods.
        * gnu/CORBA/CDR/cdrOutput.java: Implementing 2_3 stream
        and DataOutputStream, (write_any_array, _truncatable_ids, write_Abstract,
        write_Value): New methods.
        * org/omg/CORBA/portable/ValueBase.java: Documentation update.

2005-07-02  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* FAQ/FAQ.charsets: Correction of a grammatical error.

2005-07-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/powerpc/jit3-icode.h
	(HAVE_cvt_double_int, HAVE_cvt_float_int): Disabled.
	(HAVE_cvt_double_int_ieee, HAVE_cvt_float_int_ieee): Enabled.

	* kaffe/kaffevm/jit3/funcs.c
	(HAVE_cvt_float_int_ieee): Fixed typo.

2005-07-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/powerpc/jit3-powerpc.def: Fixed access to
	KaffeJIT3_getLabelName.

	* kaffe/kaffevm/jit3/funcs.h
	(HAVE_cvt_double_int_ieee, HAVE_cvt_float_int_ieee): Added missing
	prototype.

	* kaffe/kaffevm/jit3/icode.c
	(and_long_const): Fixed ifdef macro as and_long_const may be defined
	in any cases.
	(HEADERS): Added the inclusion of fp.h

2005-07-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/powerpc/jit.h: Include jit-labels.h
	(CALL_KAFFE_EXCEPTION): Use apple syntax on register if necessary.

	* kaffe/kaffevm/jit3/icode.c
	(cvt_float_int, cvt_double_int): Imported JIT code to do a precise NaN
	conversion.

2005-07-01  Davanum Srinivas <dims@yahoo.com>

	* binreloc/prefix.c: (br_locate) Fix for cygwin.

	* config/i386/trampolines.S: Fixed white space.

2005-07-01  jrandom <jrandom@i2p.net>

	* gnu/java/net/PlainDatagramSocketImpl.java: Removed synchronized
	modifier for all native methods in order to make multi-threaded 
	code operating on a single socket.

2005-06-30  Dalibor Topic  <robilad@kaffe.org>

        * kaffe/kaffevm/jit/Makefile.am:
	(AM_CCASFLAGS) Fixed stupid typo due to lack of coffee.

2005-06-29  Dalibor Topic  <robilad@kaffe.org>

	* include/nets.h: Guarded include of config.h. Include netdb.h.
	Check for H_ERRNO_DECLARED rather than h_errno.

	* libraries/clib/native/Class.c: 
	(java_lang_class_VMClass_checkAccess) Fixed prototype.

	Build fixes for Cygwin.

2005-06-29  Dalibor Topic  <robilad@kaffe.org>

        * include/kaffe/trampoline.h: New file, with code shared
	by all trampoline implementations.

        * config/alpha/trampolines.S,
        config/arm/trampolines.S,
        config/i386/trampolines.S,
        config/m68k/trampolines.S,
        config/mips/trampolines.S,
        config/powerpc/trampolines.S,
        config/sh/trampolines.S,
        config/sparc/trampolines.S:
	Include kaffe/trampoline.h.

        * kaffe/kaffevm/jit3/Makefile.am,
        kaffe/kaffevm/jit/Makefile.am:
	(AM_CCASFLAGS) Added ENGINE_DEFS and include
	directory to includes.

2005-06-29  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/alpha/trampolines.S,
	config/arm/trampolines.S,
	config/i386/trampolines.S,
	config/m68k/trampolines.S,
	config/mips/trampolines.S,
	config/sh/trampolines.S,
	config/sparc/trampolines.S
	(C_FUNC_NAME): Fixed concatenation.

	Reported by Davanum Srinivas <dims@yahoo.com>,
	Dalibor Topic  <robilad@kaffe.org>

2005-06-28  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (DLOPEN_JAVA_LIBS): Removed libclasspath and 
	libfdlibm.

	* libraries/clib/classpath/Makefile.am,
	libraries/clib/fdlibm/Makefile.am,
	replace/Makefile.am:
	(AM_LDFLAGS) Removed -module. Build as convenience libraries.

2005-06-27  Ito Kazumitsu  <kaz@maczuka.gcd.org>

        * gnu/java/nio/charset/UnicodeLittle.java
	(newDecoder): Set the endianness to UTF_16Decoder.MAYBE_LITTLE_ENDIAN.

	* gnu/java/nio/charset/UTF_16Decoder.java
	(MAYBE_BIG_ENDIAN, MAYBE_LITTLE_ENDIAN): New constants.
	(decodeLoop): If the byte order is MAYBE_LITTLE_ENDIAN or
	MAYBE_BIG_ENDIAN, assume the default endianness to be little or
	big respectively.

2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/bsdi3/md.h,
	config/sparc/linux/md.h,
	config/sparc/netbsd1/md.h,
	config/sparc/nextstep3/md.h,
	config/sparc/openbsd2/md.h,
	config/sparc/sunos4/md.h: Undefine SA_SIGINFO as we need the
	signal call without the siginfo structure.

2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/gnu/classpath/tools/Util.java
	(Util): Really search the default classpath if no class is found in
	the current directory.

	Reported by:  Daniel Bonniot  <bonniot@users.sourceforge.net>

2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/m68k/linux/md.h
	(sysdepCallMethod): Inlined function instead of a macro. Fixed the
	return of a float.

	* config/m68k/jit3-m68k.def
	(div_float): Fixed a misallocation of the destination register
	because of a wrong assert.

	* libraries/clib/fdlibm/ieeefp.h: Removed all preprocessor magic and
	replaced by the checking of the definition of WORDS_BIGENDIAN by
	configure.
	
2005-06-26  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/kaffe/tools/jar/Jar.java
	(addEntry): Delete "./" from the top of entryname.

2005-06-24  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/java/nio/charset/UnicodeLittle.java
	(newDecoder): Set the default endian to be little endian.

	* gnu/java/nio/charset/UTF_16Decoder.java
	(decodeLoop): Use 0x00FF instead of 0xFF for masking.

2005-06-24  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/main.c
	(options): "-classpath" must reset the classpath to the only specified
	by the following argument.

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/soft.c
	(soft_div, soft_rem): Check for the divisor to return the correct
	value on all processors.

2005-06-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/Makefile.am
	(libkaffevm_la_SOURCES): Added javacall.c

	* kaffe/kaffevm/Makefile.in: Regenerated.

	* kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/classMethod.h
	(initCollector): Moved to gc.h
	(parsed_signature): Added real_nargs.
	(PSIG_RNARGS): New macro.
	(KaffeVM_countRealNumberOfArgs): New function to retrieve the real
	number of argument slot used.
	
	Doxified a bit.
	
	* kaffe/kaffevm/gc.h
	(initCollector): Moved from classMethod.h

	* kaffe/kaffevm/javacall.c
	(KaffeVM_callMethodA, KaffeVM_callMethodV): Moved from support.c
	along with their macros.
	(KaffeVM_countRealNumberOfArgs): New function.
	
	kaffe/kaffevm/support.c:
	(KaffeVM_callMethodA, KaffeVM_callMethodV): Moved out.

	* libraries/clib/native/ClassLoader.c
	(loadClass): Check whether the class name is well constructed.

2005-06-23  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* FAQ/FAQ.charsets: New file.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/atomic.h: Removed all register aliases to support
	old gcc compiler.

	Reported by Riccardo Mottola  <rmottola@users.sf.net>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config-hacks.c: We must redefine __builtin_trap until gcc
	3.1.

	Reported by Andrew Pinski <pinskia@physics.uc.edu>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/katomic.h: Include config-hacks.h to be sure the hacks are
	taken into account.

	* config/config-hacks.h: Removed spurious argument.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/ax_create_stdint_h.m4: Removed some broken & unused m4 code line.

	* configure: Regenerated.

	* config/config-std.h,
	kaffe/kaffevm/lerrno.h: Moved definition of ENOTSUP to prevent
	redefinition.

	* kaffe/kaffevm/debug.c,
	kaffe/kaffevm/systems/unix-pthreads/lock-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/signal.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-impl.c: Use lerrno.h
	instead of errno.h

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/atomic-sparc64.h,
	config/mips/atomic.h: Removed gcc specific hacks. Moved into
	config-hacks.h

	* config/config-hacks.h
	(__builtin_expect, __builtin_trap): Define to identity if we are not
	using at least gcc3.

	* configure.ac: Check that we are on mips before enabling '-mips2'.

	* configure: Regenerated.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/atomic-sparc64.h
	(__builtin_expect): Do not take into account expect if we are not
	using gcc or it is not at least gcc3.

	Reported by Riccardo Mottola  <rmottola@users.sf.net>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/atomic.h: Rearranged the inlined assembly to make it
	compile on Irix.

	* config/mips/common.h: Enabled full atomic operations.

	* configure.ac: Add '-mips2' to the command line if we are on
	Irix/MIPS.

	* configure: Regenerated.

2005-06-20  Riccardo Mottola  <rmottola@users.sf.net>

        * config/mips/atomic.h: patched to use internal config-int.h header
	and not c99 stdint.h

2005-06-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* developers/autogen.sh: Updated to gettext 0.14.5

	* m4/ax_create_stdint_h.m4: Check whether UINT8_MIN & INT8_MIN are
	already defined.

	* configure: Regenerated.

2005-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/ax_create_stdint_h.m4: Patched to get it work on system without
	__UINT64_C and __INT64_C

	* configure: Regenerated.

2005-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/support.c
	(KaffeVM_callMethodA, KaffeVM_callMethodV): 
	Allocate the argument array following the real slot allocation given
	by methodSigInfo. This may not be sufficient for architecture which
	needs alignment of the slots.

	Define NEED_sysdepCallMethod to get specific argument reordering
	except if we use ffi.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/Makefile.am: Added DoubleIEEE.

	* test/regression/Makefile.in: Regenerated.

	* test/regression/ProcessClassStop.java,
	test/regression/ProcessClassLockTest.java: Increased the timeout
	value.

	* WHATSNEW: Updated.

	* FAQ/FAQ.pthreads: Updated. Thread.stop() deprecated.

	* FAQ/FAQ.locks: Updated locks algorithm.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/DoubleIEEE.java: New testcase for strict IEEE
	computation.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/linux/md.c
	(init_md): Setup the FP unit to use double precision and not extended
	precision.

	* configure.ac: Check for fpu_control.h

	* configure, config/config.h.in: Regenerated.

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/baseClasses.c
	(stateCompleteClass): New array to store classes that should be in
	complete state at the end of the first initialization procedure.
	(initBaseClasses): Push all classes in stateCompleteClass to the
	COMPLETE state.

	* kaffe/kaffevm/gcFuncs.c
	(walkRefArray): Added some debug printing.
	(newArrayChecked): Removed unused condition.

	* kaffe/kaffevm/jni/jni.c: Cleaned up style.

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/Preempt.java: Added a 'yield' for Solaris.

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/jit.h: FRAMEOBJECT get the real enclosing object (and
	not the second one).

2005-06-12  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/serialver.in,
	kaffe/scripts/native2ascii.in:
	Added tools.jar to classpath to make them work again.

2005-06-12  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in: Put gnu.classpath.tools
	completely into tools.jar to make javap work fine.

	Reported by: Guilhem Lavaux  <guilhem@kaffe.org>

2005-06-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/exception.c
	(nullException): Fill in the "cause" field.

2005-06-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/jni.c
	(Kaffe_ExceptionDescribe): Fixed memory allocation. Iterate through
	all causes of an exception.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/InternationalFormatter.java
	Implemented new class.

	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.preferredLayoutSize): fixed return
	statement.
	(BasicVerticalLayoutManager.preferredLayoutSize): Likewise.
	
	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(getPreferredSize): Implemented new method. This is overridden
	in order to support custom set rows and columns.

	2005-06-10  Sven de Marothy  <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
	(gdkDrawDrawable): Check if cairo pattern is non-null before 
	setting its matrix.
	
	2005-06-09  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GtkPanelPeer.java,
	gnu_java_awt_peer_gtk_GtkPanelPeer.c (connectSignals): New method.
	* include/gnu_java_awt_peer_gtk_GtkPanelPeer.h: Regenerate.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(window_focus_in_cb, window_focus_out_cb): Remove FIXMEs.

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
	(copyState): Check if cairo pattern is null before copying it.
	(drawPixels): Check if cairo pattern is null before retrieving it.

	* java/awt/MenuItem.java (label): Initialize to empty string.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-08  Bryce McKinlay  <mckinlay@redhat.com>

	* java/rmi/server/RMIClassLoader.java (getClassLoader): Make public.
	From Gary Benson.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-08  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java (cairoSetRGBColor,
	cairoSetAlpha): Combine ...
	(cairoSetRGBAColor): New method.
	* include/gnu_java_awt_peer_gtk_GdkGraphics2D.h: Regenerate.
	* include/gnu_java_awt_peer_gtk_GtkImage.h: Regenerate.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Use
	Cairo 0.5.0 APIs.
	* configure.ac: Require Cairo 0.5.0.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-08  David Gilbert  <david.gilbert@object-refinery.com>

	* java/awt/image/BandedSampleModel.java
	(createBankArray): New method.
	(BandedSampleModel(int, int, int, int)): reimplemented.
	(BandedSampleModel(int, int, int, int, int[], int[]): 
	RasterFormatException nearer to start of constructor.
	(getPixel): Use band index, not zero.
	(getPixels): Fixed loop indices.
	(getSamples): Fixed loop indices.
	(setDataElements): Use band index, not zero.
	
	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultFormatter.java
	(FormatterDocumentFilter.remove): Added check for valid input.
	(FormatterDocumentFilter.insertString): Added check for valid input.
	Added support for overwriteMode property.
	(FormatterDocumentFilter.replace): Added check for valid input.
	(checkValidInput): New helper method to check for valid input
	and roll it back if necessary.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFormattedTextField.java
	(getActions): Call super.getActions instead of throwing an exception.
	This is safe here.
	(processFocusEvent): Likewise.
	* javax/swing/plaf/basic/BasicTextUI.java
	(createKeymap): Construct new bindings array if UIDefaults does return
	a null object for this.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(installDefaults): Call resetLayoutManager() _after_ the divider
	is created to prevent NPE.
	(paint): Removed check for valid divider location. This is done
	in resetComponentAt(index).
	(resetLayoutManager): Call layout.updateComponents _after_ the
	layout has been installed. Otherwise it has no effect.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java
	(setMinimumSize): Adjust preferredSize and maximumSize when
	minimumSize is greater than preferred or maximumSize.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultEditorKit.java:
	Added some API documentation.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultEditorKit.java
	(DefaultKeyTypedAction.actionPerformed): This action
	has to filter control characters here.
	(InsertBreakAction.actionPerformed): This action inserts
	a newline character here.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-06  Sven de Marothy <sven@physto.se>

	* javax/swing/JLabel.java
	(JLabel): Horizontal justification changed to default to LEADING.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultFormatter.java:
	Implemented new class.
	
	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFrame.java:
	Added the two missing constructors that take
	java.awt.GraphicsConfiguration objects as arguments.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTree.java
	(removeDescendantSelectedPaths): Implemented new method.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonListener.java
	(focusLost): Don't unarm button on focus lost. This behaviour is
	not documented anywhere and disturbs correct event processing
	in buttons.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Removed debug statement.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Added API documentation comments.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Reimplemented to return the classname of
	itself. This way subclasses don't have to override this
	method.

	2005-06-06  Sven de Marothy <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c
	(gtkWidgetSetForeground): Avoid setting black-on-black selection color
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-05  Tom Tromey  <tromey@redhat.com>

	* java/lang/Class.java (resourcePath): Reindented.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-06  Sven de Marothy <sven@physto.se>

	* gnu/java/awt/peer/gtk/GtkImage.java
	(getSource, deliver): Added null checks.
	* java/awt/image/RGBImageFilter.java
	(filterRGBPixels): Reimplement.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/event/TreeSelectionEvent.java
	(getPaths): Return a cloned copy.
	(isAddedPath): Implemented.
	(cloneWithSource): Likewise.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/event/TreeSelectionEvent.java:
	Reformatted.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/tree/TreePath.java
	(toString): Implemented.
	
	2005-06-04  Tom Tromey  <tromey@redhat.com>

	* javax/swing/plaf/basic/BasicListUI.java (focusListener): Use
	correct type.
	(listDataListener, listSelectionListener, mouseInputListener,
	propertyChangeListener): Likewise.
	* javax/swing/plaf/basic/BasicMenuUI.java (ChangeHandler): Now
	public and deprecated.
	* javax/swing/plaf/basic/BasicTabbedPaneUI.java
	(TabbedPaneLayout): Now public.
	* javax/swing/plaf/basic/BasicOptionPaneUI.java
	(ButtonActionListener): Now public.
	(PropertyChangeHandler): Likewise.
	(ButtonAreaLayout): Likewise.
	* javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
	(TitlePaneLayout): Now public.
	(PropertyChangeHandler): Likewise.
	* javax/swing/plaf/basic/BasicCheckBoxUI.java
	(getPropertyPrefix): New method.
	* javax/swing/plaf/basic/BasicProgressBarUI.java (ChangeHandler):
	Now public.
	* javax/swing/plaf/basic/BasicSliderUI.java (ComponentHandler):
	Now public.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicVerticalLayoutManager): Now public.
	(FocusHandler): Likewise.
	(BasicHorizontalLayoutManager): Likewise.
	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(AcceptAllFileFilter): New public constructor.
	(BasicFileView): Likewise.
	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(BorderListener.RESIZE_NONE): Now final.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicListUI.java
	(damageLayout): Check for list beeing null before revalidating
	it.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/PlainDocument.java
	(removeUpdate): Fixed indices in text buffer access.
	* javax/swing/text/PlainView.java
	(drawLine): Simplified element access.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(constructor): Set preferredSize to a sane default.
	
	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilites.java
	(replaceUIActionMap): Fixed loop again. Now correctly, I hope.
	* javax/swing/ActionMap.java
	(setParent): Make sure we don't build a loop.
	* javax/swing/plaf/basic/BasicTextUI.java
	(createActionMap): Create ActionMapUIResource instead of
	plain ActionMap.

	2005-06-03  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	Removed declarations for the previously removed native methods.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilites.java
	(replaceUIActionMap): Fixed condition in while loop that caused
	infinite looping.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTableUI.java
	(uninstallDefault): Don't set properties to null, this corrupts
	component state.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-02  Sven de Marothy  <sven@physto.se>

	* java/awt/Component.java
	(setBackgroundColor): Return if the color equals the existing bgcolor.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-02  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java:
	(drawImage): Remove reference to GtkOffScreenImage.
	* gnu/java/awt/peer/gtk/GtkImageConsumer.java:
	Add additional comments.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-05  Sven de Marothy  <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
	(getPixels): Handle pixbufs which don't have alpha.

	2005-06-04  Michael Koch  <konqueror@gmx.de>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
	(Java_gnu_java_awt_peer_gtk_GtkImage_loadPixbuf):
	Fixed method declaration format.
	(Java_gnu_java_awt_peer_gtk_GtkImage_drawPixelsScaled):
	Likewise.

	2005-06-02  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	(GdkGraphics): New constructor.
	(drawImage): Reimplemented.
	* gnu/java/awt/peer/gtk/GtkComponentPeer.java:
	(checkImage,createImage): Reimplemented.
	(prepareImage): Just call the GdkToolkit method.
	* gnu/java/awt/peer/gtk/GtkFramePeer.java:
	(setIconImage): Reimplemented.
	* gnu/java/awt/peer/gtk/GtkImage.java: Reimplemented.
	* gnu/java/awt/peer/gtk/GtkToolkit.java:
	(checkImage): Change handling of GtkImage.
	(createImage): Reimplemented for GtkImage.
	(getColorModel): Return the actual native color model.
	(prepareImage): Reimplemented.
	* include/Makefile.am,
	* native/jni/gtk-peer/Makefile.am: Removed old files, added new ones.
	* include/gnu_java_awt_peer_gtk_GdkGraphics.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics.c:
	(initFromImage): New method.
	(copyPixmap, flip_pixbuf, copyAndScalePixmap): Removed.
	* include/gnu_java_awt_peer_gtk_GtkFramePeer.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c:
	(nativeSetIconImage): New method.
	(nativeSetIconImageFromData,nativeSetIconImageFromDecoder): Removed.
	* gnu/java/awt/peer/gtk/GtkImageConsumer.java,
	* include/gnu_java_awt_peer_gtk_GtkImage.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: 
	New files.
	* gnu/java/awt/peer/gtk/GtkImagePainter.java,
	* gnu/java/awt/peer/gtk/GtkOffScreenImage.java,
	* include/gnu_java_awt_peer_gtk_GtkImagePainter.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImagePainter.c:
	Removed files.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-01  Tom Tromey  <tromey@redhat.com>

	* java/io/ObjectInputStream.java (currentLoader): Fixed typo.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultStyledDocument.java
	(setLogicalStyle): Implemented this method.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Sven de Marothy  <sven@physto.se>

	* java/util/GregorianCalendar.java
	(setTimeInMillis): Recompute time fields.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(installComponents): Changed layout of main panel from GridBagLayout
	to BorderLayout (as is the case in Suns JDK). This fixes
	bug#13244.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/JPopupMenu.java
	(insert): Do not check for index == -1 at this point, this is done
	in java.awt.Container. Catching -1 indices here disturbes the
	Container.addImpl which leads to bug #13247 for example.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/PlainDocument.java
	(removeUpdate): Fixed indices in call to rootElement.replace().

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java
	(processKeyEvent): Call super.processKeyEvent() so that KeyEvents
	are delivered to registered KeyListeners.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Sven de Marothy  <sven@physto.se>

	* java/util/TimeZone (getDefaultTimeZone): Reimplemented.
	(parseTime, getDateParams): New private methods.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-01  David Gilbert  <david.gilbert@object-refinery.com>

	* gnu/java/awt/GradientPaintContext.java: New file.
	* java/awt/GradientPaint.java: Implemented.
	* java/awt/image/IndexColorModel.java: Reimplemented.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-10  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/SendingContext/package.html,
	org/omg/CORBA/SendingContext/Runtime.java,
	org/omg/CORBA/SendingContext/RuntimeOperations.java: Removed.
	* org/omg/SendingContext/package.html,
	org/omg/SendingContext/Runtime.java,
	org/omg/SendingContext/RuntimeOperations.java: Added.

	2005-06-08 Audrius Meskauskas <AudriusA@Bioinformatics.org>.

	* org/omg/CORBA/CustomValue.java,
	org/omg/CORBA/CustomMarshal.java,
	org/omg/CORBA/DataOutputStream.java,
	org/omg/CORBA/DataInputStream.java: New classes.

	2005-06-08  Audrius Meskauskas <AudriusA@Bioinformatics.org>.

	* org/omg/CORBA/UnionMemberHelper.java,
	org/omg/CORBA/ValueMemberHelper.java,
	org/omg/CORBA/StructMemberHelper.java,
	org/omg/CORBA/IDLTypeHelper.java,
	org/omg/CORBA/_IDLTypeStub.java: New files.
	* gnu/CORBA/IOR.java (write_null, _read_no_endian),
	gnu/CORBA/CDR/cdrInput.java (read_Object),
	gnu/CORBA/CDR/cdrOutput.java (write_Object):
	Implemented sending of java null.

	2005-06-07  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/IOR_Delegate.java (release),
	gnu/CORBA/IOR_contructed_object.java (finalize):
	Close the associated socket if the finalizer is called.
	gnu/CORBA/gnuRequest.java (submit),
	gnu/CORBA/Functional_ORB.java (serveStep): Try to reuse the opened sockets.
	* gnu/CORBA/SocketRepository.java,
	gnu/CORBA/GIOP/CloseMessage.java: New files.

	2005-06-06  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/CompletionStatusHelper.java (type): New method.
	* org/omg/CORBA/Current.java: Inherit from org.omg.portable.IDLEntity.

	2005-06-06  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/StringValueHelper.java,
	org/omg/CORBA/WStringValueHelper.java: New helpers.
	* org/omg/CORBA/portable/BoxedValueHelper.java: Documentation update.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/VisibilityHelper.java: New helper.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/stub/java/rmi/_Remote_Stub.java:
	Inheriting from Stub, Remote and Serializable.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org\omg\CORBA\portable\ValueFactory.java (read_value): Changed 
	parameter type to org.omg.CORBA_2_3.portable.InputStream.
	* org\omg\CosNaming\_BindingIteratorStub.java,
	* org\omg\CosNaming\_NamingContextStub.java: Fixed serialVersionUID.
	* org\omg\CORBA_2_3\portable\InputStream.java 
	(read_value(BoxedValueHelper)): Implemented.
	* org\omg\CORBA_2_3\portable\OutputStream.java 
	(write_abstract_interface): 
	Changed parameter type to java.lang.Object.
	* org\omg\CORBA\portable\BoxedValueHelper.java: 
	Moved wrongly placed bracket.
	* org\omg\CORBA\ParameterMode.java: Inherit from
	Serializable, IDLEntity and removing duplicated header.
	(_PARAM_IN, _PARAM_OUT, _PARAM_INOUT): Making final.
	* org\omg\Messaging\SyncScopeHelper.java (extract, id, insert, 
	read, type, write): Making public.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/DefinitionKindHelper.java,
	org/omg/CORBA/FieldNameHelper.java,
	org/omg/CORBA/IdentifierHelper.java,
	org/omg/CORBA/ParameterMode.java,
	org/omg/CORBA/ParameterModeHelper.java,
	org/omg/CORBA/ParameterModeHolder.java,
	org/omg/CORBA/RepositoryIdHelper.java,
	org/omg/CORBA/SetOverrideTypeHelper.java,
	org/omg/CORBA/VersionSpecHelper.java,
	gnu/CORBA/SetOverrideTypeHolder.java,
	gnu/CORBA/DefinitionKindHolder.java: New files.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/stub/java/rmi/_Remote_Stub.java,
	org/omg/stub/java/rmi/package.html: New package.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/Messaging/SyncScopeHelper.java
	org/omg/Messaging/SYNC_WITH_TRANSPORT.java
	org/omg/Messaging/package.html: New package.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/portable/BoxedValueHelper.java,
	org/omg/CORBA_2_3/portable/OutputStream.java,
	org/omg/CORBA_2_3/portable/Delegate.java,
	org/omg/CORBA_2_3/portable/ObjectImpl.java,
	org/omg/CORBA_2_3/portable/package.html: New files.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/NamingContextPackage/AlreadyBound.java,
	org/omg/CosNaming/NamingContextPackage/CannotProceed.java,
	org/omg/CosNaming/NamingContextPackage/InvalidName.java,
	org/omg/CosNaming/NamingContextPackage/NotEmpty.java,
	org/omg/CosNaming/NamingContextPackage/NotFound.java,
	org/omg/CosNaming/NamingContextPackage/NotFoundReason.java:
	Added SerialVersionUID.

	2005-06-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/GIOP/uncObjectInputStream.java,
	gnu/CORBA/GIOP/uncObjectInputStream/uncObjectOutputStream.java:
	Deleting files.
	* gnu/CORBA/CDR/uncObjectInputStream.java,
	gnu/CORBA/CDR/uncObjectInputStream/uncObjectOutputStream.java:
	Adding files.

	2005-06-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java,
	gnu/CORBA/IOR_Delegate.java,
	gnu/CORBA/Simple_delegate.java,
	gnu/CORBA/universalHolder.java,
	gnu/CORBA/CDR/aligningInputStream.java,
	gnu/CORBA/CDR/aligningOutputStream.java,
	gnu/CORBA/CDR/cdrInput.java,
	gnu/CORBA/CDR/cdrOutput.java,
	gnu/CORBA/CDR/encapsulatedOutput.java,
	gnu/CORBA/GIOP/ErrorMessage.java,
	gnu/CORBA/GIOP/MessageHeader.java,
	gnu/CORBA/GIOP/cxCodeSet.java,
	gnu/CORBA/GIOP/v1_2/RequestHeader.java,
	org/omg/CosNaming/BindingIteratorHelper.java,
	org/omg/CosNaming/BindingListHelper.java,
	org/omg/CosNaming/BindingTypeHelper.java,
	org/omg/CosNaming/NameComponentHelper.java,
	org/omg/CosNaming/NameHelper.java,
	org/omg/CosNaming/NamingContextExtHelper.java,
	org/omg/CosNaming/NamingContextHelper.java:
	Initialise instances of org.omg.SystemException, thrown
	after catching the other exception, with InitCause.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/GIOP/uncObjectInputStream.java,
	gnu/CORBA/GIOP/uncObjectInputStream/uncObjectOutputStream.java: New streams.
	* org/omg/CORBA/ValueBaseHelper.java: Removing inner classes,
	using uncObjectInputStream, uncObjectOutputStream instead.
	* org/omg/CORBA_2_3/portable.InputStream.java (read_value): 
	Delegate call to ValueBaseHelper.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/SendingContext/Runtime.java,
	org/omg/CORBA/SendingContext/RunTimeOperations.java:
	Fixing the package statement.

	2005-06-01  Tom Tromey  <tromey@redhat.com>

	* org/omg/CosNaming/IstringHelper.java: Changed non-ascii
	characters.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/SendingContext/package.html,
	org/omg/SendingContext/RunTimeOperations.java,
	org/omg/SendingContext/Runtime.java: New package.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/BindingType.java,
	org/omg/CosNaming/NameComponent.java,
	org/omg/CosNaming/_BindingIteratorStub.java,
	org/omg/CosNaming/_NamingContextStub.java,
	org/omg/CosNaming/_NamingContextExtStub.java,	
	org/omg/CosNaming/_BindingIteratorImplBase.java,
	org/omg/CosNaming/_NamingContextImplBase.java: Added SerialVersionUID.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>
	
	* org/omg/CosNaming/IstringHelper.java: New class.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/CDR/cdrInput.java (read_wstring): Correcting
	check for native encoding.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java (serveStep),
	gnu/CORBA/gnuRequest.java (submit),
	gnu/CORBA/CDR/cdrInput.java (read_encapsulation): Correcting
	data read loop.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORG.java (getFreePort): Remember
	the port number in the local variable.

	2005-05-31  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA_2_3/ORB.java,
	org/omg/CORBA_2_3/portable/InputStream.java,
	org/omg/CORBA/portable/ValueFactory.java: New classes.

	2005-05-31  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg.CORBA/DynValue.java (declaration): Inherit from DynAny,
	org.omg.CORBA.Object. (set_members): Declare it may throw InvalidSeq.

	2005-05-31 Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/CDR/BigEndianInputStream.java,
	gnu/CORBA/CDR/BigEndianOutputStream.java,
	gnu/CORBA/CDR/LittleEndianInputStream.java,
	gnu/CORBA/CDR/LittleEndianOutputStream.java: New streams.
	gnu/CORBA/CDR/abstractDataInputStream.java,
	gnu/CORBA/CDR/abstractDataOutputStream.java: New interfaces.
	* gnu/CORBA/IOR.java: Implemented parsing of the Little
	Endian encoded IOR references. 
	* gnu/CORBA/Functional_ORB.java, 
	gnu/CORBA/binaryReply.java, 
	gnu/CORBA/gnuRequest.java, 
	gnu/CORBA/CDR/cdrInput.java, 
	gnu/CORBA/CDR/cdrOutput.java, 
	gnu/CORBA/CDR/encapsulatedOutput.java, 
	gnu/CORBA/GIOP/MessageHeader.java: Implemented support
	for Big and Little Endian.
	* org/omg/CORBA/package.html: Documentation update.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Jeroen Frijters  <jeroen@frijters.net>

	* java/net/ServerSocket.java
	(bound): Removed.
	(local): New field.
	(bind): Cache local socket address.
	(getInetAddress, getLocalPort, getLocalSocketAddress, isBound):
	Use cached local socket address.
	(close): bound field was removed.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/nio/channels/FileChannelImpl.java
	(FileChannelImpl()): Removed.
	(FileChannelImpl(File,int)): Made private.
	(create): New method.
	* java/io/FileInputStream.java,
	java/io/FileOutputStream.java,
	java/io/RandomAccessFile.java:
	Updated construction of FileChannelImpl instance.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Sven de Marothy  <sven@physto.se>

	* java/awt/image/BufferedImage.java:
	(ImageProducer): Use Vector instead of HashMap.
	* java/awt/image/DirectColorModel.java:
	(getAlpha): Default to 255 (opaque).
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTree.java
	(getNextMatch): Implemented new method.
	
	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalSplitPaneUI.java:
	(createUI): Do not share one instance of MetalSplitPaneUI
	between multiple JSplitPanes.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java:
	Made JComponent.AccessibleJComponent implement
	AccessibleExtendedComponent.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JButton.java
	(constructor): Set initial actionCommand equal to the buttons label.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JList.java
	(getNextMatch): Implemented new method.
	(getCellBounds): Implemented new method.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java (serve, portServer, serveStep):
	Implemented support for the subsequent invocations reusing the same
	socket.
	* gnu/CORBA/GIOP/MessageHeader.java (read): throw
	NO_IMPLEMENT, not MARSHAL for Little Endian request.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(putLayer): Implemented new method.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java:
	Fixed values of some constant fields.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilities.java:
	(getWindowAncestor): This method has to be static instead of
	non-static.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-29  Michael Koch  <konqueror@gmx.de>

	* java/util/LinkedHashMap.java (access): Set 'root.pred'.

2005-06-09  Helmer Kraemer  <hkraemer@freenet.de>

	* kaffe/kaffevm/classMethod.c (expandMethods): create new parsed_signature_t for
	created method
	(duplicateParsedSignature): new method

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-05  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/gnu/java/nio/charset/iconv/IconvProvider.java
	(IconvProvider): Made the constructor public.

	* libraries/javalib/java/nio/charset/Charset.java
	(providers2): Allow spaces and comments in
	META-INF/services/java.nio.charset.spi.CharsetProvider.
	Load the provider using the context class loader.

2005-06-04  Helmer Kraemer  <hkraemer@freenet.de>

	* kaffe/kaffevm/jni/jni.c (Kaffe_FindClass): fixed so it works correctly	for native methods of system classes.

2005-06-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_ExceptionDescribe): Fixed variable declaration.

	* test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Checked in missing files.

2005-06-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/stackTrace.c
	(printStackTrace): Reformatted trace output.

	* kaffe/kaffevm/support.c
	(kprintf): Use vfprintf stored in kaffe VM arguments.

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_ExceptionDescribe): Always print the stack trace using
	kaffe internal routines. That way we always get a stack trace when
	an exception is thrown.

	* test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Fixed expected output
	accordingly.
	
2005-05-31  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffevm/jni/jni.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c,
	  libraries/clib/fdlibm/dtoa.c, libraries/clib/fdlibm/mprec.c,
	  libraries/clib/fdlibm/strtod.c,
	  libraries/clib/nio/gnu_java_nio_VMSelector.c,
	  libraries/clib/nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
	  libraries/clib/nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
	  libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	  s/0/NULL/.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* scripts/GCCWarning.pm: Few more warnings added.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* include/Makefile.am, include/Makefile.am:
	  Prefix the classpath with gmp-math, so that java_math_BigInteger.h
	  is generated correctly.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* include/jsyscall.h, kaffe/kaffevm/systems/unix-pthreads/signal.c,
	  kaffe/kaffevm/systems/unix-pthreads/thread-internal.h,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuBarPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkTextComponentPeer.c,
	  libraries/clib/classpath/native_state.c,
	  libraries/clib/io/java_io_VMObjectStreamClass.c,
	  libraries/clib/native/Method.c, libraries/clib/native/Object.c,
	  libraries/clib/net/InetAddressImpl.c,
	  libraries/clib/net/PlainDatagramSocketImpl.c,
	  libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	  Fix some -Wtraditional warnings(mostly signed/unsigned type) by
	  adding either casts or changing types.

2005-05-30  Helmer Kraemer  <hkraemer@freenet.de>

	* libraries/javalib/kaffe/lang/AppClassLoader.java,
	libraries/javalib/kaffe/lang/PrimordialClassLoader.java,
	libraries/clib/native/PrimordialClassLoader.c: removed. Loading classes is
	now handled completely by ClassLoader / VMClassLoader.
	* libraries/clib/native/ClassLoader.c (java_lang_VMClassLoader_loadClass):
	implemented

	* libraries/javalib/java/lang/Class.java: replaced by implementation from
	GNU Classpath
	* libraries/javalib/java/lang/VMClass.java: new file
	* libraries/clib/native/Class.c: updated to VMClass implementation

	* libraries/clib/native/ThreadStack.c,
	libraries/javalib/kaffe/lang/ThreadStack.java: removed. Identical
	functionality is now provided by gnu.classpath.VMStackWalker.
	* libraries/clib/native/gnu_classpath_VMStackWalker.c,
	libraries/javalib/gnu/classpath/VMStackWalker.java: implement methods
	directly instead of delegating to kaffe.lang.ThreadStack.

	* kaffe/kaffevm/baseClasses.h,
	kaffe/kaffevm/baseClasses.c: removed references to kaffe.lang.AppClassLoader,
	replaced getClassClass with getClassVtable, so we can remove dummyClassClass

	* kaffe/kaffevm/classMethod.c, kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/object.c: replaced getClassClass()->vtable with getClassVtable()

	* kaffe/kaffevm/classMethod.c (initialiseSecurity): new method
	(internalSetupClass, lookupArray): initialise protection domain of new class

	* kaffe/kaffevm/classMethod.h (struct Hjava_lang_Class): rearranged fields
	to match fields in GNU Classpath's java.lang.Class implementation

	* kaffe/kaffevm/jni/jni.c (Kaffe_FindClass): walk the stack to find the
	correct class loader
	
	* kaffe/kaffevm/gcFuncs.c (walkClass): updated to Hjava_lang_Class changes

	* libraries/javalib/META-INF/services/java.nio.charset.spi.CharsetProvider:
	removed, as iconv is treated specially by java.nio.charset.Charset

	* kaffe/kaffe/main.c (options): add argument of -jar option to the classpath

	* libraries/javalib/kaffe/jar/ExecJar.java: don't update the classpath, that's
	done in kaffe's main now.

	* libraries/javalib/kaffe/jar/ExecJarName.java: use the system class loader
	to load the main class.

	* libraries/clib/native/Makefile.am, libraries/clib/native/Makefile.in,
	include/Makefile.am, include/Makefile.in, libraries/javalib/all.files,
	WHATSNEW: updated

	* test/regression/CharCvt.java,	test/regression/GetField.java,
	test/regression/KaffeInternal.java, test/regression/ProcessClassInst.java,
	test/regression/ProcessClassLockTest.java,
	test/regression/ProcessClassStop.java: updated expected output

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffe/main.c, kaffe/kaffevm/classMethod.c,
	  kaffe/kaffevm/classPool.c, kaffe/kaffevm/gcFuncs.c,
	  kaffe/kaffevm/lookup.c, kaffe/kaffevm/stringParsing.c,
	  kaffe/kaffevm/jit/native-wrapper.c, kaffe/kaffevm/jit3/constpool.c,
	  kaffe/kaffevm/jit3/icode.c, kaffe/kaffevm/jit3/labels.c,
	  kaffe/kaffevm/jni/jni-arrays.c, kaffe/kaffevm/jni/jni-base.c,
	  kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	  kaffe/kaffevm/verifier/verify-block.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GdkRobotPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollPanePeer.c,
	  libraries/clib/fdlibm/dtoa.c, libraries/clib/fdlibm/e_atan2.c,
	  libraries/clib/fdlibm/k_rem_pio2.c, libraries/clib/fdlibm/strtod.c,
	  libraries/clib/native/Method.c, libraries/clib/net/InetAddressImpl.c,
	  libraries/clib/security/sha-1.h:
	  Add default case to several switches, fixing more warnings.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffevm/classPool.c, kaffe/kaffevm/findInJar.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c:
	  Fix all -Wswitch-enum warnings.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* include/gccbuiltin.h:
	  Fix GCC_VERSION undefined warning.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* libraries/javalib/gnu/CORBA/generalTypeCode.java:
	  s/-Integer.MIN_VALUE/Integer.MIN_VALUE/

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* libraries/javalib/gnu/crypto/exp/Helix.java,
	libraries/javalib/gnu/crypto/hash/MD4.java,
	libraries/javalib/gnu/crypto/hash/MD5.java,
	libraries/javalib/org/metastatic/jessie/pki/provider/MD5.java:
	  Replace all negative bitshifts with 32 - value.  Fixes jikes
	  compiler warning.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/_BindingIteratorImplBase.java ,
	org/omg/CosNaming/_NamingContextExtImplBase.java,
	org/omg/CosNaming/_NamingContextImplBase.java: Inherit from
	DynamicImplementation.
	* gnu/CORBA/ServiceRequestAdapter.java: New class.
	* gnu/CORBA/gnuNVList.java (add, add_item):
	Replacing null by constructed instance.

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/Functional_ORB.java (serve, useProperties, init): Implementing
	the property-configurable time-outs. 

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/gnuRequest.java (p_invoke): Wrap the received UserException into
	UnknownUserException.
	* gnu/CORBA/streamReadyHolder.java: New wrapper for UserException. 
	* org/omg/CORBA/UnknownUserException.java: New exception.
	
	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/ORB.java (create_recursive_sequence_tc): New method.

	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/DynValue.java: New interface.

	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/package.html: Documentation update.

	2005-05-26  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_basic_dyn_any): 
	Declare it may throw an InconsistentTypeCode.
	(create_dyn_any): Remove wrong exception declaration.
	(create_operation_list, create_abstract_interface_tc, 
	create_native_tc, get_service_information): Implementing these methods.
	* org/omg/CORBA/ServerRequest.java (result, except, params, op_name): 
	Marking deprecated.
	
2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-27  Roman Kennke  <roman@kennke.org>

	* javax/swing/AbstractButton.java:
	Bumped up serialVersionUID(s) to JDK1.4 compatibility.
	* javax/swing/ImageIcon.java: Likewise.
	* javax/swing/JFileChooser.java: Likewise.
	* javax/swing/JInternalFrame.java: Likewise.
	* javax/swing/JMenu.java: Likewise.
	* javax/swing/JRadioButton.java: Likewise.
	* javax/swing/JScrollPane.java: Likewise.
	* javax/swing/JSpinner.java: Likewise.
	* javax/swing/JTabbedPane.java: Likewise.
	* javax/swing/ImageIcons.java: Likewise.
	* javax/swing/JToggleButton.java: Likewise.
	* javax/swing/JToolTip.java: Likewise.
	* javax/swing/JViewPort.java: Likewise.
	* javax/swing/LayoutFocusTraversalPolicy.java: Likewise.
	* javax/swing/SpinnerDateModel.java: Likewise.
	* javax/swing/TransferHandler.java: Likewise.

2005-05-27  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GtkContainerPeer.java (setFont): Handle
	lightweight peers specially.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URI.java:
	(getURIGroup(String)): Correctly handle the difference
	between null and undefined optional values.
	(relativize(java.net.URI)): Corrected documentation.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/xml/transform/StreamSerializer.java:
	(serialize(org.w3c.dom.Node,java.io.OutputStream,
	boolean)): Add missing 'DOCTYPE' keyword to
	DocumentType node output.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java:
	(connect()): Reverted the removal of the exception
	with 404s.

	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java:
	(connect()): Fixed a null pointer exception with 304
	responses and an inappropriate exception with 404s.
	* gnu/java/net/protocol/http/Request.java:
	(readResponse(java.io.LineInputStream)): Fixed a
	fruitless attempt to read the non-existant body
	of a 304 response.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c:
	Fixed compile problems with JVMPI.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/plaf/basic/BasicFileChooserUI.java: 
	(installComponents) Use a BorderLayout for the filechooser.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/JRootPane.java: 
	(layoutContainer, preferredLayoutSize) Use getContentPane
	to fix initialisation problems.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/awt/GridBagLayout.java: 
	(addLayoutComponent) Improved error message.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/JPopupMenu.java: (insert)
	Pass on -1 index to super.add as mutliple threads can change
	the index of the last component independently.

2005-05-28  Helmer Kraemer  <hkraemer@freenet.de>

	* developers/dumpClass.pl: add command line arguments for verbose
	method and field info
	* developers/update-class-list: set LC_ALL to C to get a consistent
	sort order
	* kaffe/kaffevm/code-analyse.c (analyzeBasicBlock): throw VerifyError
	if bytecode contains an invalid opcode
	* kaffe/kaffevm/exception.c (findExceptionBlockInMethod): improved
	debug messages
	* kaffe/kaffevm/stackTrace.c (printStackTrace): print message of
	exception
	* libraries/clib/native/String.c (java_lang_String_indexOf): fix bounds
	of loop
	
2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/jit3/icode.c:
	Fix argument type mismatch.
	The 'else' parts of 'neg_float' or 'neg_double' may have never
	been used.

2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/sh/trampolines.S:
	Fix bugs introduced in Gcc assembler to real assembler conversion.

2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/m68k/jit-icode.h,
	config/m68k/jit3-icode.h,
	kaffe/kaffevm/jit3/funcs.h:
	Remove unused macros HAVE_ref_eq_int and HAVE_ref_eq_long.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-25  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* resource/META-INF/services/javax.xml.parsers.DocumentBuilderFactory,
	resource/META-INF/services/javax.xml.parsers.SAXParserFactory,
	resource/META-INF/services/javax.xml.parsers.TransformerFactory,
	resource/META-INF/services/org.xml.sax.driver:
	Properties for the XML facilities.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Michael Koch  <konqueror@gmx.de>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c
	(connetJObject): Removed.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-25  Michael Koch  <konqueror@gmx.de>

	* java/util/Locale.java (getISOStrings):
	Re-implemented for locale properties files.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c
	(connectSignals): Connect to new change-value signal.
	(post_change_event): Remove signal handler.
	(slider_moved_cb): New signal handler.
	* configure.ac: Require gtk+-2.0 >= 2.6.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-24  Gary Benson  <gbenson@redhat.com>

	* java/text/MessageFormat.java (MessageFormatElement.setLocale):
	Handle DateFormat.DEFAULT case correctly.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/AbstractButton.java:
	(constructor): Removed model creation.
	* javax/swing/JButton.java:
	(constructor): Added model creation.
	* javax/swing/JMenuItem.java:
	(init): Added model creation.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(static getLayer): Add cast to force a call to the instance method
	getLayer().
	(getLayeredPaneAbove): Added and implemented method.
	* javax/swing/JInternalFrame.java
	(getLayer): Add cast to force a call to the instance method
	getLayer() of JLayeredPane.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(paint): Added check to make sure the split pane divider has
	a valid location.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/JTextComponent.java
	(getPreferredScrollableViewportSize): Implemented this method.
	(getScrollableUnitIncrement): Implemented this method.
	(getScrollableBlockIncrement): Implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(getPreferredScrollableViewportSize): Added and implemented
	new method.
	(getScrollableUnitIncrement): Added and implemented new
	method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(getLayer): Added and implemented new (static) method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java
	(constructor(String, FileSystemView)): Added constructor.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JViewport.java
	(createLayoutManager): Added and implemented new method.
	(constructor): Set the LayoutManager that is created by
	createLayoutManager().
	* javax/swing/plaf/basic/BasicViewportUI.java
	(installUI): Removed setLayout(..). This is moved into
	the constructor of JViewport (as the API docs suggest).

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JViewport.java:
	(ViewListener): Added and implemented inner class.
	(createViewListener): Added and implemented new method.
	(setView): Add and remove ViewListener to/from the view component.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/DefaultListSelectionModel.java
	(fireValueChanged(boolean)): Added and implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilities.java:
	(getWindowAncestor): Added and implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java:
	Fixed the values of several public constant fields.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Uncommented code that has accidentally
	been commented out.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout.java
	(maximumLayoutSize): Added checks for overflow. This is necessary
	because some components have maximumSize of Integer.MAX_VALUE,
	that would cause an overflow if summed up.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/TreePath.java
	(getParentPath): Return null if this path only has no parent.

	2005-05-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java:
        (getMaximumSize): Fixed comment.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/TreePath.java:
	Reformatted this file in order to match our coding style.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getMaximumSize): Implemented this method.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/TRANSIENT.java (serialVersionUID): Added 1.4 SVUID.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ValueBaseHelper.java,
	org/omg/CORBA/ValueBaseHolder.java,
	org/omg/CORBA/portable/ValueBase.java: New files.
	* gnu/CORBA/gnuAny.java (insert_Value, extract_Value): 
	Implemented methods. 

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_dyn_any, create_dyn_array,
	create_dyn_enum, create_dyn_sequence, create_dyn_struct, 
	create_dyn_union, create_policy): Declaring they may throw an
	exceptions.
	* org/omg/CORBA/DefinitionKind.java: Making fields final and inherit
	from IDLEntity, Serializable.
	* org/omg/CORBA/IRObject.java: Inherit from 
	org.omg.CORBA.Object, Serializable, IDLEntity.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Connected_objects.java (cObject, getKey, add, get,
	entrySet, remove),
	* gnu/CORBA/Functional_ORB.java (portServer, getFreePort, connect,
	startService, destroy, disconnect, object_to_string, run, shutdown, 
	find_connected_object, createIOR, finalize): Implemented 
	listening on different ports for different objects.

	2005-05-24  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/portable/Delegate.java (equals): Compare parameters.

	2005-05-24  Mark Wielaard  <mark@klomp.org>

	* java/util/regex/Pattern.java (split): Assign value of variable
	matched outside while statement.
	* gnu/regexp/RE.java (getCharUnit): Assign value of unit.bk variable
	outside if statement.
	* gnu/CORBA/bufferedResponseHandler.java (createReply): Assign values
	from static class type constants.
	* gnu/CORBA/IOR.java (_write_no_endian): Likewise.
	* gnu/CORBA/Functional_ORB.java (respond_to_client): Likewise.
	(serve): Likewise.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Asynchron.java: New file.
	* org/omg/CORBA/ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response, 
	get_next_response, perform_work, work_pending): New methods.
	* gnu/CORBA/gnuRequest.java (send_deferred, send_oneway):
	Launch the submission process in a separate thread.
	* org/omg/CORBA/portable/ObjectImpl.java (hashCode): Removing
	redundant method.
	* gnu/CORBA/Functional_ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response,
	get_next_response, perform_work, work_pending): New methods.
	* gnu/CORBA/Restricted_ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response,
	get_next_response, perform_work, work_pending): New methods.	

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/NameValuePair.java: Inherit from Serializable, IDLEntity.
	* org/omg/CORBA/SetOverrideType.java (constuctor): Making protected.
	* org/omg/CORBA/DynFixed.java (set_value): Declare it may throw an 
	InvalidValue.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/DefinitionKind.java,
	org/omg/CORBA/IRObject.java,
	org/omg/CORBA/IRObjectOperations.java,
	org/omg/CORBA/IDLTypeOperations.java: New files.
	* org/omg/CORBA/IDLType.java: Inherit from IDLTypeOperations.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_context_list, create_basic_dyn_any,
	create_dyn_any, create_dyn_array,  create_dyn_enum,
	create_dyn_sequence, create_dyn_struct, create_dyn_union,
	create_policy, get_current): New 
	methods. 

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServerRequest.java,
	org/omg/CORBA/DynamicImplementation.java:
	New files.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/cdrOutput.java (write_octet_array): Removing
	redundant loop.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServiceInformation.java,
	org/omg/CORBA/ServiceInformationHelper.java,
	org/omg/CORBA/ServiceInformationHolder: New files.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServiceDetail.java,
	org/omg/CORBA/ServiceDetailHelper.java,
	gnu/CORBA/ServiceDetailHolder.java: New files.

	2005-05-21  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/ObjectCreator.java: Use gnu/CORBA namespace.

	2005-05-21  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/universalHolder.java: New file.
	* gnu/CORBA/gnuAny.java (create_input_stream,
	read_value): Use the universalHolder.
	* gnu/CORBA/CDR/aligningInputStream.java
	(getBuffer): New method.

2005-05-23  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Only run boehm-gc configury if
	boehm-gc is selected.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-05-23  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Create include/config-int.h
	instead of config/config-int.h.

	* config/Makefile.am (GEN_HDRS): Removed config-int.h.

	* include/Makefile.am (include_HEADERS): Added config-int.h.

	* libraries/clib/fdlibm/Makefile.am (AM_CPPFLAGS): Added
	include directory.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-21  Andreas Jaeger  <aj@suse.de>

        * java/lang/mprec.c (mult, lshift, b2d, d2b): Add parenthesis to
        avoid warnings.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.c
	kaffe/kaffevm/exception.c
	kaffe/kaffevm/stackTrace.c:
	Renamed backtrace field to vmdata.

	* kaffe/kaffevm/thread.c
	libraries/clib/native/Thread.c
	libraries/clib/native/Throwable.c:
	Renamed jthreadID field to vmdata.

	Resynced with GNU Classpath.

	2005-05-21  Archie Cobbs  <archie@dellroad.org>

        * java/lang/ClassLoader.java: (vmdata): add
        * vm/reference/java/lang/VMThread.java: (vmdata): add
        (countStackFrames()): make native
        * vm/reference/java/lang/VMThrowable.java: (vmdata): add
        (fillInStackTrace()): make native
        (getStackTrace()): make native

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-21  Michael Koch  <konqueror@gmx.de>

        * resource/gnu/java/locale/LocaleInformation_as.properties,
        resource/gnu/java/locale/LocaleInformation_bg.properties,
        resource/gnu/java/locale/LocaleInformation_cs.properties,
        resource/gnu/java/locale/LocaleInformation_da.properties,
        resource/gnu/java/locale/LocaleInformation_de.properties,
        resource/gnu/java/locale/LocaleInformation_dz.properties,
        resource/gnu/java/locale/LocaleInformation_en.properties,
        resource/gnu/java/locale/LocaleInformation_en_GB.properties,
        resource/gnu/java/locale/LocaleInformation_en_IE.properties,
        resource/gnu/java/locale/LocaleInformation_en_SG.properties,
        resource/gnu/java/locale/LocaleInformation_es.properties,
        resource/gnu/java/locale/LocaleInformation_fa.properties,
        resource/gnu/java/locale/LocaleInformation_fa_AF.properties,
        resource/gnu/java/locale/LocaleInformation_fi.properties,
        resource/gnu/java/locale/LocaleInformation_fr.properties,
        resource/gnu/java/locale/LocaleInformation_ga.properties,
        resource/gnu/java/locale/LocaleInformation_hi.properties,
        resource/gnu/java/locale/LocaleInformation_it.properties,
        resource/gnu/java/locale/LocaleInformation_ja.properties,
        resource/gnu/java/locale/LocaleInformation_ko.properties,
        resource/gnu/java/locale/LocaleInformation_mr.properties,
        resource/gnu/java/locale/LocaleInformation_mt.properties,
        resource/gnu/java/locale/LocaleInformation_nb.properties,
        resource/gnu/java/locale/LocaleInformation_nl.properties,
        resource/gnu/java/locale/LocaleInformation_ps.properties,
        resource/gnu/java/locale/LocaleInformation_pt.properties,
        resource/gnu/java/locale/LocaleInformation_sr.properties,
        resource/gnu/java/locale/LocaleInformation_sr_Latn.properties,
        resource/gnu/java/locale/LocaleInformation_sv.properties,
        resource/gnu/java/locale/LocaleInformation_sw.properties,
        resource/gnu/java/locale/LocaleInformation_ta.properties,
        resource/gnu/java/locale/LocaleInformation_uz_AF.properties,
        resource/gnu/java/locale/LocaleInformation_zh.properties,
        resource/gnu/java/locale/LocaleInformation_zh_Hant.properties:
        Regenerated with newer gnu.localegen to fix newline bug.

	2005-05-21  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * java/text/DateFormatSymbols.java:
        (getStringArray(java.util.ResourceBundle,String)):
        Fixed parsing of new property files.
        (getZoneStrings(java.util.ResourceBundle)):
        Likewise.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c
	(area_updated): Delete jpixels reference after use to avoid wasting references.
	

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-20  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/SetOverrideType.java (_ADD_OVERRIDE, _SET_OVERRIDE),
        org/omg/CORBA/CompletionStatus.java
        (_COMPLETED_YES, _COMPLETED_NO, _COMPLETED_MAYBE): Making public.
        * org/omg/CORBA/ValueMember.java: Inherit from
        org.omg.CORBA.portable.IDLEntity.

	2005-05-20  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/portable/ApplicationException.java,
        org/omg/CORBA/portable/RemarshalException.java:
        Adding serialVersionUID.
        *org/omg/CORBA/portable/OutputStream.java(write_Context):
        Making concrete.
        org/omg/CORBA/portable/ServantObject.java (servant):
        Fixing typo in the field name.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-19  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * java/net/URI.java:
        Added more documentation.
        (RFC2396_MARK): Removed.
        (RFC2396_UNRESERVED): Changed to RFC3986_UNRESERVED and updated.
        (RFC2396_REG_NAME): Changed to RFC3986_REG_NAME and updated.
        (RFC2396_PCHAR): Changed to RFC3986_PCHAR and updated.
        (RFC2396_SEGMENT): Changed to RFC3986_SEGMENT and updated.
        (RFC2396_PATH_SEGMENTS): Changed to RFC3986_PATH_SEGMENTS.
        (RFC3986_UNRESERVED): New field.
        (RFC3986_SSP): New field.
        (RFC3986_HOST): New field.
        (RFC3986_USERINFO): New field.
        (static): New initializer to initialize patterns with class.
        (parseURI()): Moved authority parsing to parseServerAuthority().
        (unquote(String)): Removed invalid exception for non-ASCII chars.
        (quote(String)): Implemented.
        (quoteAuthority(String)): Adapted to use new fields.
        (quote(String,String)): Moved escaping of characters to another
        method.
        (quoteHost(String)): Implemented.
        (quotePath(String)): Adapted to use new fields.
        (quoteUserInfo(String)): Implemented.
        (parseServerAuthority()): Implemented.
        (normalize()): Implemented.
        (normalizePath(String)): Implemented as part of normalize().
        (removeLastSegment(StringBuffer)): Likewise.
        (relativize(java.net.URI)): Implemented.
        (equals(Object)): Implemented.
        (hashCode()): Implemented.
        (compareTo(Object)): Implemented.
        (compareFragments(java.net.URI)): Implemented.
        (toString()): Use fields directly.
        (toASCIIString()): Implemented.
        (escapeCharacters(String)): Implemented to escape non-ASCII characters.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/DefaultKeyboardFocusManager.java:
        Documentation fixes.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/JTextComponent.java
        (CaretBlinkTimer): Added inner class to make caret blinking.
        (constructor): Create one instance of CaretBlinkTimer.
        (setEditable): Switch caret on and off depending on the editable
        property.
        (setCare): Register caret with the CaretBlinkTimer.
        * javax/swing/text/DefaultCaret.java:
        Set a good blink rate of 500ms.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JEditorPane.java:
        (processComponentKeyEvent): Removed this method. This blocks
        key events from beeing delivered and is not in the API.
        (processKeyEvent): Removed this method. This blocks
        key events from beeing delivered and is not in the API.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/DefaultKeyboardFocusManager.java
        (processKeyEvent): Properly swallow KEY_TYPED events after
        a KEY_PRESSED event for a focusTraversalKey has been received.
        Otherwise the focusTraversalKey (e.g. a TAB) would end up
        beeing delivered to the focused component.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (dispatchEventImpl): Let MouseEvents trigger a focus change
        on lightweight components.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextField.java
        (constructor): Set default value for the horizontalAlignment
        property.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        (setButtonIcons): Added checks for null references.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JProgressBar.java
        (paintBorder): Check if border is null before trying to paint it.
        * javax/swing/plaf/basic/BasicProgressBarUI.java
        (paint): Don't paint the border here. This would lead to the border
        beeing painted twice.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (convertPoint): Check for visibility of source and destination
        before calling convertPointToScreen or convertPointFromScreen.

	2005-05-20  Robert Schuster  <thebohemian@gmx.net>

        * javax/swing/SizeRequirements.java: Removed two non-UTF8 chars.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java
        (constructors): Implemented.
        (getTiledSizeRequirements): Implemented.
        (calculateTiledPositions): Implemented.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java:
        Added API documentation for this class.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java:
        Reformatted file to meet our coding standards.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (getUIInputMap): Return the InputMap that has been set by
        the UI of the component, not the component's own InputMap.
        (getUIActionMap): Return the ActionMap that has been set by
        the UI of the component, not the component's own ActionMap.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/FocusManager.java:
        Reformatted this file to match our coding standard.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/BasicFileChooserUI.java:
        (installComponents): Include parents ComboBox. This has been
        commented out because ComboBox was broken (see previous entry).

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalComboBoxUI.java
        (createUI): Do not share instances of this UI class between
        different JComboBoxes.

	2005-05-19  Kim Ho  <kho@luxsci.net>

        * javax/swing/DefaultComboBoxModel.java:
        (addElement): Set index to be the element of the added item.
        (removeAllElements): Clear before retrieving new size. Use
        correct size.
        * javax/swing/JFileChooser.java: Implemented.
        * javax/swing/filechooser/FileSystemView.java: Implemented.
        * javax/swing/filechooser/UnixFileSystemView.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicComboBoxUI.java:
        (intervalAdded): Set initial index to start.
        * javax/swing/plaf/basic/BasicDirectoryModel.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicFileChooserUI.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicLookAndFeel.java: Add FileChooserUI.
        Commented out GIF properties for FileChooser stuff.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-19  Michael Koch  <konqueror@gmx.de>

        * java/text/DateFormatSymbols.java
        (getStringArray): New method.
        (getZoneStrings): Likewise.
        (DateFormatSymbols): Load symbols from properties files.
        * java/util/Locale.java
        (getDisplayLanguage): Handle new way to load language names.
        (getDisplayCountry): Handle new way to load territory names.
        (getDisplayVariant): Handle new way to load variant names.
        * LICENSE: Added license of locale data properties files.

	2005-05-19  Michael Koch  <konqueror@gmx.de>

        * resource/gnu/java/locale/LocaleInformation_aa_DJ.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ER.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ER_SAAHO.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ET.properties,
        resource/gnu/java/locale/LocaleInformation_aa.properties,
        resource/gnu/java/locale/LocaleInformation_af.properties,
        resource/gnu/java/locale/LocaleInformation_af_ZA.properties,
        resource/gnu/java/locale/LocaleInformation_am_ET.properties,
        resource/gnu/java/locale/LocaleInformation_am.properties,
        resource/gnu/java/locale/LocaleInformation_ar_DZ.properties,
        resource/gnu/java/locale/LocaleInformation_ar_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ar_IQ.properties,
        resource/gnu/java/locale/LocaleInformation_ar_JO.properties,
        resource/gnu/java/locale/LocaleInformation_ar_KW.properties,
        resource/gnu/java/locale/LocaleInformation_ar_LB.properties,
        resource/gnu/java/locale/LocaleInformation_ar_LY.properties,
        resource/gnu/java/locale/LocaleInformation_ar_MA.properties,
        resource/gnu/java/locale/LocaleInformation_ar.properties,
        resource/gnu/java/locale/LocaleInformation_ar_QA.properties,
        resource/gnu/java/locale/LocaleInformation_ar_SA.properties,
        resource/gnu/java/locale/LocaleInformation_ar_SY.properties,
        resource/gnu/java/locale/LocaleInformation_ar_TN.properties,
        resource/gnu/java/locale/LocaleInformation_ar_YE.properties,
        resource/gnu/java/locale/LocaleInformation_as_IN.properties,
        resource/gnu/java/locale/LocaleInformation_as.properties,
        resource/gnu/java/locale/LocaleInformation_az_Cyrl.properties,
        resource/gnu/java/locale/LocaleInformation_be_BY.properties,
        resource/gnu/java/locale/LocaleInformation_be.properties,
        resource/gnu/java/locale/LocaleInformation_bg_BG.properties,
        resource/gnu/java/locale/LocaleInformation_bg.properties,
        resource/gnu/java/locale/LocaleInformation_bn_IN.properties,
        resource/gnu/java/locale/LocaleInformation_bn.properties,
        resource/gnu/java/locale/LocaleInformation_ca_ES.properties,
        resource/gnu/java/locale/LocaleInformation_ca.properties,
        resource/gnu/java/locale/LocaleInformation_cs_CZ.properties,
        resource/gnu/java/locale/LocaleInformation_cs.properties,
        resource/gnu/java/locale/LocaleInformation_cy_GB.properties,
        resource/gnu/java/locale/LocaleInformation_cy.properties,
        resource/gnu/java/locale/LocaleInformation_da_DK.properties,
        resource/gnu/java/locale/LocaleInformation_da.properties,
        resource/gnu/java/locale/LocaleInformation_de_AT.properties,
        resource/gnu/java/locale/LocaleInformation_de_BE.properties,
        resource/gnu/java/locale/LocaleInformation_de_CH.properties,
        resource/gnu/java/locale/LocaleInformation_de_DE.properties,
        resource/gnu/java/locale/LocaleInformation_de_LI.properties,
        resource/gnu/java/locale/LocaleInformation_de_LU.properties,
        resource/gnu/java/locale/LocaleInformation_de.properties,
        resource/gnu/java/locale/LocaleInformation_dv_MV.properties,
        resource/gnu/java/locale/LocaleInformation_dv.properties,
        resource/gnu/java/locale/LocaleInformation_dz_BT.properties,
        resource/gnu/java/locale/LocaleInformation_dz.properties,
        resource/gnu/java/locale/LocaleInformation_el_GR.properties,
        resource/gnu/java/locale/LocaleInformation_el.properties,
        resource/gnu/java/locale/LocaleInformation_en_AS.properties,
        resource/gnu/java/locale/LocaleInformation_en_AU.properties,
        resource/gnu/java/locale/LocaleInformation_en_BE.properties,
        resource/gnu/java/locale/LocaleInformation_en_BW.properties,
        resource/gnu/java/locale/LocaleInformation_en_BZ.properties,
        resource/gnu/java/locale/LocaleInformation_en_CA.properties,
        resource/gnu/java/locale/LocaleInformation_en_GB.properties,
        resource/gnu/java/locale/LocaleInformation_en_GU.properties,
        resource/gnu/java/locale/LocaleInformation_en_HK.properties,
        resource/gnu/java/locale/LocaleInformation_en_IE.properties,
        resource/gnu/java/locale/LocaleInformation_en_IN.properties,
        resource/gnu/java/locale/LocaleInformation_en_MH.properties,
        resource/gnu/java/locale/LocaleInformation_en_MP.properties,
        resource/gnu/java/locale/LocaleInformation_en_MT.properties,
        resource/gnu/java/locale/LocaleInformation_en_NZ.properties,
        resource/gnu/java/locale/LocaleInformation_en_PH.properties,
        resource/gnu/java/locale/LocaleInformation_en_PK.properties,
        resource/gnu/java/locale/LocaleInformation_en.properties,
        resource/gnu/java/locale/LocaleInformation_en_SG.properties,
        resource/gnu/java/locale/LocaleInformation_en_UM.properties,
        resource/gnu/java/locale/LocaleInformation_en_US_POSIX.properties,
        resource/gnu/java/locale/LocaleInformation_en_US.properties,
        resource/gnu/java/locale/LocaleInformation_en_VI.properties,
        resource/gnu/java/locale/LocaleInformation_en_ZA.properties,
        resource/gnu/java/locale/LocaleInformation_en_ZW.properties,
        resource/gnu/java/locale/LocaleInformation_eo.properties,
        resource/gnu/java/locale/LocaleInformation_es_AR.properties,
        resource/gnu/java/locale/LocaleInformation_es_BO.properties,
        resource/gnu/java/locale/LocaleInformation_es_CL.properties,
        resource/gnu/java/locale/LocaleInformation_es_CO.properties,
        resource/gnu/java/locale/LocaleInformation_es_CR.properties,
        resource/gnu/java/locale/LocaleInformation_es_DO.properties,
        resource/gnu/java/locale/LocaleInformation_es_EC.properties,
        resource/gnu/java/locale/LocaleInformation_es_ES.properties,
        resource/gnu/java/locale/LocaleInformation_es_GT.properties,
        resource/gnu/java/locale/LocaleInformation_es_HN.properties,
        resource/gnu/java/locale/LocaleInformation_es_MX.properties,
        resource/gnu/java/locale/LocaleInformation_es_NI.properties,
        resource/gnu/java/locale/LocaleInformation_es_PA.properties,
        resource/gnu/java/locale/LocaleInformation_es_PE.properties,
        resource/gnu/java/locale/LocaleInformation_es.properties,
        resource/gnu/java/locale/LocaleInformation_es_PR.properties,
        resource/gnu/java/locale/LocaleInformation_es_PY.properties,
        resource/gnu/java/locale/LocaleInformation_es_SV.properties,
        resource/gnu/java/locale/LocaleInformation_es_US.properties,
        resource/gnu/java/locale/LocaleInformation_es_UY.properties,
        resource/gnu/java/locale/LocaleInformation_es_VE.properties,
        resource/gnu/java/locale/LocaleInformation_et_EE.properties,
        resource/gnu/java/locale/LocaleInformation_et.properties,
        resource/gnu/java/locale/LocaleInformation_eu_ES.properties,
        resource/gnu/java/locale/LocaleInformation_eu.properties,
        resource/gnu/java/locale/LocaleInformation_fa_AF.properties,
        resource/gnu/java/locale/LocaleInformation_fa_IR.properties,
        resource/gnu/java/locale/LocaleInformation_fa.properties,
        resource/gnu/java/locale/LocaleInformation_fi_FI.properties,
        resource/gnu/java/locale/LocaleInformation_fi.properties,
        resource/gnu/java/locale/LocaleInformation_fo_FO.properties,
        resource/gnu/java/locale/LocaleInformation_fo.properties,
        resource/gnu/java/locale/LocaleInformation_fr_BE.properties,
        resource/gnu/java/locale/LocaleInformation_fr_CA.properties,
        resource/gnu/java/locale/LocaleInformation_fr_CH.properties,
        resource/gnu/java/locale/LocaleInformation_fr_LU.properties,
        resource/gnu/java/locale/LocaleInformation_fr.properties,
        resource/gnu/java/locale/LocaleInformation_ga_IE.properties,
        resource/gnu/java/locale/LocaleInformation_ga.properties,
        resource/gnu/java/locale/LocaleInformation_gl_ES.properties,
        resource/gnu/java/locale/LocaleInformation_gl.properties,
        resource/gnu/java/locale/LocaleInformation_gu_IN.properties,
        resource/gnu/java/locale/LocaleInformation_gu.properties,
        resource/gnu/java/locale/LocaleInformation_gv_GB.properties,
        resource/gnu/java/locale/LocaleInformation_gv.properties,
        resource/gnu/java/locale/LocaleInformation_he_IL.properties,
        resource/gnu/java/locale/LocaleInformation_he.properties,
        resource/gnu/java/locale/LocaleInformation_hi_IN.properties,
        resource/gnu/java/locale/LocaleInformation_hi.properties,
        resource/gnu/java/locale/LocaleInformation_hr.properties,
        resource/gnu/java/locale/LocaleInformation_hu_HU.properties,
        resource/gnu/java/locale/LocaleInformation_hu.properties,
        resource/gnu/java/locale/LocaleInformation_hy_AM.properties,
        resource/gnu/java/locale/LocaleInformation_hy_AM_REVISED.properties,
        resource/gnu/java/locale/LocaleInformation_hy.properties,
        resource/gnu/java/locale/LocaleInformation_id_ID.properties,
        resource/gnu/java/locale/LocaleInformation_id.properties,
        resource/gnu/java/locale/LocaleInformation_is_IS.properties,
        resource/gnu/java/locale/LocaleInformation_is.properties,
        resource/gnu/java/locale/LocaleInformation_it_CH.properties,
        resource/gnu/java/locale/LocaleInformation_it_IT.properties,
        resource/gnu/java/locale/LocaleInformation_it.properties,
        resource/gnu/java/locale/LocaleInformation_iu.properties,
        resource/gnu/java/locale/LocaleInformation_ja_JP.properties,
        resource/gnu/java/locale/LocaleInformation_ja.properties,
        resource/gnu/java/locale/LocaleInformation_ka.properties,
        resource/gnu/java/locale/LocaleInformation_kk_KZ.properties,
        resource/gnu/java/locale/LocaleInformation_kk.properties,
        resource/gnu/java/locale/LocaleInformation_kl_GL.properties,
        resource/gnu/java/locale/LocaleInformation_kl.properties,
        resource/gnu/java/locale/LocaleInformation_km_KH.properties,
        resource/gnu/java/locale/LocaleInformation_km.properties,
        resource/gnu/java/locale/LocaleInformation_kn_IN.properties,
        resource/gnu/java/locale/LocaleInformation_kn.properties,
        resource/gnu/java/locale/LocaleInformation_ko_KR.properties,
        resource/gnu/java/locale/LocaleInformation_ko.properties,
        resource/gnu/java/locale/LocaleInformation_kw_GB.properties,
        resource/gnu/java/locale/LocaleInformation_kw.properties,
        resource/gnu/java/locale/LocaleInformation_ky.properties,
        resource/gnu/java/locale/LocaleInformation_lo_LA.properties,
        resource/gnu/java/locale/LocaleInformation_lo.properties,
        resource/gnu/java/locale/LocaleInformation_lt_LT.properties,
        resource/gnu/java/locale/LocaleInformation_lt.properties,
        resource/gnu/java/locale/LocaleInformation_lv_LV.properties,
        resource/gnu/java/locale/LocaleInformation_lv.properties,
        resource/gnu/java/locale/LocaleInformation_mk.properties,
        resource/gnu/java/locale/LocaleInformation_ml_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ml.properties,
        resource/gnu/java/locale/LocaleInformation_mn_MN.properties,
        resource/gnu/java/locale/LocaleInformation_mn.properties,
        resource/gnu/java/locale/LocaleInformation_mr_IN.properties,
        resource/gnu/java/locale/LocaleInformation_mr.properties,
        resource/gnu/java/locale/LocaleInformation_ms_BN.properties,
        resource/gnu/java/locale/LocaleInformation_ms_MY.properties,
        resource/gnu/java/locale/LocaleInformation_ms.properties,
        resource/gnu/java/locale/LocaleInformation_mt_MT.properties,
        resource/gnu/java/locale/LocaleInformation_mt.properties,
        resource/gnu/java/locale/LocaleInformation_nb_NO.properties,
        resource/gnu/java/locale/LocaleInformation_nb.properties,
        resource/gnu/java/locale/LocaleInformation_nl_BE.properties,
        resource/gnu/java/locale/LocaleInformation_nl_NL.properties,
        resource/gnu/java/locale/LocaleInformation_nl.properties,
        resource/gnu/java/locale/LocaleInformation_nn_NO.properties,
        resource/gnu/java/locale/LocaleInformation_nn.properties,
        resource/gnu/java/locale/LocaleInformation_om_ET.properties,
        resource/gnu/java/locale/LocaleInformation_om_KE.properties,
        resource/gnu/java/locale/LocaleInformation_om.properties,
        resource/gnu/java/locale/LocaleInformation_or_IN.properties,
        resource/gnu/java/locale/LocaleInformation_or.properties,
        resource/gnu/java/locale/LocaleInformation_pa_IN.properties,
        resource/gnu/java/locale/LocaleInformation_pa.properties,
        resource/gnu/java/locale/LocaleInformation_pl_PL.properties,
        resource/gnu/java/locale/LocaleInformation_pl.properties,
        resource/gnu/java/locale/LocaleInformation.properties,
        resource/gnu/java/locale/LocaleInformation_ps_AF.properties,
        resource/gnu/java/locale/LocaleInformation_ps.properties,
        resource/gnu/java/locale/LocaleInformation_pt_BR.properties,
        resource/gnu/java/locale/LocaleInformation_pt.properties,
        resource/gnu/java/locale/LocaleInformation_pt_PT.properties,
        resource/gnu/java/locale/LocaleInformation_ro.properties,
        resource/gnu/java/locale/LocaleInformation_ro_RO.properties,
        resource/gnu/java/locale/LocaleInformation_ru.properties,
        resource/gnu/java/locale/LocaleInformation_ru_RU.properties,
        resource/gnu/java/locale/LocaleInformation_ru_UA.properties,
        resource/gnu/java/locale/LocaleInformation_sa_IN.properties,
        resource/gnu/java/locale/LocaleInformation_sa.properties,
        resource/gnu/java/locale/LocaleInformation_sk.properties,
        resource/gnu/java/locale/LocaleInformation_sk_SK.properties,
        resource/gnu/java/locale/LocaleInformation_sl.properties,
        resource/gnu/java/locale/LocaleInformation_so_DJ.properties,
        resource/gnu/java/locale/LocaleInformation_so_ET.properties,
        resource/gnu/java/locale/LocaleInformation_so_KE.properties,
        resource/gnu/java/locale/LocaleInformation_so.properties,
        resource/gnu/java/locale/LocaleInformation_so_SO.properties,
        resource/gnu/java/locale/LocaleInformation_sq_AL.properties,
        resource/gnu/java/locale/LocaleInformation_sq.properties,
        resource/gnu/java/locale/LocaleInformation_sr_Latn.properties,
        resource/gnu/java/locale/LocaleInformation_sr.properties,
        resource/gnu/java/locale/LocaleInformation_sv_FI.properties,
        resource/gnu/java/locale/LocaleInformation_sv.properties,
        resource/gnu/java/locale/LocaleInformation_sv_SE.properties,
        resource/gnu/java/locale/LocaleInformation_sw_KE.properties,
        resource/gnu/java/locale/LocaleInformation_sw.properties,
        resource/gnu/java/locale/LocaleInformation_sw_TZ.properties,
        resource/gnu/java/locale/LocaleInformation_ta_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ta.properties,
        resource/gnu/java/locale/LocaleInformation_te_IN.properties,
        resource/gnu/java/locale/LocaleInformation_te.properties,
        resource/gnu/java/locale/LocaleInformation_th.properties,
        resource/gnu/java/locale/LocaleInformation_th_TH.properties,
        resource/gnu/java/locale/LocaleInformation_ti_ER.properties,
        resource/gnu/java/locale/LocaleInformation_ti_ET.properties,
        resource/gnu/java/locale/LocaleInformation_ti.properties,
        resource/gnu/java/locale/LocaleInformation_tr.properties,
        resource/gnu/java/locale/LocaleInformation_tr_TR.properties,
        resource/gnu/java/locale/LocaleInformation_tt.properties,
        resource/gnu/java/locale/LocaleInformation_tt_RU.properties,
        resource/gnu/java/locale/LocaleInformation_uk.properties,
        resource/gnu/java/locale/LocaleInformation_uk_UA.properties,
        resource/gnu/java/locale/LocaleInformation_ur.properties,
        resource/gnu/java/locale/LocaleInformation_uz_AF.properties,
        resource/gnu/java/locale/LocaleInformation_uz.properties,
        resource/gnu/java/locale/LocaleInformation_vi.properties,
        resource/gnu/java/locale/LocaleInformation_zh_CN_Hans.properties,
        resource/gnu/java/locale/LocaleInformation_zh_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh_HK_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh_MO_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh.properties,
        resource/gnu/java/locale/LocaleInformation_zh_SG_Hans.properties,
        resource/gnu/java/locale/LocaleInformation_zh_TW_Hant.properties:
        New files.
        * gnu/java/locale/LocaleInformation_aa_DJ.java,
        gnu/java/locale/LocaleInformation_aa_ER.java,
        gnu/java/locale/LocaleInformation_aa_ER_SAAHO.java,
        gnu/java/locale/LocaleInformation_aa_ET.java,
        gnu/java/locale/LocaleInformation_aa.java,
        gnu/java/locale/LocaleInformation_af.java,
        gnu/java/locale/LocaleInformation_af_ZA.java,
        gnu/java/locale/LocaleInformation_am_ET.java,
        gnu/java/locale/LocaleInformation_am.java,
        gnu/java/locale/LocaleInformation_ar_DZ.java,
        gnu/java/locale/LocaleInformation_ar_IN.java,
        gnu/java/locale/LocaleInformation_ar_IQ.java,
        gnu/java/locale/LocaleInformation_ar.java,
        gnu/java/locale/LocaleInformation_ar_JO.java,
        gnu/java/locale/LocaleInformation_ar_KW.java,
        gnu/java/locale/LocaleInformation_ar_LB.java,
        gnu/java/locale/LocaleInformation_ar_LY.java,
        gnu/java/locale/LocaleInformation_ar_MA.java,
        gnu/java/locale/LocaleInformation_ar_QA.java,
        gnu/java/locale/LocaleInformation_ar_SA.java,
        gnu/java/locale/LocaleInformation_ar_SY.java,
        gnu/java/locale/LocaleInformation_ar_TN.java,
        gnu/java/locale/LocaleInformation_ar_YE.java,
        gnu/java/locale/LocaleInformation_as_IN.java,
        gnu/java/locale/LocaleInformation_as.java,
        gnu/java/locale/LocaleInformation_az_Cyrl.java,
        gnu/java/locale/LocaleInformation_az.java,
        gnu/java/locale/LocaleInformation_be_BY.java,
        gnu/java/locale/LocaleInformation_be.java,
        gnu/java/locale/LocaleInformation_bg_BG.java,
        gnu/java/locale/LocaleInformation_bg.java,
        gnu/java/locale/LocaleInformation_bn_IN.java,
        gnu/java/locale/LocaleInformation_bn.java,
        gnu/java/locale/LocaleInformation_br_FR.java,
        gnu/java/locale/LocaleInformation_bs_BA.java,
        gnu/java/locale/LocaleInformation_byn_ER.java,
        gnu/java/locale/LocaleInformation_byn.java,
        gnu/java/locale/LocaleInformation_ca_ES.java,
        gnu/java/locale/LocaleInformation_ca.java,
        gnu/java/locale/LocaleInformation_cs_CZ.java,
        gnu/java/locale/LocaleInformation_cs.java,
        gnu/java/locale/LocaleInformation_cy_GB.java,
        gnu/java/locale/LocaleInformation_cy.java,
        gnu/java/locale/LocaleInformation_da_DK.java,
        gnu/java/locale/LocaleInformation_da.java,
        gnu/java/locale/LocaleInformation_de_AT.java,
        gnu/java/locale/LocaleInformation_de_BE.java,
        gnu/java/locale/LocaleInformation_de_CH.java,
        gnu/java/locale/LocaleInformation_de_DE.java,
        gnu/java/locale/LocaleInformation_de.java,
        gnu/java/locale/LocaleInformation_de_LI.java,
        gnu/java/locale/LocaleInformation_de_LU.java,
        gnu/java/locale/LocaleInformation_dv.java,
        gnu/java/locale/LocaleInformation_dv_MV.java,
        gnu/java/locale/LocaleInformation_dz_BT.java,
        gnu/java/locale/LocaleInformation_dz.java,
        gnu/java/locale/LocaleInformation_el_GR.java,
        gnu/java/locale/LocaleInformation_el.java,
        gnu/java/locale/LocaleInformation_en_AS.java,
        gnu/java/locale/LocaleInformation_en_AU.java,
        gnu/java/locale/LocaleInformation_en_BE.java,
        gnu/java/locale/LocaleInformation_en_BW.java,
        gnu/java/locale/LocaleInformation_en_BZ.java,
        gnu/java/locale/LocaleInformation_en_CA.java,
        gnu/java/locale/LocaleInformation_en_DK.java,
        gnu/java/locale/LocaleInformation_en_GB.java,
        gnu/java/locale/LocaleInformation_en_GU.java,
        gnu/java/locale/LocaleInformation_en_HK.java,
        gnu/java/locale/LocaleInformation_en_IE.java,
        gnu/java/locale/LocaleInformation_en_IN.java,
        gnu/java/locale/LocaleInformation_en.java,
        gnu/java/locale/LocaleInformation_en_MH.java,
        gnu/java/locale/LocaleInformation_en_MP.java,
        gnu/java/locale/LocaleInformation_en_MT.java,
        gnu/java/locale/LocaleInformation_en_NZ.java,
        gnu/java/locale/LocaleInformation_en_PH.java,
        gnu/java/locale/LocaleInformation_en_PK.java,
        gnu/java/locale/LocaleInformation_en_SG.java,
        gnu/java/locale/LocaleInformation_en_UM.java,
        gnu/java/locale/LocaleInformation_en_US.java,
        gnu/java/locale/LocaleInformation_en_US_POSIX.java,
        gnu/java/locale/LocaleInformation_en_VI.java,
        gnu/java/locale/LocaleInformation_en_ZA.java,
        gnu/java/locale/LocaleInformation_en_ZW.java,
        gnu/java/locale/LocaleInformation_eo.java,
        gnu/java/locale/LocaleInformation_es_AR.java,
        gnu/java/locale/LocaleInformation_es_BO.java,
        gnu/java/locale/LocaleInformation_es_CL.java,
        gnu/java/locale/LocaleInformation_es_CO.java,
        gnu/java/locale/LocaleInformation_es_CR.java,
        gnu/java/locale/LocaleInformation_es_DO.java,
        gnu/java/locale/LocaleInformation_es_EC.java,
        gnu/java/locale/LocaleInformation_es_ES.java,
        gnu/java/locale/LocaleInformation_es_GT.java,
        gnu/java/locale/LocaleInformation_es_HN.java,
        gnu/java/locale/LocaleInformation_es.java,
        gnu/java/locale/LocaleInformation_es_MX.java,
        gnu/java/locale/LocaleInformation_es_NI.java,
        gnu/java/locale/LocaleInformation_es_PA.java,
        gnu/java/locale/LocaleInformation_es_PE.java,
        gnu/java/locale/LocaleInformation_es_PR.java,
        gnu/java/locale/LocaleInformation_es_PY.java,
        gnu/java/locale/LocaleInformation_es_SV.java,
        gnu/java/locale/LocaleInformation_es_US.java,
        gnu/java/locale/LocaleInformation_es_UY.java,
        gnu/java/locale/LocaleInformation_es_VE.java,
        gnu/java/locale/LocaleInformation_et_EE.java,
        gnu/java/locale/LocaleInformation_et.java,
        gnu/java/locale/LocaleInformation_eu_ES.java,
        gnu/java/locale/LocaleInformation_eu.java,
        gnu/java/locale/LocaleInformation_fa_AF.java,
        gnu/java/locale/LocaleInformation_fa_IR.java,
        gnu/java/locale/LocaleInformation_fa.java,
        gnu/java/locale/LocaleInformation_fi_FI.java,
        gnu/java/locale/LocaleInformation_fi.java,
        gnu/java/locale/LocaleInformation_fo_FO.java,
        gnu/java/locale/LocaleInformation_fo.java,
        gnu/java/locale/LocaleInformation_fr_BE.java,
        gnu/java/locale/LocaleInformation_fr_CA.java,
        gnu/java/locale/LocaleInformation_fr_CH.java,
        gnu/java/locale/LocaleInformation_fr.java,
        gnu/java/locale/LocaleInformation_fr_LU.java,
        gnu/java/locale/LocaleInformation_ga_IE.java,
        gnu/java/locale/LocaleInformation_ga.java,
        gnu/java/locale/LocaleInformation_gez_ER.java,
        gnu/java/locale/LocaleInformation_gez_ET.java,
        gnu/java/locale/LocaleInformation_gez.java,
        gnu/java/locale/LocaleInformation_gl_ES.java,
        gnu/java/locale/LocaleInformation_gl.java,
        gnu/java/locale/LocaleInformation_gu_IN.java,
        gnu/java/locale/LocaleInformation_gu.java,
        gnu/java/locale/LocaleInformation_gv_GB.java,
        gnu/java/locale/LocaleInformation_gv.java,
        gnu/java/locale/LocaleInformation_haw.java,
        gnu/java/locale/LocaleInformation_haw_US.java,
        gnu/java/locale/LocaleInformation_he_IL.java,
        gnu/java/locale/LocaleInformation_he.java,
        gnu/java/locale/LocaleInformation_hi_IN.java,
        gnu/java/locale/LocaleInformation_hi.java,
        gnu/java/locale/LocaleInformation_hr.java,
        gnu/java/locale/LocaleInformation_hu_HU.java,
        gnu/java/locale/LocaleInformation_hu.java,
        gnu/java/locale/LocaleInformation_hy_AM.java,
        gnu/java/locale/LocaleInformation_hy_AM_REVISED.java,
        gnu/java/locale/LocaleInformation_hy.java,
        gnu/java/locale/LocaleInformation_id_ID.java,
        gnu/java/locale/LocaleInformation_id.java,
        gnu/java/locale/LocaleInformation_is_IS.java,
        gnu/java/locale/LocaleInformation_is.java,
        gnu/java/locale/LocaleInformation_it_CH.java,
        gnu/java/locale/LocaleInformation_it_IT.java,
        gnu/java/locale/LocaleInformation_it.java,
        gnu/java/locale/LocaleInformation_iu.java,
        gnu/java/locale/LocaleInformation_iw_IL.java,
        gnu/java/locale/LocaleInformation_ja.java,
        gnu/java/locale/LocaleInformation_ja_JP.java,
        gnu/java/locale/LocaleInformation.java,
        gnu/java/locale/LocaleInformation_ka.java,
        gnu/java/locale/LocaleInformation_kk.java,
        gnu/java/locale/LocaleInformation_kk_KZ.java,
        gnu/java/locale/LocaleInformation_kl_GL.java,
        gnu/java/locale/LocaleInformation_kl.java,
        gnu/java/locale/LocaleInformation_km.java,
        gnu/java/locale/LocaleInformation_km_KH.java,
        gnu/java/locale/LocaleInformation_kn_IN.java,
        gnu/java/locale/LocaleInformation_kn.java,
        gnu/java/locale/LocaleInformation_ko.java,
        gnu/java/locale/LocaleInformation_kok_IN.java,
        gnu/java/locale/LocaleInformation_kok.java,
        gnu/java/locale/LocaleInformation_ko_KR.java,
        gnu/java/locale/LocaleInformation_kw_GB.java,
        gnu/java/locale/LocaleInformation_kw.java,
        gnu/java/locale/LocaleInformation_ky.java,
        gnu/java/locale/LocaleInformation_lo.java,
        gnu/java/locale/LocaleInformation_lo_LA.java,
        gnu/java/locale/LocaleInformation_lt.java,
        gnu/java/locale/LocaleInformation_lt_LT.java,
        gnu/java/locale/LocaleInformation_lv.java,
        gnu/java/locale/LocaleInformation_lv_LV.java,
        gnu/java/locale/LocaleInformation_mk.java,
        gnu/java/locale/LocaleInformation_ml_IN.java,
        gnu/java/locale/LocaleInformation_ml.java,
        gnu/java/locale/LocaleInformation_mn.java,
        gnu/java/locale/LocaleInformation_mn_MN.java,
        gnu/java/locale/LocaleInformation_mr_IN.java,
        gnu/java/locale/LocaleInformation_mr.java,
        gnu/java/locale/LocaleInformation_ms_BN.java,
        gnu/java/locale/LocaleInformation_ms.java,
        gnu/java/locale/LocaleInformation_ms_MY.java,
        gnu/java/locale/LocaleInformation_mt.java,
        gnu/java/locale/LocaleInformation_mt_MT.java,
        gnu/java/locale/LocaleInformation_nb.java,
        gnu/java/locale/LocaleInformation_nb_NO.java,
        gnu/java/locale/LocaleInformation_nl_BE.java,
        gnu/java/locale/LocaleInformation_nl.java,
        gnu/java/locale/LocaleInformation_nl_NL.java,
        gnu/java/locale/LocaleInformation_nn.java,
        gnu/java/locale/LocaleInformation_nn_NO.java,
        gnu/java/locale/LocaleInformation_no_NO.java,
        gnu/java/locale/LocaleInformation_oc_FR.java,
        gnu/java/locale/LocaleInformation_om_ET.java,
        gnu/java/locale/LocaleInformation_om.java,
        gnu/java/locale/LocaleInformation_om_KE.java,
        gnu/java/locale/LocaleInformation_or_IN.java,
        gnu/java/locale/LocaleInformation_or.java,
        gnu/java/locale/LocaleInformation_pa_IN.java,
        gnu/java/locale/LocaleInformation_pa.java,
        gnu/java/locale/LocaleInformation_pl.java,
        gnu/java/locale/LocaleInformation_pl_PL.java,
        gnu/java/locale/LocaleInformation_ps_AF.java,
        gnu/java/locale/LocaleInformation_ps.java,
        gnu/java/locale/LocaleInformation_pt_BR.java,
        gnu/java/locale/LocaleInformation_pt.java,
        gnu/java/locale/LocaleInformation_pt_PT.java,
        gnu/java/locale/LocaleInformation_ro.java,
        gnu/java/locale/LocaleInformation_ro_RO.java,
        gnu/java/locale/LocaleInformation_ru.java,
        gnu/java/locale/LocaleInformation_ru_RU.java,
        gnu/java/locale/LocaleInformation_ru_UA.java,
        gnu/java/locale/LocaleInformation_sa_IN.java,
        gnu/java/locale/LocaleInformation_sa.java,
        gnu/java/locale/LocaleInformation_se_NO.java,
        gnu/java/locale/LocaleInformation_sid_ET.java,
        gnu/java/locale/LocaleInformation_sid.java,
        gnu/java/locale/LocaleInformation_sk.java,
        gnu/java/locale/LocaleInformation_sk_SK.java,
        gnu/java/locale/LocaleInformation_sl.java,
        gnu/java/locale/LocaleInformation_so_DJ.java,
        gnu/java/locale/LocaleInformation_so_ET.java,
        gnu/java/locale/LocaleInformation_so.java,
        gnu/java/locale/LocaleInformation_so_KE.java,
        gnu/java/locale/LocaleInformation_so_SO.java,
        gnu/java/locale/LocaleInformation_sq_AL.java,
        gnu/java/locale/LocaleInformation_sq.java,
        gnu/java/locale/LocaleInformation_sr.java,
        gnu/java/locale/LocaleInformation_sr_Latn.java,
        gnu/java/locale/LocaleInformation_sv_FI.java,
        gnu/java/locale/LocaleInformation_sv.java,
        gnu/java/locale/LocaleInformation_sv_SE.java,
        gnu/java/locale/LocaleInformation_sw.java,
        gnu/java/locale/LocaleInformation_sw_KE.java,
        gnu/java/locale/LocaleInformation_sw_TZ.java,
        gnu/java/locale/LocaleInformation_syr.java,
        gnu/java/locale/LocaleInformation_syr_SY.java,
        gnu/java/locale/LocaleInformation_ta_IN.java,
        gnu/java/locale/LocaleInformation_ta.java,
        gnu/java/locale/LocaleInformation_te_IN.java,
        gnu/java/locale/LocaleInformation_te.java,
        gnu/java/locale/LocaleInformation_tg_TJ.java,
        gnu/java/locale/LocaleInformation_th.java,
        gnu/java/locale/LocaleInformation_th_TH.java,
        gnu/java/locale/LocaleInformation_ti_ER.java,
        gnu/java/locale/LocaleInformation_ti_ET.java,
        gnu/java/locale/LocaleInformation_tig_ER.java,
        gnu/java/locale/LocaleInformation_tig.java,
        gnu/java/locale/LocaleInformation_ti.java,
        gnu/java/locale/LocaleInformation_tr.java,
        gnu/java/locale/LocaleInformation_tr_TR.java,
        gnu/java/locale/LocaleInformation_tt.java,
        gnu/java/locale/LocaleInformation_tt_RU.java,
        gnu/java/locale/LocaleInformation_uk.java,
        gnu/java/locale/LocaleInformation_uk_UA.java,
        gnu/java/locale/LocaleInformation_ur.java,
        gnu/java/locale/LocaleInformation_uz_AF.java,
        gnu/java/locale/LocaleInformation_uz.java,
        gnu/java/locale/LocaleInformation_vi.java,
        gnu/java/locale/LocaleInformation_wal_ET.java,
        gnu/java/locale/LocaleInformation_wal.java,
        gnu/java/locale/LocaleInformation_zh_CN_Hans.java,
        gnu/java/locale/LocaleInformation_zh_Hant.java,
        gnu/java/locale/LocaleInformation_zh_HK_Hant.java,
        gnu/java/locale/LocaleInformation_zh.java,
        gnu/java/locale/LocaleInformation_zh_MO_Hant.java,
        gnu/java/locale/LocaleInformation_zh_SG_Hans.java,
        gnu/java/locale/LocaleInformation_zh_TW_Hant.java:
        Removed.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* replace/Makefile.am:
	(libreplace_ls_LIBADD) Add LTLIBINTL to fix a build failure
	on darwin reported by the tinderbox.

2005-05-21  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c:
	Fix build fail for '--with-threads=unix-jthreads'.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	libraries/clib/classpath/Makefile.am,
	libraries/clib/fdlibm/Makefile.am,
	replace/Makefile.am:
	(AM_LDFLAGS) Add -module.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (DLOPEN_JAVA_LIBS): Added libclasspath and 
	libfdlibm.

	* kaffe/kaffe/Makefile.am (kaffe_bin_LDADD): Added 
	OPT_DLOPEN_JAVA_LIBS. Removed LIBLTDL.

	* libraries/clib/fdlibm/Makefile.am: Build as a shared library.
	(AM_LDFLAGS) Added options for shared library build.

2005-05-19  Davanum Srinivas <dims@yahoo.com>

	* libraries/clib/native/ZipFile.c
	(java_util_zip_ZipFile_getZipFileSize0) Fixed prototype.

2005-05-19  Supreet Sethi  <supreet@linux-delhi.org>

	* test/regression/compiler/Makefile.am: (InnerTest1_A.class 
	InnerTest1_B.class) Added missing inner classes.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/Math.c: Removed.

	* libraries/clib/native/java_lang_Math.c: Added.

	* libraries/javalib/java/lang/Math.java: Replaced by implementation
	from GNU Classpath.

	* libraries/clib/native/Makefile.am (LANG_SOURCES) Updated.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Window.java (createBufferStrategy): Remove unnecessary
        try-catch blocks.
        * java/awt/Canvas.java (createBufferStrategy): Likewise.

        * gnu/java/security/provider/DSASignature.java: Import updates
        from GNU Crypto.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* Makefile.am (EXTRA_DIST): removed libtool patches.

	* FAQ/FAQ.automake: Updated.

	* developers/autogen.sh: Don't apply libtool patches. Updated to
	libtool 1.5.18.

	* libltdl/Makefile.am,
	libltdl/Makefile.in,
	libltdl/acinclude.m4,
	libltdl/config.guess,
	libltdl/config.sub,
	libltdl/install-sh,
	libltdl/ltmain.sh,
	m4/libtool.m4,
	scripts/ltmain.sh: Updated from libtool 1.5.18.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* java/awt/Canvas.java, java/awt/Window.java:
	Fix not compiling code. :)

	Resynced with GNU Classpath.

	005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkVolatileImage.java: Fix imports.

	2005-05-18  Olga Rodimina  <rodimina@redhat.com>

        * javax/swing/MenuSelectionManager.java
        (processMouseEvent): Clear selected path if the mouse was released
        over non-menu component.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (Constructor): Removed initialization of mouseInputListener.
        (installListeners): Do not add mouseInputListener to this popup
        menu. Instead it will be added to the root container of the popup
        menu.
        (uninstallListeners): Remove code that removed mouseInputListener
        from popupMenu.
        (popupMenuWillBecomeInvisible): If this popup menu is the last
        menu on the screen, then stop interrupting mouse events through
        the glass pane.
        (popupMenuWillBecomeVisible): Add mouseInputListener to glass pane
        if it was not added before and make glass pane visible in order to
        interrupt mouse evevents.
        (MouseInputHandler): Close menu hierarchy if the mouse was clicked
        on non menu component.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JEditorPane.java
        (isManagingFocus): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JSeparator.java
        (isFocusTraversable): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (isFocusTraversable): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/ImageIcon.java
        (AccessibleImageIcon): Added inner class for Accessibility support
        in ImageIcon.
        (getAccessibleContext): Added method for accessibility support
        in ImageIcon.

	2005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GdkGraphicsConfiguration.java
        (createCompatibleVolatileImage(int,int)): Implement.
        (createCompatibleVolatileImage(int,int,ImageCapabilities)):
        Likewise.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (backBuffer, caps):
        New fields.
        (createVolatileImage): Implement.
        (createBuffers): Likewise.
        (getBackBuffer): Likewise.
        (flip): Likewise.
        (destroyBuffers): Likewise.
        * gnu/java/awt/peer/gtk/GtkVolatileImage.java: New file.
        * java/awt/Canvas.java (CanvasBltBufferStrategy): New class.
        (CanvasFlipBufferStrategy): Likewise.
        (createBufferStrategy(int)): New method.
        (createBufferStrategy(int,BufferCapabilities)): Likewise.
        * java/awt/Component.java (BltBufferStrategy): Implement and
        document class.
        (FlipBufferStrategy): Likewise.
        * java/awt/Window.java (WindowBltBufferStrategy): New class.
        (WindowFlipBufferStrategy): Likewise.
        (createBufferStrategy(int)): New method.
        (createBufferStrategy(int,BufferCapabilities)): Likewise.
        (getBufferStrategy): Likewise.
        * java/awt/BufferCapabilities.java (BufferCapabilities): Rename
        front to frontCaps and back to backCaps.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTable.java:
        (BooleanCellRenderer): Added default renderer for Boolean cell values.
        (DateCellRenderer): Added default renderer for Date cell values.
        (DoubleCellRenderer): Added default renderer for Double cell values.
        (FloatCellRenderer): Added default renderer for Float cell values.
        (NumberCellRenderer): Added default renderer for Number cell values.
        (IconCellRenderer): Added default renderer for Icon cell values.
        (createDefaultRenderers): Include new default renderers.
        (distributeSpill): Fix algorithm to do a nice layout, if still not
        beeing 100% perfect.
        (doLayout): Correctly calculate the spill variable.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * java/awt/Window.java
        (isShowing): A Window can be showing even if its parent is not
        showing.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * java/util/prefs/AbstractPreferences.java
        (flushNode): Changed toArray() call to toArray(new String[0]) call
        to avoid casting errors.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Sven de Marothy <sven@physto.se>

        * java/text/SimpleDateFormat.java
        (computeOffset): Allow timezone to be first in the parsed String.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * gnu/java/net/protocol/http/Headers.java (parse): Include final
        character of line.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/JTextComponent.java
        (constructor): Make text components editable by default.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/UIManager.java
        (toString): Added method.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (getUIInputMap): Added method.
        (getUIActionMap): Added method.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (constructor): Make component requestFocusEnabled by default.
        (requestFocusInWindow): Added method.

	2005-05-18  Sven de Marothy <sven@physto.se>

        * javax/swing/table/DefaultTableCellRenderer.java
        (getTableCellRendererComponent): Allow table parameter to be null.

	2005-05-17  Jan Roehrich  <jan@roehrich.info>

        * javax/swing/JTree.java
        (getExpandedDescendants): Added method.

	2005-05-17  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTree.java
        (TreeModelHandler): Added inner class.
        (TreeSelectionRedirector): Added inner class.
        (EmptySelectionModel): Added inner class.
        (DynamicUtilTreeNode.getChildAt): Added method.
        (constructor(model)): Sets up a model and a selection model.
        (setModel): Set up the JTree treeModelListener on newly set
        models.
        (createModelListener): Added method.
        (getDefaultTreeModel): Added method.
        (convertValueToText): Added method.
        (paramString): Added method.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/DynAny.java,
        org/omg/CORBA/DynArray.java,
        org/omg/CORBA/DynSequence.java,
        org/omg/CORBA/DynEnum.java,
        org/omg/CORBA/DynFixed.java,
        org/omg/CORBA/DynStruct.java,
        org/omg/CORBA/DynUnion.java: New interfaces.
        * org/omg/CORBA/NameValuePair.java,
        org/omg/CORBA/NameValuePairHelper.java,
        gnu/CORBA/DynAn/NameValuePairHolder.java:
        New classes.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/CurrentOperations.java,
        org/omg/CORBA/Current.java,
        org/omg/CORBA/PolicyError.java,
        org/omg/CORBA/NO_RESOURCES.java: New files.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/ValueMember: Inherit from Serializable and IDLEntity.
        * org/omg/CORBA/IDLType: Inherit from org.omg.CORBA.Object.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/portable/OutputStream.java
        (read): Declaring and commenting the IOException.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CosNaming/BindingIterator.java: Inherit from
        Serializable, IDLEntity and org.omg.CORBA.Object.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/PRIVATE_MEMBER.java,
        org/omg/CORBA/PUBLIC_MEMBER.java
        (value): Changing the type from int to short.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        PR libgcj/20504
        gnu/regexp/RE.java: Add support for quoting constructs.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * java/net/URI.java (unquote): Handle lower-case letters as well.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * java/nio/charset/Charset.java (encode, decode): Synchronize on
        'this', not the class.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.c (printShortVersion):
	Hey, it's 2005 already!

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.h:
	(JAVA_VERSION_STRING) Report a 1.4 in there for Berkely DB.

	Reported by:  Alejandro Mery  <amery@geeks.cl>

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in:
	Move rmic to tools.jar.

	* kaffe/scripts/rmic.in: Updated accordingly.

	* libraries/javalib/gnu/classpath/tools/rmi/rmic/Compiler.java
	(classPrefix) Implement in generic fashion.

2005-05-18  Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/classMethod.c:
	(getInheritedMethodIndex) Check whether method 
	is accessible.

2005-05-18  Julio M. Merino Vidal <jmmv84@gmail.com>

	* libraries/javalib/gnu/classpath/tools/rmi/rmic/Compiler.java:
	(classPrefix) Fixed to match package name.

2005-05-17  Davanum Srinivas <dims@yahoo.com>

	* kaffe/kaffevm/thread.c (setPriorityThread):
	Fixed prototype to fix compilation problem on Cygwin.

	* kaffe/kaffevm/jit/icode.c (pusharg_int_const):
	Fixed prototype to fix compilation problem on Cygwin.

2005-05-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMSystem.c,
	libraries/javalib/java/lang/VMSystem.java,
	test/internal/java/lang/VMSystem.java:
	New files. Taken from GNU Classpath.

	* include/Makefile.am (NOINSTALL_DERIVED_HDRS): Removed
	java_lang_System.h. (NOINSTALL_JNI_DERIVED_HDRS) Added
	java_lang_VMSystem.h.

	* kaffe/kaffevm/baseClasses.c (RuntimeClass): New field.
	(RUNTIMECLASS) New constant. 
	(initBaseClasses) Load Runtime class.

	* kaffe/kaffevm/baseClasses.h (RuntimeClass): export field.

	* kaffe/kaffevm/thread.c (runfinalizer): Call exitJavaCleanupHook
	in Runtime class.

	* libraries/clib/native/Class.c,
	libraries/clib/native/Field.c: Removed unnecessary include of
	java_lang_System.h.

	* libraries/clib/native/Makefile.am (LANG_SRCS): Added 
	java_lang_VMSystem.c.

	* libraries/clib/native/System.c (java_lang_System_getenv0,
	java_lang_System_currentTimeMillis, Java_java_lang_System_setIn0,
	Java_java_lang_System_setOut0, Java_java_lang_System_setErr0):
	Removed.
	(java_lang_System_identityHashCode, java_lang_System_arraycopy0)
	Renamed into java_lang_VMSystem_identityHashCode and
	java_lang_VMSystem_arraycopy0.

	* libraries/javalib/gnu/classpath/VMStackWalker.java:
	(MINIMAL_NUMBER_OF_FRAMES, CALLERS_CALLER_FRAME): New constants.
	(getCallingClass, getCallingClassLoader): Use MINIMAL_NUMBER_OF_FRAMES
	and CALLERS_CALLER_FRAME to return the class or the classloader of
	the caller's caller.

	* libraries/javalib/java/lang/Runtime.java (securityManager): Removed.
	(exitJavaCleanupHook): New method.

	* libraries/javalib/java/lang/System.java: Switched over to implementation
	from GNU Classpath.

	* test/internal/Makefile.am: Added java/lang/VMSystem.java into the build.

	* test/internal/java/lang/System.java: Switched over to implementation
	from GNU Classpath.

	* test/regression/Reflect.java: Adapted expected output.

2005-05-16  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-01-07  Archie Cobbs  <archie@dellroad.org>

        * java/lang/ClassLoader.java (getParent(), getSystemClassLoader()):
        Likewise.
        * java/lang/Package.java (getPackages()): Likewise.
        * java/lang/SecurityManager.java (getClassContext()): Likewise.
        * java/util/ResourceBundle.java (getBundle()): Likewise.
        * vm/reference/java/lang/VMSecurityManager.java: Removed.
	
2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-15  Mark Wielaard  <mark@klomp.org>

        * javax/swing/JComponent.java: Removed invalid char from comment.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-15  Audrius Meskauskas, Lithuania  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/Version.java,
        gnu/CORBA/IOR.java,
        gnu/CORBA/IOR_contructed_object.java,
        gnu/CORBA/Restricted_ORB.java,
        gnu/CORBA/Functional_ORB.java,
        gnu/CORBA/gnuAny.java,
        gnu/CORBA/gnuContext.java,
        gnu/CORBA/gnuContextList.java,
        gnu/CORBA/gnuEnvironment.java,
        gnu/CORBA/gnuExceptionList.java,
        gnu/CORBA/gnuRequest.java,
        gnu/CORBA/gnuNVList.java,
        gnu/CORBA/gnuNamedValue.java,
        gnu/CORBA/Simple_delegate.java,
        gnu/CORBA/BigDecimalHelper.java,
        gnu/CORBA/Unexpected.java,
        gnu/CORBA/OctetHolder.java,
        gnu/CORBA/TypeCodeHelper.java,
        gnu/CORBA/corbaArrayList.java,
        gnu/CORBA/WCharHolder.java,
        gnu/CORBA/WStringHolder.java,
        gnu/CORBA/IOR_Delegate.java,
        gnu/CORBA/fixedTypeCode.java,
        gnu/CORBA/generalTypeCode.java,
        gnu/CORBA/holderFactory.java,
        gnu/CORBA/recordTypeCode.java,
        gnu/CORBA/recursiveTypeCode.java,
        gnu/CORBA/stringTypeCode.java,
        gnu/CORBA/Connected_objects.java,
        gnu/CORBA/ByteArrayComparator.java,
        gnu/CORBA/binaryReply.java,
        gnu/CORBA/typeNamer.java,
        gnu/CORBA/streamRequest.java,
        gnu/CORBA/stubFinder.java,
        gnu/CORBA/bufferedResponseHandler.java,
        gnu/CORBA/ExceptionCreator.java,
        gnu/CORBA/ObjectCreator.java,
        gnu/CORBA/aliasTypeCode.java: New files.
        * org/omg/CORBA/TestContextList.java,
        gnu/CORBA/CDR/testBinaryIO.java: New tests.
        * gnu/CORBA/NamingService/snConverter.java,
        gnu/CORBA/NamingService/Ext.java,
        gnu/CORBA/NamingService/cmpNameComponent.java,
        gnu/CORBA/NamingService/TransientContext.java,
        gnu/CORBA/NamingService/NamingMap.java,
        gnu/CORBA/NamingService/Binding_iterator_impl.java,
        gnu/CORBA/NamingService/NamingServiceTransient.java,
        gnu/CORBA/NamingService/NameValidator.java: New files.
        * gnu/CORBA/CDR/aligningInputStream.java,
        gnu/CORBA/CDR/aligningOutputStream.java,
        gnu/CORBA/CDR/cdrOutput.java,
        gnu/CORBA/CDR/cdrInput.java,
        gnu/CORBA/CDR/cdrBufOutput.java,
        gnu/CORBA/CDR/encapsulatedOutput.java,
        gnu/CORBA/CDR/cdrBufInput.java,
        gnu/CORBA/CDR/testBinaryIO.java: New files.
        * org/omg/CORBA/StringHolder.java,
        * org/omg/CORBA/StringSeqHelper.java,
        * org/omg/CORBA/StringSeqHolder.java: Read and write string,
        not wstring and use stringTypeCode.
        * org/omg/CORBA/Any.java: Adding serialVersionUID.
        * org/omg/CORBA/FixedHolder: Use fixedTypeCode.
        * org/omg/CORBA/UNKNOWN.java: Making constructors public.
        * org/omg/CORBA/UserException.java: Inherit
        from org.omg.CORBA.portable.IDLEntity.
        * org/omg/CORBA/ORB.java,
        org/omg/CORBA/Object.java: Replacing empty class
        declarations with implementation.
        * gnu/CORBA/primitiveTypeCode.java: Exception fixes.
        * gnu/CORBA/primitiveArrayTypeCode.java: Adding extra
        parameter in constructor.
        * gnu/CORBA/GIOP/CancelHeader.java,
        gnu/CORBA/GIOP/ErrorMessage.java,
        gnu/CORBA/GIOP/MessageHeader.java,
        gnu/CORBA/GIOP/ReplyHeader.java,
        gnu/CORBA/GIOP/RequestHeader.java,
        gnu/CORBA/GIOP/ServiceContext.java,
        gnu/CORBA/GIOP/cxCodeSet.java,
        gnu/CORBA/GIOP/CharSets_OSF.java,
        gnu/CORBA/GIOP/v1_0/CancelHeader.java,
        gnu/CORBA/GIOP/v1_0/RequestHeader.java,
        gnu/CORBA/GIOP/v1_0/ReplyHeader.java,
        gnu/CORBA/GIOP/v1_2/RequestHeader.java,
        gnu/CORBA/GIOP/v1_2/ReplyHeader.java: New files.
        org/omg/CosNaming/_NamingContextStub.java,
        org/omg/CosNaming/_NamingContextImplBase.java,
        org/omg/CosNaming/BindingHelper.java,
        org/omg/CosNaming/BindingListHelper.java,
        org/omg/CosNaming/NameComponentHelper.java,
        org/omg/CosNaming/NameHelper.java,
        org/omg/CosNaming/BindingTypeHelper.java,
        org/omg/CosNaming/NamingContextHelper.java,
        org/omg/CosNaming/BindingIteratorHelper.java,
        org/omg/CosNaming/_NamingContextExtStub.java,
        org/omg/CosNaming/NamingContextExt.java,
        org/omg/CosNaming/NamingContextExtHelper.java,
        org/omg/CosNaming/NamingContextExtHolder.java,
        org/omg/CosNaming/NamingContextExtOperations.java,
        org/omg/CosNaming/_NamingContextExtImplBase.java,
        org/omg/CosNaming/NamingContextOperations.java,
        org/omg/CosNaming/NamingContext.java,
        org/omg/CosNaming/NameComponent.java,
        org/omg/CosNaming/BindingIterator.java,
        org/omg/CosNaming/_BindingIteratorStub.java,
        org/omg/CosNaming/Binding.java,
        org/omg/CosNaming/BindingType.java,
        org/omg/CosNaming/BindingIteratorHolder.java,
        org/omg/CosNaming/BindingListHolder.java,
        org/omg/CosNaming/BindingHolder.java,
        org/omg/CosNaming/BindingTypeHolder.java,
        org/omg/CosNaming/NameComponentHolder.java,
        org/omg/CosNaming/NameHolder.java,
        org/omg/CosNaming/NamingContextHolder.java,
        org/omg/CosNaming/_BindingIteratorImplBase.java,
        org/omg/CosNaming/package.html,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddress.java,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddressHolder.java,
        org/omg/CosNaming/NamingContextExtPackage/package.html,
        org/omg/CosNaming/NamingContextExtPackage/AddressHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/URLStringHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/StringNameHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddressHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotEmpty.java,
        org/omg/CosNaming/NamingContextPackage/NotFound.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReason.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReasonHolder.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundHolder.java,
        org/omg/CosNaming/NamingContextPackage/NotEmptyHolder.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBoundHolder.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceedHolder.java,
        org/omg/CosNaming/NamingContextPackage/InvalidNameHolder.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceed.java,
        org/omg/CosNaming/NamingContextPackage/InvalidName.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBound.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotEmptyHelper.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBoundHelper.java,
        org/omg/CosNaming/NamingContextPackage/InvalidNameHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReasonHelper.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceedHelper.java,
        org/omg/CosNaming/NamingContextPackage/package.html: New files.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-14  Chris Burdess  <dog@gnu.org>

        * gnu/xml/dom/DomDocumentBuilder.java,
          gnu/xml/dom/transform/XSLUriResolver.java: Handle unqualified
        relative URLs.
        * gnu/xml/dom/ls/SAXEventSink.java: Ignore XML entities in start/
        end entity callbacks.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (createMessageArea): Enabled input components to be used
        in OptionPanes.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JDialog.java
        (setDefaultCloseOperation): Don't throw an IllegalArgumentException
        but instead accept illegal values as DO_NOTHING_ON_CLOSE.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/ScrollPaneLayout.java
        (getViewportBorderBounds): Documented methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicProgressBarUI.java
        (getPreferredSize): Changed implementation so that getGraphics()
        is not used (this triggers a NPE).

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/RepaintManager.java:
        (getVolatileOffscreenBuffer): Added methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/DefaultButtonModel.java:
        Removed superfluous semicolon.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (ButtonChangeListener): Added this inner class.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (requestFocus): Added method.
        (requestFocus(boolean)): Added method.
        (requestFocusInWindow): Added method.
        (addNotify): Added method.
        (removeNotify): Added method.
        (contains): Added method.
        (disable): Added method.
        (enable): Added method.
        (getGraphics): Added method.
        (getX): Added method.
        (getY): Added method.
        (getHeight): Added method.
        (getWidth): Added method.
        (getPropertyChangeListener): Added method.
        (print): Added method.
        (printAll): Added method.
        (printComponent): Added method.
        (printChildren): Added method.
        (printBorder): Added method.
        (processMouseMotionEvent): Added method.
        (reshape): Added method.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/DefaultMenuLayout.java:
        Added this class.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (installUI): Use the new DefaultMenuLayout instead of GridBagLayout.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java
        (constructor): Implemented.
        (isCellEditable): Implemented.
        (shouldSelectCell): Implemented.
        (stopCellEditing): Implemented.
        (cancelCellEditing): Implemented.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java:
        Documented this class.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java:
        Reformatted this file to our coding style.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (createSeparator): Implemented. Returns a vertical separator with
        a height of 17 pixels as recommended in the book Java Look & Feel
        Design Guidelines.
        (installComponents): Added an empty border around the dialog.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/View.java
        (insertUpdate) Removed a debug println statement.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java
        (RootView.insertUpdate): Added. Forwards the update to the real
        root view.
        (RootView.removeUpdate): Added. Forwards the update to the real
        root view.
        (RootView.changedUpdate): Added. Forwards the update to the real
        root view.
        (DocumentHandler): Added. Receives DocumentEvents and forwards
        them to the corresponding View methods.
        (installDocumentListeners): Installs Document listeners on the
        text component's document model.
        * javax/swing/plaf/text/FieldView.java
        (adjustAllocation): Added. Adjusts the view area so that the
        input line is centered vertically and correctly aligned horizontally.
        (modelToView): Call adjustAllocation before call to
        super.modelToView(..).
        (paint): Call adjustAllocation before call to super.paint(..).
        (insertUpdate): Added. Calls adjustAllocation before call to
        super.insertUpdate(..).
        (removeUpdate): Added. Calls adjustAllocation before call to
        super.removeUpdate(..).
        (changedUpdate): Added. Calls adjustAllocation before call to
        super.changedUpdate(..).
        * javax/swing/text/JTextComponent.java:
        Removed RepaintListener. This is no longer needed and should
        instead be handled by the text component's View.
        * javax/swing/plaf/text/View.java
        (paint): If parent is null, we still need to make sure the
        text component is updated through calling revalidate().
        (insertUpdate): Added. Receive notification about changes in the
        text document model.
        (removeUpdate): Added. Receive notification about changes in the
        text document model.
        (changedUpdate): Added. Receive notification about changes in the
        text document model.
        (updateChildren): Added. Updates the list of child Views after
        text has been modified.
        (forwardUpdate): Added. Forwards the update notification to the
        child Views.
        (forwardUpdateToView): Added. Actually performs the forwarding of
        update events.
        (updateLayout): Added. Makes sure that the display is in sync with
        the model.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextField.java
        (createDefaultModel): Create and return a subclass of PlainDocument
        to allow newlines to be swallowed.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-10  David Daney  <ddaney@avtrex.com>

        * java/util/BitSet.java (get(int, int)): Fix breakage when
        requested set doesn't start on a multiple of 64.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-10  Jeroen Frijters  <jeroen@frijters.net>

        * java/lang/ClassLoader.java
        (defaultGetSystemClassLoader): Refactored in three new methods.
        (createExtClassLoader, createSystemClassLoader,
        createAuxiliarySystemClassLoader): New methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-06  Robert Schuster  <thebohemian@gmx.net>

        * java/awt/Frame.java:
        (setUndecorated): Toggled boolean expression.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-06  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/PlainView.java
        (getPreferredSpan): Corrected the calculation of the span of
        the view.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Mark Wielaard  <mark@klomp.org>

        * java/awt/BufferCapabilities.java (BufferCapabilities): Make
        documentation of arguments match code.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/image/BufferStrategy.java: Document.

        * java/awt/BufferCapabilities.java: Document.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Tom Tromey  <tromey@redhat.com>

        * java/nio/channels/FileLock.java (toString): Entirely avoid
        String "+".

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Andrew Overholt  <overholt@redhat.com>

        * java/nio/channels/FileLock.java (toString): Re-implement using
        StringBuffer.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/ImageCapabilities.java: Document.

        * java/awt/image/VolatileImage.java: Unindent copyright header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java
        (LeafElement): Made start and end package private fields for
        effective reindexing.
        * javax/swing/text/PlainDocument.java
        (constructor): The field rootElement is always BranchElement,
        so we handle it as such.
        (removeUpdate): Rewritten reindexing for removeUpdate so that
        the actual removal is taken into account.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/PlainView.java
        (drawUnselectedText): Call Utilities.drawTabbedText() with correct
        offset parameter.
        * javax/swing/text/Utilities.java
        (drawTabbedText): Initilialize local variable pos correctly.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/image/VolatileImage.java: Document.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Andrew Overholt  <overholt@redhat.com>

        * gnu/java/nio/channels/FileChannelImpl.java: Return null if lock
        could not be acquired.
        * java/nio/channels/FileLock.java (toString): Re-implement to be
        in line with other implementations.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (init_glib_threads): Check if threading system is already
        initialized.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Removed debugging output stuff, which I accidentally left in.

	2005-05-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Implemented a real GapContent. Only the public methods have
        been implemented so far and still no UndoableEdit support.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-02  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/DecimalFormat.java
        (hashCode): Reimplemented and added API docs.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalBorders.java:
        Added inner class ScrollPaneBorder.
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Added default for "ScrollPane.border"
        to use the new ScrollPaneBorder.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-01  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c:
        (window_delete_cb): Don't use C++ style comments.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am (NOINSTALL_JNI_DERIVED_HDRS):
 	Added gnu_classpath_VMStackWalker.h.

	* libraries/clib/native/gnu_classpath_VMStackWalker.c:
	New file.

	Resynced with GNU Classpath.

	2005-04-30  Mark Wielaard  <mark@klomp.org>

        * java/io/ObjectInputStream.java
        (currentLoader): Don't create SecurityManager, directly call
        VMObjectInputStream.currentClassLoader().
        (resolveProxyClass): Use currentLoader().
        * vm/reference/java/io/VMObjectInputStream.java
        (currentClassLoader(SecurityManager)): Removed.
        (currentClassLoader): New method.
        * native/jni/java-io/java_io_VMObjectInputStream.c
        (Java_java_io_VMObjectInputStream_currentClassLoader): Removed.

	2005-01-29  Steven Augart  <augart@watson.ibm.com>

        * vm/reference/gnu/classpath/VMStackWalker.java: Doc fix.

	2005-01-07  Archie Cobbs  <archie@dellroad.org>

        * vm/reference/gnu/classpath/VMStackWalker.java: New class.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GtkToolkit.java (prepareImage): Only prepare
        GtkImages.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Robert Schuster  <thebohemian@gmx.net>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c:
        (window_delete_cb): Made the function return TRUE.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Robert Schuster  <thebohemian@gmx.net>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c: Fixed
        copyright header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Audrius Meskauskas  <AudriusA@bluewin.ch>

        * org/omg/CORBA/WStringSeqHelper.java,
        org/omg/CORBA/AnySeqHelper.java,
        org/omg/CORBA/BooleanSeqHelper.java,
        org/omg/CORBA/CharSeqHelper.java,
        org/omg/CORBA/DoubleSeqHelper.java,
        org/omg/CORBA/FloatSeqHelper.java,
        org/omg/CORBA/LongLongSeqHelper.java,
        org/omg/CORBA/LongSeqHelper.java,
        org/omg/CORBA/OctetSeqHelper.java,
        org/omg/CORBA/ShortSeqHelper.java,
        org/omg/CORBA/StringSeqHelper.java,
        org/omg/CORBA/ULongLongSeqHelper.java,
        org/omg/CORBA/ULongSeqHelper.java,
        org/omg/CORBA/UShortSeqHelper.java,
        org/omg/CORBA/WCharSeqHelper.java:
        Removing redundant object instantiation.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Sven de Marothy  <sven@physto.se>
                    Mark Wielaard  <mark@klomp.org>

        * java/nio/charset/Charset.java (defaultCharset): Use
        SystemProperties.
        (provider): Check gnu.classpath.nio.charset.provider.iconv system
        property and return the IconvProvider when set.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/nio/charset/Charset.java
        (defaultCharset): Reformatted.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * gnu/java/net/protocol/http/HTTPConnection.java:
        (userAgent): Initialize from system properties.
        (initUserAgent): Removed.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/lang/ClassLoader.java:
        Fixed formatting.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/net/InetAddress.java
        (aton): Fixed javadoc.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Robert Schuster  <thebohemian@gmx.net>

        * java/beans/FeatureDescriptor.java:
        (getShortDescription): Implemented fallback mechanism and fixed
        documentation (fixes bug #12637).
        (getDisplayName): Dito.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Robert Schuster  <thebohemian@gmx.net>

        * java/beans/Introspector.java: Fixed bug #12624, BeanDescriptors
        will now be set correctly.
        (flushCaches): Now flushes all cached intermediate data.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * javax/swing/JTextArea.java
        (replaceRange): Removed error throwing.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * java/nio/charset/Charset.java
        (providers2): Renamed from 'providers'.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * java/security/AccessControlContext.java:
        Reformatted.

	2005-04-28  Andreas Tobler  <a.tobler@schweiz.ch>

        * java/security/Security.java (Security): Silence the warning about no
        providers found in the no debug case.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI
        (getThumbBounds): Do not make thumb smaller than
        minimumThumbSize.
        * javax/swing/plaf/metal/MetalLookAndFeel
        (initComponentDefaults): Added color defaults for ScrollBar.
        * javax/swing/plaf/metal/MetalScrollBarUI
        (paintThumb): Added.
        (getMinimumThumbSize): Added.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalLookAndFeel
        (initComponentDefaults): Added some default colors.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/net/URL.java: Remove org.metastatic.jessie from default
        protocol search path.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (configureScrollBarColors: Changed key 'ScrollBar.thumbLightShadow'
        to 'ScrollBar.thumbShadow'. The formes does not exist.
        (paintThumb): Use BasicGraphicsUtils for painting the thumb.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Chris Burdess  <dog@gnu.org>

        * java/net/protocol/http/HTTPURLConnection.java (connect): Accept
        absolute and relative paths in Location header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * java/awt/MediaTracker.java: Added 2005 to copyright statement.
        * javax/swing/BoxLayout.java: Likewise.
        * javax/swing/UIManager.java: Likewise.
        * javax/swing/plaf/basic/BasicButtonListener.java: Likewise.
        * javax/swing/plaf/basic/BasicGraphicsUtils.java: Likewise.
        * javax/swing/plaf/basic/BasicLookAndFeel.java: Likewise.
        * javax/swing/plaf/basic/BasicMenuItemUI.java: Likewise.
        * javax/swing/plaf/basic/BasicScrollPaneUI.java: Likewise.
        * javax/swing/plaf/metal/MetalLookAndFeel.java: Likewise.
        * javax/swing/text/Document.java: Likewise.
        * javax/swing/text/GapContent.java: Likewise.
        * javax/swing/text/SimpleAttributeSet.java: Likewise.
        * javax/swing/tree/DefaultTreeSelectionModel.java: Likewise.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Luca Barbieri  <luca.barbieri@gmail.com>

        * gnu/java/nio/channels/FileChannelImpl.java (tryLock): Pass
        'false' to native lock().
        (lock): Pass 'true' to native lock().

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Tom Tromey  <tromey@redhat.com>

        * gnu/java/nio/charset/iconv/IconvCharset.java (name):
        Removed unused field.
        (IconvCharset): Updated.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Tom Tromey  <tromey@redhat.com>

        * javax/swing/text/html/parser/ParserDelegator.java (callBack,
        gnu): Now package-private.
        * javax/swing/text/html/parser/DocumentParser.java (parser,
        callBack, gnu): Now package-private.
        * javax/swing/text/StringContent.java (content, setOffset,
        checkLocation): Now package-private.
        * javax/swing/text/JTextComponent.java (doc): Now
        package-private.
        * javax/swing/plaf/basic/BasicToolBarUI.java (owner,
        lastGoodOrientation, origParent, borders, cachedBounds,
        cachedOrientation, DragWindow): Now package-private.
        * javax/swing/plaf/basic/BasicTabbedPaneUI.java (incrButton,
        decrButton, viewport, panel, currentScrollLocation, layoutManager,
        tabAreaRect, contentRect, createIncreaseButton,
        createDecreaseButton, findPointForIndex): Now package-private.
        * javax/swing/plaf/basic/BasicSplitPaneDivider.java
        (currentDividerLocation, moveDividerTo): Now package-private.
        * javax/swing/plaf/basic/BasicSliderUI.java (findClosestTick): Now
        package-private.
        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (calculatePreferredSize, valueForYPosition, valueForXPosition):
        Now package-private.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (topWindowListener): Now package-private.
        * javax/swing/plaf/basic/BasicOptionPaneUI.java (iconSize,
        OK_STRING, YES_STRING, NO_STRING, CANCEL_STRING): Now constants.
        (messageAreaContainer, buttonContainer, resetSelectedValue): Now
        package-private.
        * javax/swing/plaf/basic/BasicListUI.java (damageLayout): Now
        package-private.
        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java (title):
        Now package-private.
        * javax/swing/plaf/basic/BasicDesktopIconUI.java (button): Now
        package-private.
        * javax/swing/plaf/basic/BasicComboBoxUI.java (largestItemSize,
        borderInsets): Now package-private.
        (arrowButtonWidth): Likewise.  Now a constant.
        * javax/swing/plaf/basic/BasicColorChooserUI.java (chooser, pane,
        makeTabs, updatePreviewPanel): Now package-private.
        * javax/swing/plaf/basic/BasicArrowButton.java (shadow,
        darkShadow, highlight): Now package-private.
        * javax/swing/colorchooser/DefaultSwatchChooserPanel.java
        (addColorToQueue): Now package-private.
        * javax/swing/colorchooser/DefaultRGBChooserPanel.java
        (spinnerChange, sliderChange, updateChange, R, G, B, RSpinner,
        GSpinner, BSpinner): Now package-private.
        * javax/swing/colorchooser/DefaultHSBChooserPanel.java
        (gradientImage, trackImage, slider, hRadio, sRadio, bRadio,
        hSpinner, sSpinner, bSpinner, gradientPoint, internalChange,
        spinnerTrigger, locked, handlingMouse, updateImage, updateSlider,
        updateTrack): Now package-private.
        * javax/swing/TransferHandler.java (clipboard): Now
        package-private.
        * javax/swing/ToolTipManager.java (showTip, hideTip): Now
        package-private.
        * javax/swing/Timer.java (drainEvents, queueEvent): Now
        package-private.
        * javax/swing/RepaintManager.java (globalManager): Now
        package-private.
        * javax/swing/JFormattedTextField.java (editValid): Now
        package-private.
        * javax/swing/JColorChooser.java (makeModal): Now
        package-private.
        * java/awt/geom/GeneralPath.java (rule, types, xpoints, ypoints,
        index, path): Now package-private.
        * java/awt/geom/Area.java (solids, holes, cubicCubicIntersect,
        lineQuadIntersect, lineCubicIntersect, linesIntersect,
        pointEquals): Now package-private.
        * java/awt/geom/Arc2D.java (type): Now package-private.
        * java/awt/Window.java (windowFocusOwner): Now package-private.
        * java/awt/TextComponent.java (editable, selectionStart,
        selectionEnd, text, getIndexAtPoint, getCharacterBounds): Now
        package-private.
        * java/awt/MenuItem.java (actionCommand, enabled, label): Now
        package-private.
        * java/awt/MenuComponent.java (focusListener): Now
        package-private.
        * java/awt/Frame.java (state): Now package-private.
        * java/awt/Choice.java (pItems): Now package-private.
        * java/awt/Checkbox.java (state): Now package-private.
        * java/awt/Button.java (actionCommand, label): Now
        package-private.
        * gnu/javax/swing/text/html/parser/support/Parser.java
        (attributes, _handleEndTag_remaining, _handleStartTag): Now
        package-private.
        * gnu/java/beans/decoder/PersistenceParser.java (javaHandler): Now
        package-private.
        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (paint, stroke, fg, bg,
        clip, transform, font, comp): Now package-private.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Chris Burdess  <dog@gnu.org>

        * gnu/java/net/protocol/http/HTTPURLConnection.java: Throw
        FileNotFoundException and implement getErrorStream on 404.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicToggleButtonUI.java:
        (getPropertyPrefix): Added.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicButtonUI.java
        (getPropertyPrefix): Added.
        (installDefaults): Use getPropertyPrefix instead of hard-coded
        prefix.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/JToggleButton.java
        (JToggleButton): Removed horizontalAlignment setting, this
        was wrong. Added setting of an actionCommand, ToggleButtons
        have "" as default actionCommand.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  David Daney  <ddaney@avtrex.com>

        * java/net/InetAddress.java (InetAddress): Make a private copy of
        the address.
        * java/net/Inet4Address.java (getAddress): Return a copy of the
        address.
        * java/net/Inet6Address.java (Inet6Address): Use private copy of
        the address
        (getAddress): Return a copy of the address.
        (equals): Rewrote.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Michael Koch  <konqueror@gmx.de>

        * javax/swing/ImageIcon.java:
        Merged copyright with GCJ.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Mark Wielaard  <mark@klomp.org>

        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c:
        Include config.h and jcl.h, use if defined(HAVE_ICONV), add new
        static variables infid and outfid, add char_union.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_openIconv):
        Guard with if defined(HAVE_ICONV), use JCL_jstring_to_cstring,
        JCL_free_cstring and JCL_ThrowException, cache inremaining and
        outremaining fieldIDs.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_decode):
        Guard with if defined(HAVE_ICONV), use ICONV_CONST for iconv
        argument, used cached fieldIDs, use char_union.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_closeIconv):
        Guard with if defined(HAVE_ICONV).
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c:
        Include config.h and jcl.h, use if defined(HAVE_ICONV), add new
        static variables infid and outfid, add char_union.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_openIconv):
        Guard with if defined(HAVE_ICONV), use JCL_jstring_to_cstring,
        JCL_free_cstring and JCL_ThrowException, cache inremaining and
        outremaining fieldIDs.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_encode):
        Guard with if defined(HAVE_ICONV), use ICONV_CONST for iconv
        argument, used cached fieldIDs, use char_union.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_closeIconv):
        Guard with if defined(HAVE_ICONV).
        * gnu/java/nio/charset/iconv/IconvDecoder.java (dispose): Renamed.
        (finalize): Renamed from dispose.
        * gnu/java/nio/charset/iconv/IconvEncoder.java (dispose): Renamed.
        (finalize): Renamed from dispose.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Tom Tromey  <tromey@redhat.com>

        * java/awt/AWTKeyStroke.java (vktable): Now package-private.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Sven de Marothy  <sven@physto.se>

        * java/io/InputStreamReader.java:
        (InputStreamReader): Always replace invalid chars.
        (read): Return -1 if zero bytes are read.
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c:
        Correct C pointer arithmetic.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/Transparency.java
        (getTransparency): fixed API docs.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (initDefaults): Initialize thumb*Color fields correctly.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Added API comments.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java:
        Added FIXME comments. This class still has to be
        implemented thread-safe.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/tree/DefaultTreeSelectionModel.java
        (DefaultTreeSelectionModel): Initialize listenerList here.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalTextFieldUI.java
        (createUI): Return one instance per Component instead of a
        shared instance.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-22  Mike Stump  <mrs@apple.com>

        * native/fdlibm/ieeefp.h: ppc64 is also __IEEE_BIG_ENDIAN.

2005-05-14  Tom Tromey  <tromey@redhat.com>

	* libraries/javalib/gmp-math/Makefile.am (Klasses_jar): Include
	srcdir; search for rt.jar in builddir.
	(compile-classes $(LIBDIR)/stamp classes): Pass LIBDIR to
	rebuildLib.

2005-05-14  Dalibor Topic  <robilad@kaffe.org>

        * include/jni_md.h: New file. 
	Merged in from GNU Classpath and gcj.

        * include/kaffe/jni_md.h.in: Removed.

        * configure.ac: Don't generate include/kaffe/jni_md.h.

        * include/Makefile.am (include_HEADERS): Added jni_md.h.
	(pkginclude_HEADERS) Removed kaffe/jni_md.h.

        * kaffe/kaffevm/gtypes.h: Added typedefs 
	for jword and jref.

        * kaffe/kaffevm/jni/jnirefs.h: Include gtypes.h.

        * kaffe/kaffevm/intrp/icode.h (JINT_MIN, JLONG_MIN) 
	Define them here in term of stdint values.

        * libraries/clib/net/PlainDatagramSocketImpl.c
	(gnu_java_net_PlainDatagramSocketImpl_setTTL): 
	Make the second parameter a jbyte as in the prototype.

        kaffe/kaffeh/java_lang_String.h,
        kaffe/kaffevm/classMethod.c,
        kaffe/kaffevm/thread.c,
        kaffe/kaffevm/thread.h,
        kaffe/kaffevm/jni/jni-arrays.c,
        kaffe/kaffevm/jni/jni-fields.c,
        kaffe/kaffevm/jni/jni-string.c,
        kaffe/kaffevm/jni/jni.c,
        kaffe/kaffevm/jni/jni_funcs.h,
        kaffe/kaffevm/systems/oskit-pthreads/lock-impl.h,
        kaffe/kaffevm/systems/unix-jthreads/jthread.c,
        kaffe/kaffevm/systems/win32/winthread.c,
        libraries/clib/native/Class.c,
        libraries/clib/native/java_lang_VMDouble.c,
        libraries/clib/net/PlainSocketImpl.c,
        libraries/clib/zip/Deflater.c,
        libraries/clib/zip/Inflater.c:
	Use jboolean instead of jbool.

        * include/files.h,
        include/jni.h,
        kaffe/kaffe/main.c,
        kaffe/kaffeh/mem.c,
        kaffe/kaffeh/support.c,
        kaffe/kaffevm/code.c,
        kaffe/kaffevm/debug.c,
        kaffe/kaffevm/exception.c,
        kaffe/kaffevm/itypes.c,
        kaffe/kaffevm/lookup.c,
        kaffe/kaffevm/stackTrace.c,
        kaffe/kaffevm/stats.c,
        kaffe/kaffevm/string.c,
        kaffe/kaffevm/support.c,
        kaffe/kaffevm/thread.c,
        kaffe/kaffevm/utf8const.c,
        kaffe/kaffevm/boehm-gc/gc2.c,
        kaffe/kaffevm/systems/unix-jthreads/jthread.c:
	Include jni_md.h instead of kaffe/jni_md.h.

	Resynced with GNU Classpath.

	2005-04-24  Tom Tromey  <tromey@redhat.com>

        * include/jni_md-x86-linux-gnu.h (JNIIMPORT): New define.
        (jsize): New typedef.
        * include/jni.h: Re-merged with libgcj.

2005-05-13  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/Makefile.am,
	kaffe/kaffevm/verifier/Makefile.am,
	replace/Makefile.am:
	(native_LIBRARIES): Renamed to noinst_LTLIBRARIES
	to turn them into convenience libraries. Should fix
	the build problems on Cygwin, too.

2005-05-13  Dalibor Topic  <robilad@kaffe.org>

	* m4/ax_create_stdint_h.m4: New file. Taken from ac-archive.

	* configure.ac: Use AX_CREATE_STDINT_H instead of checking 
	for standard int types manually. It generated a header file
	that delegates to the native headers and types where possible,
	and creates typedefs for the missing types.

	* config/Makefile.am (GEN_HDRS): Added config-int.h.

	* config/config-hacks.h:
	Removed sections braced by HAVE_INT32 and HAVE_UINT32.

	* config/generic/gentypes.h,
	kaffe/kaffevm/gtypes.h,
	libraries/clib/awt/classpath-gtk/gtk-peer/gthread-jni.c,
	libraries/clib/fdlibm/mprec.h:
	Include config-int.h instead of declaring standard int types
	manually.

2005-05-10  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/systems/unix-jthreads:
	Fix build fail for '--with-threads=unix-jthreads'.

2005-05-10  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/m68k/jit-m68k.def:
	Fix bug for optimization.

	* config/m68k/jit3-m68k.def:
	Change ifdef condition.

	* config/m68k/netbsd1/config.frag,
	config/m68k/linux/config.frag:
	Set compilation option '-O1' as default.

2005-05-08  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffevm/boehm-gc/gc2.c
	(KaffeGC_ThrowOOM):
	Changed ABORT to KAFFEVM_ABORT.

	* po/zh_TW.po:
	Updated Traditional Chinese translation.

2005-05-07  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffeh/main.c,
	kaffe/kaffeh/support.c,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/code.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/gcFuncs.c,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/object.c,
	kaffe/kaffevm/object.h,
	kaffe/kaffevm/soft.c,
	kaffe/kaffevm/stackTrace.c,
	kaffe/kaffevm/stats.c,
	kaffe/kaffevm/stats.h,
	kaffe/kaffevm/utf8const.c,
	kaffe/kaffevm/intrp/methodcalls.c,
	kaffe/kaffevm/intrp/native-wrapper.c,
	kaffe/kaffevm/intrp/native-wrapper.h,
	kaffe/kaffevm/jit/methodcalls.c,
	kaffe/kaffevm/jit/native-wrapper.c,
	kaffe/kaffevm/jit/native-wrapper.h,
	kaffe/kaffevm/jit3/machine.c,
	kaffe/kaffevm/jit3/machine.h,
	kaffe/kaffevm/jit3/native-wrapper.c,
	kaffe/kaffevm/jni/jni-arrays.c,
	kaffe/kaffevm/jni/jni-base.c,
	kaffe/kaffevm/jni/jni-callmethod.c,
	kaffe/kaffevm/jni/jni-fields.c,
	kaffe/kaffevm/jni/jni-helpers.c,
	kaffe/kaffevm/jni/jni-string.c,
	kaffe/kaffevm/jni/jni.c,
	kaffe/kaffevm/kaffe-gc/gc-incremental.c,
	include/native.h:
	Corrected and clarified copyright notice.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/hashtab.c
	(hashResize): Reordered tab update to prevent race conditions during
	the deallocation.

2005-05-07  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/signal.c (setupSigAltStack),
	kaffe/kaffevm/systems/unix-jthreads/jthread.c (restore_fds_and_exit)
	kaffe/kaffevm/systems/oskit-pthreads/pjthread.c (remove_thread),
	kaffe/jvmpi/jvmpi_kaffe.c (jvmpiProfilerExit),
	config/mips/netbsd1/md.c (sysdepCallMethod),
	kaffe/kaffevm/intrp/icode.h (softcall_breakpoint),
	libraries/clib/net/InetAddressImpl.c (java_net_VMInetAddress_getLocalHostname),
	test/internal/jit_stub.c (main): Renamed ABORT and EXIT to
	KAFFEVM_ABORT and KAFFEVM_EXIT.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(createGC): Fixed constant name.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(reserve): Removed.
	(gcThrowOOM): Use gc_primitive_use_reserve.
	(KaffeGC_Init): Adapted to the new prototype.
	
	* kaffe/kaffevm/kaffe-gc/gc-mem.h
	(KGC_NUMBER_OF_PAGES_IN_RESERVE): New constant.

	* kaffe/kaffevm/kaffe-gc/gc-mem.c
	(gc_reserve_pages): New variable.
	(gc_primitive_reserve): Store the reserved block in a private
	variable.
	(gc_primitive_use_reserve): New function.
	(gc_block_alloc): Update gc_reserve_pages if the block array is
	reallocated.

2005-05-07  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* test/internal/jit_stub.c: Changed ABORT to KAFFEVM_ABORT.

2005-05-07  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Resynced with GNU Classpath:

	2005-05-05  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/StreamSerializer.java: Produce compact,
	human-readable XML for non-UTF/ASCII encodings using NIO.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_exit): Release the thread list lock before exiting.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/boehm-gc/boehm/Makefile.am,
	kaffe/kaffevm/boehm-gc/boehm/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/aix_irix_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/allchblk.c,
	kaffe/kaffevm/boehm-gc/boehm/alloc.c,
	kaffe/kaffevm/boehm-gc/boehm/backgraph.c,
	kaffe/kaffevm/boehm-gc/boehm/configure,
	kaffe/kaffevm/boehm-gc/boehm/configure.ac,
	kaffe/kaffevm/boehm-gc/boehm/darwin_stop_world.c,
	kaffe/kaffevm/boehm-gc/boehm/dyn_load.c,
	kaffe/kaffevm/boehm-gc/boehm/finalize.c,
	kaffe/kaffevm/boehm-gc/boehm/mach_dep.c,
	kaffe/kaffevm/boehm-gc/boehm/mark.c,
	kaffe/kaffevm/boehm-gc/boehm/misc.c,
	kaffe/kaffevm/boehm-gc/boehm/os_dep.c,
	kaffe/kaffevm/boehm-gc/boehm/powerpc_darwin_mach_dep.s,
	kaffe/kaffevm/boehm-gc/boehm/pthread_support.c,
	kaffe/kaffevm/boehm-gc/boehm/reclaim.c,
	kaffe/kaffevm/boehm-gc/boehm/solaris_pthreads.c,
	kaffe/kaffevm/boehm-gc/boehm/solaris_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/specific.c,
	kaffe/kaffevm/boehm-gc/boehm/threadlibs.c,
	kaffe/kaffevm/boehm-gc/boehm/version.h,
	kaffe/kaffevm/boehm-gc/boehm/win32_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/cord/cordprnt.c,
	kaffe/kaffevm/boehm-gc/boehm/cord/cordtest.c,
	kaffe/kaffevm/boehm-gc/boehm/doc/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/doc/README,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.changes,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.environment,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.solaris2,
	kaffe/kaffevm/boehm-gc/boehm/include/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/include/gc.h,
	kaffe/kaffevm/boehm-gc/boehm/include/gc_cpp.h,
	kaffe/kaffevm/boehm-gc/boehm/include/new_gc_alloc.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_hdrs.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_locks.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_priv.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gcconfig.h: Upgraded
	to Boehm-GC 6.4.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(gcMan): Fixed memory statistics printing.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/FileChannelImpl.c
	(throwIOException): Use ExceptionCheck instead of ExceptionOccurred.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/xprof/callGraph.c
	(writeCallGraph): Fixlet for call graph dump.

2005-05-04  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/classMethod.c, 
	(resolveInterfaces): Hold a strong reference on interfaces to
	prevent it from being garbage collected before the destruction of
	the class object.

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Remove the strong reference.
	(walkClass): Do not walk interfaces anymore as there is already a
	strong reference on it.
	
	* kaffe/kaffevm/utf8const.c
	(utf8ConstInit): Symbol cleanup for kaffeh.

	* kaffe/kaffevm/kaffe-gc/gc-refs.c
	(KaffeGC_addWeakRef): Release the lock before going into malloc and
	acquire it again after.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c: 
	(jthread_exit) Fixed jthread_exit in case of unexpected error
	returned by repsem_wait.

	* config/sysdepCallMethod-ffi.h,
	config/alpha/jit-alpha.def,
	config/arm/jit3-arm.def,
	config/i386/jit-i386.def,
	config/i386/jit3-i386.def,
	config/m68k/jit-m68k.def,
	config/m68k/jit3-m68k.def,
	config/powerpc/jit3-powerpc.def,
	config/sparc/jit-sparc.def,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/code-analyse.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/external.c,
	kaffe/kaffevm/findInJar.c,
	kaffe/kaffevm/gtypes.h,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/jar.c,
	kaffe/kaffevm/kaffe.def,
	kaffe/kaffevm/reference.c,
	kaffe/kaffevm/stackTrace.c,
	kaffe/kaffevm/support.c,
	kaffe/kaffevm/thread.c,
	kaffe/kaffevm/gcj/gcj-except.c,
	kaffe/kaffevm/intrp/machine.c,
	kaffe/kaffevm/jit/basecode.c,
	kaffe/kaffevm/jit/icode.c,
	kaffe/kaffevm/jit/labels.c,
	kaffe/kaffevm/jit/machine.c,
	kaffe/kaffevm/jit/registers.c,
	kaffe/kaffevm/jit3/basecode.c,
	kaffe/kaffevm/jit3/icode.c,
	kaffe/kaffevm/jit3/machine.c,
	kaffe/kaffevm/jit3/registers.c,
	kaffe/kaffevm/kaffe-gc/gc-incremental.c,
	kaffe/kaffevm/kaffe-gc/gc-mem.c,
	kaffe/kaffevm/systems/beos-native/signal.c,
	kaffe/kaffevm/systems/oskit-pthreads/signal.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	libraries/clib/native/Method.c,
	libraries/clib/native/Runtime.c: Renamed ABORT and EXIT to
	KAFFEVM_ABORT and KAFFEVM_EXIT.

	* libraries/javalib/gnu/java/net/PlainSocketImpl.java:
	(connect) Imported internal checkings for socketConnect from GNU Classpath.
	
	* test/regression/SerialUID.java: Report the full stack trace of
	the exception.

2005-05-03  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/lang/ProcessInputStream.java: Removed,
	since unused.
	
2005-05-03  Dalibor Topic  <robilad@kaffe.org>

	* include/jsyscall.h (SystemCallInterface): Changed prototypes to 
	use socklen_t where appropriate.
	
	* kaffe/kaffevm/systems/unix-jthreads/syscalls.c,
	kaffe/kaffevm/systems/unix-jthreads/jthread.c,
	kaffe/kaffevm/systems/unix-pthreads/syscalls.c (jthreadedGetPeerName 
	jthreadedGetSockOpt, jthreadedGetSockName, jthreadedAccept, 
	jthreadedRecvfrom): Use socklen_t instead of int to fix compiler warnigs.

	* kaffe/kaffevm/systems/oskit-pthreads/syscalls.c (oskit_pthread_getsockopt) 
	(oskit_pthread_getsockname, oskit_pthread_getpeername, oskit_pthread_accept,
	(oskit_pthread_recvfrom): Use socklen_t instead of int to fix compiler warnigs.

	* libraries/clib/net/PlainDatagramSocketImpl.c (
	gnu_java_net_PlainDatagramSocketImpl_bind,
	gnu_java_net_PlainDatagramSocketImpl_peek,
	gnu_java_net_PlainDatagramSocketImpl_receive0,
	gnu_java_net_PlainDatagramSocketImpl_socketGetOption,
	gnu_java_net_PlainDatagramSocketImpl_getTTL): Use socklen_t where
	appropriate.

	* libraries/clib/net/PlainSocketImpl.c (
	gnu_java_net_PlainSocketImpl_socketConnect,
	gnu_java_net_PlainSocketImpl_socketBind,
	gnu_java_net_PlainSocketImpl_socketAccept,
	gnu_java_net_PlainSocketImpl_socketGetOption): Use socklen_t where
	appropriate.
	
	* libraries/javalib/java/security/AccessControlContext.java 
	(checkPermission): Improved exception messages.

2005-05-01  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/machine.c (finishInsnSequence): Fixed
	cast warning with jch->pool.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check if second parameter of scalb is an int.

	Reported by:  Riccardo Mottola <zuse@libero.it>,
	              Michael Franz  <mvfranz@gmail.com>

2005-04-29  Jim Huang  <jserv@kaffe.org>

	* libraries/clib/awt/qt/evt.cc
	(EventDispatcher::eventFilter): Prevent incorrect getSourceIdx
	return value.
	* libraries/clib/awt/qt/gra.cc
	(Java_java_awt_Toolkit_graInitGraph): Release QPainter objects of 
	reused NativeGraphics Java objects.
	* libraries/javalib/awt-implementations/kaffe/java/awt/NativeGraphics.java
	(dispose): Avoid non-existing native graphic objects.
	* libraries/clib/awt/qt/toolkit.h:
	Fixlet to macro definitions.

	Patched by Alexander Boettcher  <ab764283@os.inf.tu-dresden.de>.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* Makefiles.am (EXTRA_DIST): Added ChangeLog.10 to 
	ChangeLog.16.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/util/ResourceBundle.java
	(getBundle): Improved exception message.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	Fix for Tom (http://tom.loria.fr).

	* libraries/javalib/java/util/logging/Logger.java
	(getLogger): If resourceBundleName is null, just
	return the found result.

	Reported by: Antoine Reilles <Antoine.Reilles@loria.fr>

2005-04-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/kaffe/tools/jar/Jar.java
	(buildUnicityMap): New method.
	(addMapEntry): New method.
	(unicityMap): New field.
	(createJar): Use unicityMap directly.
	(updateFilesInJar): Use unicityMap directly.
	
2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* developers/patch-libtool-no-default-install.diff:
	New libtool patch to fix unnecessary (and make distcheck breaking) 
	installation of libltdl into prefix/share default.

	* Makefile.am (EXTRA_DIST): developers/Encode.java and 
	developers/EncodeEUC_JP.java removed. 
	developers/patch-libtool-openbsd33.diff and 
	developers/patch-libtool-no-default-install.diff added.

	* config/Makefile.am (EXTRA_DIST): generic/gentypes.h added.

	* developers/autogen.sh: Added new libtool patch.

2005-04-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/FileChannel.c
	(throwIOException): Clarified the reason we have a failed assertion.

2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException):
	Initialize handler to 0 to fix gcc 4 warning.

2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* FAQ/FAQ.automake,
	developers/autogen.sh: Updated to use libtool 1.5.16.

	* configure: Regenerated.

	* libltdl/COPYING.LIB,
	libltdl/Makefile.am,
	libltdl/Makefile.in,
	libltdl/acinclude.m4,
	libltdl/config.guess,
	libltdl/config.sub,
	libltdl/configure,
	libltdl/configure.ac,
	libltdl/install-sh,
	libltdl/ltdl.c,
 	libltdl/ltdl.h,
	libltdl/ltmain.sh,
	m4/libtool.m4,
	scripts/ltmain.sh:
	Updated to libtool 1.5.16.

2005-04-26  Dalibor Topic  <robilad@kaffe.org>

	* developers/autogen.sh,
	FAQ/FAQ.automake: Updated to use gettext 0.14.4.

2005-04-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config-hacks.h: Added some alias definition for fdlibm.

	* libraries/clib/fdlibm/mprec.h: Include config-hacks.h

2005-04-25  Ito Kazumitsu <kaz@maczuka.gcd.org>

	* libraries/javalib/java/net/NetworkInterface.java
	(getByName, getByInetAddress): call getNetworkInterfaces()
	so that condensed result may be returned.

2005-04-25  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/classMethod.c
	(buildInterfaceDispatchTable): Put a strong reference on itable2dtable
	to prevent it being freed before the class is actually destroyed.

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Remove strong reference on itable2dtable.

2005-04-24  Eric Anholt <eta@lclark.edu>

	* kaffe/kaffevm/exception.c,
	kaffe/kaffevm/locks.c,
	kaffe/kaffevm/locks.h,
	kaffe/kaffevm/string.c,
	kaffe/kaffevm/intrp/checks.h,
	kaffe/kaffevm/intrp/icode.h,
	kaffe/kaffevm/jni/jni-base.c,
	kaffe/kaffevm/jni/jni-helpers.c,
	kaffe/kaffevm/jni/jni.c
	kaffe/kaffevm/jni/jni_funcs.h
	kaffe/kaffevm/kaffe-gc/gc-mem.c:
	Fixed a few warnings.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/netbsd1/md.h:
	Include <sys/signal.h> for sigcontext on NetBSD CVS head.

	* kaffe/kaffevm/systems/unix-pthreads/signal.c:
	Include jit-md.h to make sure that exceptionFrame is defined.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/signal.c 
	(nullException, floatingException): Removed prototypes 
	that were confusing the compiler on NetBSD CVS HEAD.
	(jthread_initexceptions): Moved further to the back 
	to make sure it picks up the declarations of 
	nullException and floatingException.
	
2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Tom Tromey  <tromey@redhat.com>

	* javax/swing/text/StyleConstants.java (StyleConstants): Now
	package-private.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Mark Wielaard  <mark@klomp.org>

	* java/net/URL.java (URL(URL,String,URLStreamHandler)): Add spec
	to MalformedURLException.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Michael Koch  <konqueror@gmx.de>

	* java/net/ServerSocket.java
	(getChannel): Improved javadoc comment.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am:
	Don't generate JNI headers for removed files.

	* libraries/clib/native/Makefile.am:
	Removed character set conversion sources.

	* libraries/clib/nio/Makefile.am:
	Added iconv linking flags.

	* libraries/javalib/Makefile.am.in:
	Removed serializes converters.

	* libraries/javalib/META-INF/services/java.nio.charset.spi.CharsetProvider:
	New file.

	* test/regression/CharCvt.java:
	Adapted to nio.

	* test/regression/Makefile.am:
	Taken out the sysdepCallMethod test as such things should now be tested in
	the JNI module.

	* developers/Encode.java,
	developers/EncodeEUC_JP.java,
	libraries/clib/native/ByteToCharDefault.c,
	libraries/clib/native/ByteToCharIconv.c,
	libraries/clib/native/CharToByteDefault.c,
	libraries/clib/native/CharToByteIconv.c,
	libraries/javalib/java/lang/String.java,
	libraries/javalib/kaffe/io/ByteToChar8859_1.java,
	libraries/javalib/kaffe/io/ByteToChar8859_2.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_3.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_4.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_5.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_6.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_7.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_8.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_9.ser,
	libraries/javalib/kaffe/io/ByteToCharASCII.ser,
	libraries/javalib/kaffe/io/ByteToCharCP037.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1026.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1046.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1250.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1251.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1252.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1253.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1254.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1255.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1256.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1257.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1258.ser,
	libraries/javalib/kaffe/io/ByteToCharCP850.ser,
	libraries/javalib/kaffe/io/ByteToCharCP852.ser,
	libraries/javalib/kaffe/io/ByteToCharCP855.ser,
	libraries/javalib/kaffe/io/ByteToCharCP857.ser,
	libraries/javalib/kaffe/io/ByteToCharCP860.ser,
	libraries/javalib/kaffe/io/ByteToCharCP861.ser,
	libraries/javalib/kaffe/io/ByteToCharCP862.ser,
	libraries/javalib/kaffe/io/ByteToCharCP863.ser,
	libraries/javalib/kaffe/io/ByteToCharCP864.ser,
	libraries/javalib/kaffe/io/ByteToCharCP865.ser,
	libraries/javalib/kaffe/io/ByteToCharCP866.ser,
	libraries/javalib/kaffe/io/ByteToCharCP868.ser,
	libraries/javalib/kaffe/io/ByteToCharCP869.ser,
	libraries/javalib/kaffe/io/ByteToCharCP870.ser,
	libraries/javalib/kaffe/io/ByteToCharCP871.ser,
	libraries/javalib/kaffe/io/ByteToCharCP875.ser,
	libraries/javalib/kaffe/io/ByteToCharCP918.ser,
	libraries/javalib/kaffe/io/ByteToCharConverter.java,
	libraries/javalib/kaffe/io/ByteToCharDefault.java,
	libraries/javalib/kaffe/io/ByteToCharHashBased.java,
	libraries/javalib/kaffe/io/ByteToCharIconv.java,
	libraries/javalib/kaffe/io/ByteToCharKOI8_R.ser,
	libraries/javalib/kaffe/io/ByteToCharMS932.java,
	libraries/javalib/kaffe/io/ByteToCharSHIFT_JIS.java,
	libraries/javalib/kaffe/io/ByteToCharUTF8.java,
	libraries/javalib/kaffe/io/CharToByte8859_1.java,
	libraries/javalib/kaffe/io/CharToByte8859_2.ser,
	libraries/javalib/kaffe/io/CharToByte8859_3.ser,
	libraries/javalib/kaffe/io/CharToByte8859_4.ser,
	libraries/javalib/kaffe/io/CharToByte8859_5.ser,
	libraries/javalib/kaffe/io/CharToByte8859_6.ser,
	libraries/javalib/kaffe/io/CharToByte8859_7.ser,
	libraries/javalib/kaffe/io/CharToByte8859_8.ser,
	libraries/javalib/kaffe/io/CharToByte8859_9.ser,
	libraries/javalib/kaffe/io/CharToByteASCII.ser,
	libraries/javalib/kaffe/io/CharToByteCP037.ser,
	libraries/javalib/kaffe/io/CharToByteCP1026.ser,
	libraries/javalib/kaffe/io/CharToByteCP1046.ser,
	libraries/javalib/kaffe/io/CharToByteCP1250.ser,
	libraries/javalib/kaffe/io/CharToByteCP1251.ser,
	libraries/javalib/kaffe/io/CharToByteCP1252.ser,
	libraries/javalib/kaffe/io/CharToByteCP1253.ser,
	libraries/javalib/kaffe/io/CharToByteCP1254.ser,
	libraries/javalib/kaffe/io/CharToByteCP1255.ser,
	libraries/javalib/kaffe/io/CharToByteCP1256.ser,
	libraries/javalib/kaffe/io/CharToByteCP1257.ser,
	libraries/javalib/kaffe/io/CharToByteCP1258.ser,
	libraries/javalib/kaffe/io/CharToByteCP850.ser,
	libraries/javalib/kaffe/io/CharToByteCP852.ser,
	libraries/javalib/kaffe/io/CharToByteCP855.ser,
	libraries/javalib/kaffe/io/CharToByteCP857.ser,
	libraries/javalib/kaffe/io/CharToByteCP860.ser,
	libraries/javalib/kaffe/io/CharToByteCP861.ser,
	libraries/javalib/kaffe/io/CharToByteCP862.ser,
	libraries/javalib/kaffe/io/CharToByteCP863.ser,
	libraries/javalib/kaffe/io/CharToByteCP864.ser,
	libraries/javalib/kaffe/io/CharToByteCP865.ser,
	libraries/javalib/kaffe/io/CharToByteCP866.ser,
	libraries/javalib/kaffe/io/CharToByteCP868.ser,
	libraries/javalib/kaffe/io/CharToByteCP869.ser,
	libraries/javalib/kaffe/io/CharToByteCP870.ser,
	libraries/javalib/kaffe/io/CharToByteCP871.ser,
	libraries/javalib/kaffe/io/CharToByteCP875.ser,
	libraries/javalib/kaffe/io/CharToByteCP918.ser,
	libraries/javalib/kaffe/io/CharToByteConverter.java,
	libraries/javalib/kaffe/io/CharToByteDefault.java,
	libraries/javalib/kaffe/io/CharToByteHashBased.java,
	libraries/javalib/kaffe/io/CharToByteIconv.java,
	libraries/javalib/kaffe/io/CharToByteKOI8_R.ser,
	libraries/javalib/kaffe/io/CharToByteMS932.java,
	libraries/javalib/kaffe/io/CharToByteSHIFT_JIS.java,
	libraries/javalib/kaffe/io/CharToByteUTF8.java,
	libraries/javalib/kaffe/io/CircularBuffer.java,
	libraries/javalib/kaffe/io/ClassLoaderObjectInputStream.java,
	libraries/javalib/kaffe/io/ConverterAlias.java,
	libraries/javalib/kaffe/io/KaffeCharset.java,
	libraries/javalib/kaffe/io/KaffeCharsetProvider.java:
	Removed no longer necessary files.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java:
	Removed file.encoding and file.encoding.pkg properties.

	Reported by:  Mark Wielaard  <mark@klomp.org>

2004-04-23  Jeroen van Wolffelaar <jeroen@wolffelaar.nl>

	* test/regression/TestScript.in:
	SIGKILL kaffe in testsuite when SIGTERM doesn't work,
	prevent timeouts during build.

2005-04-23  Supreet Sethi  <supreet@linux-delhi.org>

	* configure.ac: Added jdb script.

	* kaffe/scripts/Makefile.am: Added jdb script.

	* kaffe/scripts/jdb.in: place holder for tomcat.

2005-04-23  Daniel Bonniot  <bonniot@users.sourceforge.net>

	* kaffe/kaffevm/jit3/machine.c 
	[KAFFE_XDEBUGGING](installMethodCode):
	Handle class files without a SourceFile attribute
	more gracefully when xdebugging.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/Document.java:
	Added API documentation comments.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/AbstractDocument.java
	(getDocumentProperties): Implemented.
	(setDocumentProperties): Implemented.
	(getProperty): Implemented.
	(putProperty): Implemented.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(connectSignals): Realize the window widget after connecting
	signals.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout
	(preferredLayoutSize): Fixed computation so that it correctly
	adds the top and bottom insets of the container.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuItemUI.java
	(paintText): Make use of the 'selectionForeground' UI default
	for text painting.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initSystemColorDefaults): Modified colors to match the
	BasicLookAndFeel in the reference implementation.
	(initComponentDefaults): Likewise.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Michael Koch  <konqueror@gmx.de>

	* gnu/classpath/SystemProperties.java:
	Reformatted.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-21  Casey Marshall <csm@gnu.org>

	* gnu/java/security/der/DERValue.java
	(getValueAs): new method.
	* gnu/java/security/x509/ext/PrivateKeyUsagePeriod.java
	(<init>): read both dates with 'DERValue.getValueAs', with
	'GENERALIZED_TIME' as the argument.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Changed Button.border to be
	BasicBorders.getButtonBorder as it should be.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTabbedPaneUI.java:
	(getMaximumSize): Return (Short.MAX_VALUE, Short.MAX_VALUE) as it
	should according to a mauve testcase, instead of the preferred
	size.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU inetlib:

	2005-04-20  Robert Mitchell  <mitchelr@ipfw.edu>

	* IMAPConnection.java: Avoid NullPointerException when the server
	returns no matches.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* java/io/OutputStreamWriter.java:
	(close): Do nothing on multiple closes.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/JMenu.java
	(add): add(Component) now calls PopupMenu.insert(..) instead of
	PopupMenu.add(..). add(..) is not implemented for Component,
	so JComponent.add(..) is called instead, adding the component
	in the wrong place.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getDefaults): Call addCustomEntriesToTable on the theme.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonListener.java
	(mousePressed): replaced query to getModifiersEx with getModifiers.
	This method relied on faulty behaviour in getModifierEx.
	(mouseReleased): replaced query to getModifiersEx with getModifiers.
	This method relied on faulty behaviour in getModifierEx.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/DefaultTreeSelectionModel.java
	(constructor): Added implementation.
	(getRowMapper): Added implementation.
	(setSelectionMode): Added implementation.
	(getSelectionMode): Added implementation.
	(getSelectionPath): Added implementation.
	(getSelectionPaths): Added implementation.
	(getSelectionCount): Added implementation.
	(isSelectionEmpty): Added implementation.
	(getSelectionRows): Added implementation.
	(getMinSelectionRow): Added implementation.
	(getMaxSelectionRow): Added implementation.
	(getLeadSelectionRow): Added implementation.
	(getLeadSelectionPath): Added implementation.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* java/nio/charset/Charset.java:
	(defaultCharset()): New method.
	Status updated to 1.5

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* gnu/java/io/EncodingManager.java: Removed charset alias properties.
	* gnu/java/io/decode/Decoder.java,
	* gnu/java/io/decode/Decoder8859_1.java,
	* gnu/java/io/decode/Decoder8859_13.java,
	* gnu/java/io/decode/Decoder8859_15.java,
	* gnu/java/io/decode/Decoder8859_2.java,
	* gnu/java/io/decode/Decoder8859_3.java,
	* gnu/java/io/decode/Decoder8859_4.java,
	* gnu/java/io/decode/Decoder8859_5.java,
	* gnu/java/io/decode/Decoder8859_6.java,
	* gnu/java/io/decode/Decoder8859_7.java,
	* gnu/java/io/decode/Decoder8859_8.java,
	* gnu/java/io/decode/Decoder8859_9.java,
	* gnu/java/io/decode/DecoderASCII.java,
	* gnu/java/io/decode/DecoderCp1047.java,
	* gnu/java/io/decode/DecoderEBCDIC_XML_US.java,
	* gnu/java/io/decode/DecoderEightBitLookup.java,
	* gnu/java/io/decode/DecoderUTF16BE.java,
	* gnu/java/io/decode/DecoderUTF16LE.java,
	* gnu/java/io/decode/DecoderUTF32BE.java,
	* gnu/java/io/decode/DecoderUTF32LE.java,
	* gnu/java/io/decode/DecoderUTF8.java,
	* gnu/java/io/decode/DecoderUnicodeBig.java,
	* gnu/java/io/decode/DecoderUnicodeLittle.java,
	* gnu/java/io/decode/DecoderWindows1250.java,
	* gnu/java/io/decode/DecoderWindows1252.java,
	* gnu/java/io/decode/package.html
	* gnu/java/io/encode/Encoder.java,
	* gnu/java/io/encode/Encoder8859_1.java,
	* gnu/java/io/encode/Encoder8859_13.java,
	* gnu/java/io/encode/Encoder8859_15.java,
	* gnu/java/io/encode/Encoder8859_2.java,
	* gnu/java/io/encode/Encoder8859_3.java,
	* gnu/java/io/encode/Encoder8859_4.java,
	* gnu/java/io/encode/Encoder8859_5.java,
	* gnu/java/io/encode/Encoder8859_6.java,
	* gnu/java/io/encode/Encoder8859_7.java,
	* gnu/java/io/encode/Encoder8859_8.java,
	* gnu/java/io/encode/Encoder8859_9.java,
	* gnu/java/io/encode/EncoderASCII.java,
	* gnu/java/io/encode/EncoderCp1047.java,
	* gnu/java/io/encode/EncoderEBCDIC_XML_US.java,
	* gnu/java/io/encode/EncoderEightBitLookup.java,
	* gnu/java/io/encode/EncoderUTF16BE.java,
	* gnu/java/io/encode/EncoderUTF16LE.java,
	* gnu/java/io/encode/EncoderUTF32BE.java,
	* gnu/java/io/encode/EncoderUTF32LE.java,
	* gnu/java/io/encode/EncoderUTF8.java,
	* gnu/java/io/encode/EncoderUnicodeBig.java,
	* gnu/java/io/encode/EncoderUnicodeLittle.java,
	* gnu/java/io/encode/EncoderWindows1250.java,
	* gnu/java/io/encode/EncoderWindows1252.java,
	* gnu/java/io/encode/package.html:
	Removed

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Michael Koch  <konqueror@gmx.de>

	* java/awt/geom/QuadCurve2D.java:
	Fixed Brian Gough's name for real.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonUI.java
	(paint): This should not care about margin and insets
	at the same time, as insets already include the margin
	through the border.
	* javax/swing/plaf/basic/BasicGraphicsUtils.java
	(getPreferredButtonSize): Likewise.
	* javax/swing/plaf/metal/MetalBorders.java
	(getBorderInsets): Likewise.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicOptionPaneUI.java
	(createMessageArea): The JPanel that holds the message area
	doesn't need to override getPreferredSize. This prevents some
	message components from rendering nicely.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URL.java:
	(toURI()): Implemented.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* java/io/InputStreamReader.java:
	(read): Fix several bugs leading to incorrect length being returned.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* java/nio/ByteBufferImpl.java:
	(putChar): Inlined for speed.
	(put, get): Bulk methods can use arraycopy.
	* java/nio/CharBufferImpl.java:
	(put, get): Bulk methods can use arraycopy.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/DefaultTreeSelectionModel.java:
	Added API documentation all over the class.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* include/Makefile.am,
	* native/jni/java-nio/Makefile.am: Added new files.
	* gnu/java/nio/charset/iconv/IconvCharset.java,
	* gnu/java/nio/charset/iconv/IconvDecoder.java,
	* gnu/java/nio/charset/iconv/IconvEncoder.java,
	* gnu/java/nio/charset/iconv/IconvMetaData.java,
	* gnu/java/nio/charset/iconv/IconvProvider.java,
	* native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
	* native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
	* include/gnu_java_nio_charset_iconv_IconvDecoder.h,
	* include/gnu_java_nio_charset_iconv_IconvEncoder.h:
	New files.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollPaneUI.java
	(installDefaults): Link managed JScrollPane in instance field.
	(uninstallDefaults): Unlink managed JScrollPane in instance field.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollBarUI.java
	(PropertyChangeHandler.propertyChange): Add default
	to switch statement to avoid errors with unusual values
	for orientation.
	(installComponents): Likewise.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollBarUI.java
	(installUI): Install listeners after everything all, otherwise
	we get strange NPEs in some situations, especially with
	custom L&Fs.
	(createIncreaseButton): Orientation is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.
	(createDecreaseButton): Orientation is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.
	(installComponents): Orientation for buttons is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* java/nio/ByteBufferImpl.java (get(), put(byte)): Inlined checks
	and field updates.
	* java/nio/CharBufferImpl.java
	(CharBufferImpl(CharBufferImpl)): Copy array_offset field.
	(get(), put(char)): Inlined checks and field updates. Fixed to
	take array_offset into account.
	(get(int), put(int, char)): Fixed to take array_offset into account.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* java/awt/GraphicsEnvironment.java
	(localGraphicsEnvironment): New field.
	(getLocalGraphicsEnvironment): Added support for java.awt.graphicsenv
	property.
	(isHeadless): Added support for java.awt.headless property.
	(isHeadlessInstance): Call headless().

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/JToolBar.java
	(addImpl): Adjust added AbstractButtons to look and feel like
	toolbar buttons.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/beans/IntrospectionIncubator.java
	(addToPropertyHash, addToListenerHash): Don't confuse get(),
	set(), is(), add() and remove() with properties or events.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/SimpleAttributeSet.java
	(addAttribute): Removed null pointer check.
	* javax/swing/text/StyleContext.java
	(NamedStyle.setResolveParent): Added null pointer check.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIManager.java:
	Make the UIManager respect the swing.defaultlaf system
	property.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/SimpleAttributeSet.java
	(addAttribute): Check for null and remove key in that case.
	This fixes http://gcc.gnu.org/bugzilla/show_bug.cgi?id=21064 .

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Roman Kennke  <roman@kennke.org>

	* java/awt/BorderLayout.java
	(calcSize): Check for overflow when component sizes are added.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/rmi/Naming.java:
	Added class documentation.
	(lookup(String)): Call parseURL and getName.
	(bind(String,java.rmi.Remote)): Likewise.
	(unbind(String)): Likewise.
	(rebind(String, java.rmi.Remote)): Likewise.
	(list(String)): Call parseURL.
	(parseURL(String)): New method to handle parsing and defaults.
	(getName(java.net.URL)): New method to handle finding the service name.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URI.java:
	Added class documentation.
	(parseURI(String)): Only handle scheme-specific parts
	if URI is not opaque.  Allow for parts that can't be null.
	(toString()): Output the scheme-specific part whole, rather
	than as its possibly non-existent components.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* java/rmi/server/RemoteObject.java:
	Removed unused import statement.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* include/Makefile.am: Removed java_io_ObjectInputStream.h
	and added java_io_VMObjectInputStream.h.
	* java/io/ObjectInputStream.java
	(currentClassLoader): Removed.
	(allocateObject): Likewise.
	* native/jni/java-io/Makefile.am: Removed java_io_ObjectInputStream.c
	and added java_io_VMObjectInputStream.c.
	* native/jni/java-io/java_io_ObjectInputStream.c: Removed.
	* native/jni/java-io/java_io_VMObjectInputStream.c: New file.
	* vm/reference/java/io/VMObjectInputStream.java: Likewise.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am (NOINSTALL_DERIVED_HDRS):
	Added java_net_InetAddress.h and java_net_NetworkInterface.h.

	Reported by:  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/clib/native/Array.c,
	libraries/clib/native/Field.c,
	libraries/clib/native/Method.c:
	Fixed includes.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMDouble.c:
	(parseDoubleFromChars) New function. Factored out from ...
	(Java_java_lang_VMDouble_parseDouble): Factored out the parsing.
	(dtoa_toString): New function. Factored out from ...
	(Java_java_lang_VMDouble_toString) : Factored out the conversion.
	Changed conversion mode to 2, as modes 0 and 1 don't round
	as the API spec demands. Invoke conversion function as often
	as necessary with growing precision until a reversible
	representaiton of the double in form of a string is reached.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Added information on fdlibm.

	* configure.ac (AC_CONFIG_FILES): 
	Added libraries/clib/fdlibm/Makefile.

	* include/Makefile.am (NOINSTALL_JNI_DERIVED_HDRS):
	Added java_lang_VMDouble.h and java_lang_VMFloat.h.
	(NOINSTALL_DERIVED_HDRS) Removed java_lang_Double.h and
	java_lang_Float.h.

	* libraries/clib/Makefile.am (SUBDIRS): Added fdlibm.

	* libraries/clib/native/Double.c,
	libraries/clib/native/Float.c: Removed.

	* libraries/clib/native/Makefile.am 
	(AM_CPPFLAGS): Added fdlibm.
	(LANG_SRCS) Removed Double.c and Float.c. 
	Added java_lang_VMDouble.c and java_lang_VMFloat.c.
	(libnative_la_DEPENDENCIES) Added fdlibm.

	* libraries/clib/native/java_lang_VMDouble.c,
	libraries/clib/native/java_lang_VMFloat.c,
	libraries/javalib/java/lang/VMDouble.java,
	libraries/javalib/java/lang/VMFloat.java:
	New files. Taken from GNU Classpath.

	* libraries/javalib/java/lang/Double.java,
	libraries/javalib/java/lang/Float.java:  
	Replaced by implementation from GNU Classpath.

	* libraries/clib/fdlibm/Makefile.am,
	libraries/clib/fdlibm/Makefile.in,
	libraries/clib/fdlibm/dtoa.c,
	libraries/clib/fdlibm/e_acos.c,
	libraries/clib/fdlibm/e_asin.c,
	libraries/clib/fdlibm/e_atan2.c,
	libraries/clib/fdlibm/e_exp.c,
	libraries/clib/fdlibm/e_fmod.c,
	libraries/clib/fdlibm/e_log.c,
	libraries/clib/fdlibm/e_pow.c,
	libraries/clib/fdlibm/e_rem_pio2.c,
	libraries/clib/fdlibm/e_remainder.c,
	libraries/clib/fdlibm/e_scalb.c,
	libraries/clib/fdlibm/e_sqrt.c,
	libraries/clib/fdlibm/fdlibm.h,
	libraries/clib/fdlibm/ieeefp.h,
	libraries/clib/fdlibm/java-assert.h,
	libraries/clib/fdlibm/k_cos.c,
	libraries/clib/fdlibm/k_rem_pio2.c,
	libraries/clib/fdlibm/k_sin.c,
	libraries/clib/fdlibm/k_tan.c,
	libraries/clib/fdlibm/mprec.c,
	libraries/clib/fdlibm/mprec.h,
	libraries/clib/fdlibm/s_atan.c,
	libraries/clib/fdlibm/s_ceil.c,
	libraries/clib/fdlibm/s_copysign.c,
	libraries/clib/fdlibm/s_cos.c,
	libraries/clib/fdlibm/s_fabs.c,
	libraries/clib/fdlibm/s_floor.c,
	libraries/clib/fdlibm/s_rint.c,
	libraries/clib/fdlibm/s_scalbn.c,
	libraries/clib/fdlibm/s_sin.c,
	libraries/clib/fdlibm/s_tan.c,
	libraries/clib/fdlibm/sf_fabs.c,
	libraries/clib/fdlibm/sf_rint.c,
	libraries/clib/fdlibm/strtod.c,
	libraries/clib/fdlibm/w_acos.c,
	libraries/clib/fdlibm/w_asin.c,
	libraries/clib/fdlibm/w_atan2.c,
	libraries/clib/fdlibm/w_exp.c,
	libraries/clib/fdlibm/w_fmod.c,
	libraries/clib/fdlibm/w_log.c,
	libraries/clib/fdlibm/w_pow.c,
	libraries/clib/fdlibm/w_remainder.c,
	libraries/clib/fdlibm/w_sqrt.c:
	New files. Taken from GNU Classpath.

2005-04-20  Dalibor Topic  <robilad@kaffe.org>

	* test/regression/Bean.java,
	test/regression/Reflect.java: Updated expected output.

	* libraries/clib/native/Object.c: Updated getClass signature.

	Resynced with GNU Classpath.

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* java/lang/Object.java
	(getClass): Refactored to call the native in java.lang.VMObject.
	* vm/reference/java/lang/VMObject.java
	(getClass): Likewise.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/text/DecimalFormatSymbols.java:
	Added retrieval of "XXX" instance in place of null.
	* java/util/Currency.java,
	(Currency(String)): New constructor for the XXX special case.
	(getInstance(String)): Allow special case of "XXX".

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Sven de Marothy  <sven@physto.se>

	* java/io/InputStreamReader.java,
	* java/io/OutputStreamWriter.java,
	* java/lang/String.java: Move to NIO charsets.
	* java/io/PrintStream.java: Inline conversion using String.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-14  Chris Burdess  <dog@gnu.org>

	* java/io/DataOutputStream.java (writeUTF): Use block write for
	output.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java
	(getBorderInsets): Likewise.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalInternalFrameUI.java
	(createUI): Do not share instances between components.
	* javax/swing/plaf/metal/MetalSliderUI.java
	(createUI): Do not share instances between components.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders:
	(PopupMenuBorder): Added.
	* javax/swing/plaf/metal/MetalLookAndFeel
	(initComponentDefaults): Added PopupMenuBorder.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalScrollBarUI.java:
	(createUI): Instances cannot be shared among JScrollPanes.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added defaults for Menu, MenuBar
	MenuEntry fonts.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java:
	Adjusted insets of ButtonBorder.
	(RolloverMarginBorder): Added class for toolbar buttons.
	(getButtonBorder): Adjusted factory method to return a shared
	instance of button border.
	(getToolbarButtonBorder): Added factory method to return a shared
	instance of toolbar button border.
	(getMarginBorder): Added factory method to return a shared
	instance of margin border.
	* javax/swing/plaf/metal/MetalButtonUI.java
	(installDefauls): If button is child of a JToolBar then set
	special border on this button.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added Label.font.
	(initSystemColorDefaults): Added this method and adjusted the
	general control color.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Added newline between import blocks. Changed Map to
	HashMap in field declarations.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java:
	Added.
	* javax/swing/plaf/metal/MetalButtonUI.java:
	(installDefaults): Install button font.
	* javax/swing/plaf/metal/MetalLookAndFeel.java:
	(initComponentDefaults): Added button border, font and margin.
	Changed components background color to the Metal current themes
	standard color.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalTabbedPaneUI.java
	(createUI): Create one MetalTabbedPaneUI per Component instead
	of sharing one instance.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added to set Metal specific component
	defaults.

	2005-04-14  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initClassDefaults): Call super.initClassDefaults().

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initClassDefaults): Added to include the *UI classes.

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalComboBoxUI.java:
	Added.
	* javax/swing/plaf/metal/MetalDesktopIconUI.java:
	Added.
	* javax/swing/plaf/metal/MetalInternalFrameUI.java:
	Added.
	* javax/swing/plaf/metal/MetalPopupMenuSeparatorUI.java:
	Added.
	* javax/swing/plaf/metal/MetalProgressBarUI.java:
	Added.
	* javax/swing/plaf/metal/MetalRootPaneUI.java:
	Added.
	* javax/swing/plaf/metal/MetalScrollBarUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSeparatorUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSliderUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSplitPaneUI.java:
	Added.
	* javax/swing/plaf/metal/MetalTextFieldUI.java:
	Added.
	* javax/swing/plaf/metal/MetalToggleButtonUI.java:

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalButtonUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalCheckBoxUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalLabelUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalScrollPaneUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Fixed year in copyright notice.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalButtonUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalCheckBoxUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalLabelUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalScrollPaneUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Added skeleton class.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java:
	Reindented tabs to spaces.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(MediaEntry.imageUpdate): Removed check for SOMEBITS, this
	confused the media tracker and lead to lockups. The LOADING
	bit is handled on other places.
	(addImage): Removed the 'start image tracking' stuff. This
	is not necessary and could confuse the media tracker.
	(checkAll): Improved the check for image status so that
	images that already complete images are detected. Also now
	are really all images checked and if necessary loaded. Before
	the method bailed out after the first incomplete image.
	(statusAll): Detect images that are complete after the
	call to Component.prepareImage(..).
	(checkID): The same as in checkAll.
	(statusID): The same as in statusAll.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuUI.java
	(getMaximumSize): Now returns preferredSize because JMenu should
	never be bigger than that.
	* javax/swing/JRootPane
	(RootLayout.layoutContainer): Make JMenuBars take the whole width.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuBarUI.java:
	Fixed tabs to spaces.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/JRootPane.java:
	Fixed various tabs to be spaces.
	(RootLayout.layoutContainer): Made menubar left aligned.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java:
	Modified alignmentX and alignmentY to be 0.5 instead of 0.0.
	Untabified the file.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout.java:
	(layoutContainer): Made this layout manager respect the
	minimum, maximum and preferred size more correctly.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(addImage): Synchronized list access.
	(waitForAll): Fixed comparison of time (changed < to >).
	(waitForID): Fixed comparison of time (changed < to >).
	(removeImage): Synchronized list access.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/io/FilePermission.java
	(serialVersionUID): Made private.
	(ALL_FILES): New constant.
	(implies): Handle '<<ALL FILES>>' case.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Audrius Meskauskas, Lithuania  <AudriusA@Bioinformatics.org>

	* javax/swing/text/html/HTMLDocument.java: New file.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* javax/swing/text/html/HTMLFrameHyperlinkEvent.java:
	Reformatted.
	* javax/swing/text/html/parser/AttributeList.java:
	Fixed order of modifiers.
	(AttributeList): Made final.
	* javax/swing/text/html/parser/ContentModel.java:
	Fixed html characters in javadocs.
	* javax/swing/text/html/parser/DTD.java
	(DTD): Don't implement java.io.Serializable directly.
	(getElement): Simplified.
	* javax/swing/text/html/parser/DTDConstants.java:
	Reformatted file.
	* javax/swing/text/html/parser/Element.java:
	Fixed order of modifiers.
	* javax/swing/text/html/parser/Parser.java:
	Reformatted. Don't use fully-qualified class names.
	* javax/swing/text/html/parser/ParserDelegator.java:
	Fixed order of modifiers.
	* javax/swing/text/rtf/RTFParser.java:
	Re-ordered import statements.
	* javax/swing/text/rtf/RTFScanner.java:
	Removed unused import statement.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/image/RasterOp.java:
	Fixed wrong formatting.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/print/PrinterJob.java
	(pageDialog): New method.
	(printDialog): Implemented.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/FontMetrics.java: Reformatted.
	(getFontRenderContext): Handle case when java.awt.Graphics context is
	given.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/FontMetrics.java
	(getStringBounds): New methods.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/net/NetworkInterface.java
	(NetworkInterface): Made constructor package private.
	Introduced another constructor for more addresses on one
	interface.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	* libraries/clib/native/InetAddress.c:
	All native methods moved to class VMInetAddress.

	* libraries/clib/native/NetworkInterface.c:
	All native methods moved to class VMNetworkInterface.

	2005-04-11  Michael Koch  <konqueror@gmx.de>

	* java/net/InetAddress.java
	(static): Removed.
	(getLocalHostname): Likewise.
	(lookupInaddrAny): Likewise.
	(getHostByAddr): Likewise.
	(getHostByName): Likewise.
	* java/net/NetworkInterface.java
	(static): Likewise.
	(getRealNetworkInterfaces): Likewise.
	* vm/reference/java/net/VMInetAddress.java,
	vm/reference/java/net/VMNetworkInterface.java: New files.
	* include/Makefile.am: Build new header files.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-11  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	Added API documentation.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-11  Michael Koch  <konqueror@gmx.de>

	* javax/imageio/ImageIO.java (ReaderFormatFilter.filter):
	Fixed wrong casting.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-10  Sven de Marothy  <sven@physto.se>

	* java/text/SimpleDateFormat.java:
	(formatWithAttribute): Pad year before truncating digits.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/EncodingHelper.java: Added method

	2005-04-13  Sven de Marothy  <sven@physto.se>

	* java/nio/charset/Charset.java: Cached encoders shouldn't be static.

	2005-04-12  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/Provider.java: Add UnicodeLittle.
	* gnu/java/nio/charset/UnicodeLittle.java: New file.
	* gnu/java/nio/charset/UTF_16.java: UnicodeBig is an alias.
	* gnu/java/nio/charset/UTF_16BE.java,
	* gnu/java/nio/charset/UTF_16LE.java: No byte-order mark.
	* gnu/java/nio/charset/UTF_16Encoder.java (encodeLoop): Fixed bug.

	2005-04-08  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/UTF_8.java
	(Decoder): Previous fix was incorrect. Sorry.
	* java/nio/charset/Charset.java: Reset cached de/encoders.
	* java/nio/charset/CharsetDecoder.java,
	java/nio/charset/CharsetEncoder.java:
	Resize encoding/decoding result buffers.

	2005-04-08  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/Provider.java: Add new charsets.
	* gnu/java/nio/charset/UTF_16.java: Default to using BOM.
	* gnu/java/nio/charset/UTF_16Decoder.java: Minor fixes.
	* gnu/java/nio/charset/UTF_16Encoder.java,
	Use NIO's built-in byte-ordering instead.
	* gnu/java/nio/charset/UTF_8.java,
	(Decoder): Correct values of maximum chars per byte.
	(decodeLoop): Handle 4-byte surrogates.
	* gnu/java/nio/charset/ByteCharset.java
	* gnu/java/nio/charset/Cp424.java
	* gnu/java/nio/charset/Cp437.java
	* gnu/java/nio/charset/Cp737.java
	* gnu/java/nio/charset/Cp775.java
	* gnu/java/nio/charset/Cp850.java
	* gnu/java/nio/charset/Cp852.java
	* gnu/java/nio/charset/Cp855.java
	* gnu/java/nio/charset/Cp857.java
	* gnu/java/nio/charset/Cp860.java
	* gnu/java/nio/charset/Cp861.java
	* gnu/java/nio/charset/Cp862.java
	* gnu/java/nio/charset/Cp863.java
	* gnu/java/nio/charset/Cp864.java
	* gnu/java/nio/charset/Cp865.java
	* gnu/java/nio/charset/Cp866.java
	* gnu/java/nio/charset/Cp869.java
	* gnu/java/nio/charset/Cp874.java
	* gnu/java/nio/charset/EncodingHelper.java
	* gnu/java/nio/charset/ISO_8859_13.java
	* gnu/java/nio/charset/ISO_8859_15.java
	* gnu/java/nio/charset/ISO_8859_2.java
	* gnu/java/nio/charset/ISO_8859_3.java
	* gnu/java/nio/charset/ISO_8859_4.java
	* gnu/java/nio/charset/ISO_8859_5.java
	* gnu/java/nio/charset/ISO_8859_6.java
	* gnu/java/nio/charset/ISO_8859_7.java
	* gnu/java/nio/charset/ISO_8859_8.java
	* gnu/java/nio/charset/ISO_8859_9.java
	* gnu/java/nio/charset/KOI_8.java
	* gnu/java/nio/charset/MS874.java
	* gnu/java/nio/charset/MacCentralEurope.java
	* gnu/java/nio/charset/MacCroatian.java
	* gnu/java/nio/charset/MacCyrillic.java
	* gnu/java/nio/charset/MacDingbat.java
	* gnu/java/nio/charset/MacGreek.java
	* gnu/java/nio/charset/MacIceland.java
	* gnu/java/nio/charset/MacRoman.java
	* gnu/java/nio/charset/MacRomania.java
	* gnu/java/nio/charset/MacSymbol.java
	* gnu/java/nio/charset/MacThai.java
	* gnu/java/nio/charset/MacTurkish.java
	* gnu/java/nio/charset/Windows1250.java
	* gnu/java/nio/charset/Windows1251.java
	* gnu/java/nio/charset/Windows1252.java
	* gnu/java/nio/charset/Windows1253.java
	* gnu/java/nio/charset/Windows1254.java
	* gnu/java/nio/charset/Windows1255.java
	* gnu/java/nio/charset/Windows1256.java
	* gnu/java/nio/charset/Windows1257.java
	* gnu/java/nio/charset/Windows1258.java
	New files.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(MediaEntry.imageUpdate): Fixed flags. The different flags
	must not be ORed together.
	(checkAll): Modified to handle different meaning of the flags.
	(waitForAll): Fixed so that it waits maximum the
	specified amount of milliseconds.
	(statusAll): Modified to handle different meaning of the flags.
	(waitForID): Fixed so that it waits maximum the
	specified amount of milliseconds.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/ImageIcon.java
	(ImageIcon): Use setImage instead of direct assignment.
	(setImage): Call loadImage to make sure that the image is loaded.
	(loadImage): Waits for the image to complete loading.
	(getImageLoadStatus): Added. Returns the load status of the
	image.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/JTextComponent.java
	(JTextComponent): Added repaintListener which issues repaint
	requests when the underlying document changes.
	(setDocument): Adds repaintListener to document when the
	document is changed.
	* javax/swing/text/DefaultEditorKit.java:
	Removed repaint calls on JTextComponent. This is now handled
	through a DocumentListener in JTextComponent that repaints
	the component when needed.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-07  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIDefaults.java:
	Added API documentation for all methods.

	2005-04-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIDefaults.java
	(put): Now uses new checkAndPut method instead of checking
	directly.
	(putDefaults): Fixed so that it accepts null-values and
	treats them like remove(key).
	(checkAndPut): Added. This checks for null-values and calls
	put or remove.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU inetlib.

	2005-04-06  Chris Burdess  <dog@gnu.org>

	* CRLFInputStream.java: New algorithm, returning CRLF-delimited
	chunks on each read.

	2005-02-17  Chris Burdess  <dog@gnu.org>

	* BASE64.java: Truncate encoded byte array.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-07  Chris Burdess  <dog@gnu.org>

	* gnu/java/net/CRLFInputStream.java: Rewrite to return
	CRLF-delimited chunks.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-05  Roman Kennke  <roman@kennke.org>

	* gnu/java/awt/peer/gtk/GdkScreenGraphicsDevice.java
	(getDisplayMode): Added. Returns the current display mode.
	(isFullScreenSupported): Added.
	* java/awt/GraphicsDevice.java
	(setFullScreenWindow): Implemented a primitive fullscreen mode.
	This resizes and relocates the fullscreen window so that it uses
	the whole screen. This is not a fully accelerated fullscreen
	exclusive mode.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-01  Tom Tromey  <tromey@redhat.com>

	* java/lang/AssertionError.java: Typo fix.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-31  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* javax/swing/text/JTextComponent.java (viewToModel): New method.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-31  Michael Koch  <konqueror@gmx.de>

	* gnu/java/awt/peer/gtk/GdkGraphics.java
	(getClipBounds): Handle clip being null.
	(setClip): Likewise.
	* java/beans/beancontext/BeanContextSupport.java
	(add): Implemented.
	(addAll): Likewise.
	(clear): Likewise.
	(removeAll): Likewise.
	(retainAll): Likewise.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	(drawImage): Don't notify the image observer for offscreen images.
	* gnu/java/awt/peer/gtk/GtkImagePainter.java:
	(setPixels): Don't notify the image observer.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/beans/beancontext/BeanContextServicesSupport.java
	(BeanContextServicesSupport): Reimplemented.
	(addBeanContextServicesListener): Implemented.
	(initialize): Likewise.
	(removeBeanContextServicesListener): Likewise.
	* java/beans/beancontext/BeanContextSupport.java
	(add): Likewise.
	(addBeanContextMembershipListener): Likewise.
	(getLocale): Likewise.
	(initialize): Likewise.
	(iterator): Likewise.
	(remove): Likewise.
	(toArray): Likewise.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/awt/image/ConvolveOp.java:
	Removed comment added by eclipse.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* gnu/xml/aelfred2/XmlParser.java:
	Revert my typo fix.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/awt/geom/CubicCurve2D.java,
	java/awt/geom/QuadCurve2D.java:
	Fixed typo in name of Brian Cough.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Re-indented to match GNU Classpath's indentation style more closely.

2005-04-18  Michael Franz  <mvfranz@gmail.com>
	
	* FAQ/FAQ.debugging: Added new informations on how to debug kaffe
	easily.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-29  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/classpath/SystemProperties.java (static): Converted encoding
	aliases to lower case and removed redudant aliases.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Tom Tromey  <tromey@redhat.com>

	* java/lang/ClassLoader.java (loadClass): Resolve class even if
	it was already found.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Tom Tromey  <tromey@redhat.com>

	* java/net/URL.java (DEFAULT_SEARCH_PATH): Added
	org.metastatic.jessie.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Sven de Marothy  <sven@physto.se>

	* gnu/java/io/decode/DecoderUnicodeBig.java,
	* gnu/java/io/decode/DecoderUnicodeLittle.java,
	* gnu/java/io/encode/EncoderUnicodeBig.java,
	* gnu/java/io/encode/EncoderUnicodeLittle.java:
	New files.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomNode.java (notifyNode): grow listener array as
	required.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Jeroen Frijters  <jeroen@frijters.net>

	* java/awt/image/PixelGrabber.java (setPixels(int,int,int,int,
	ColorModel,byte[],int,int): Fixed byte to int conversion.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Jeroen Frijters  <jeroen@frijters.net>

	* javax/imageio/spi/IIORegistry.java (IIORegistry):
	Don't assume that awt Toolkit is always ClasspathToolkit.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-23  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/xml/dom/html2/DomHTMLParser.java
	Changed 'enum' references to become 'enumeration'.

	2005-03-21  Audrius Meskauskas  <audriusa@bluewin.ch>

	* gnu/xml/dom/html2/DomHTMLParser.java: New file.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-04-11  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* org/omg/CORBA/Request.java:
	(send_deferred): Added missing 'abstract' keyword.

	2005-04-10  Audrius Meskauskas  <audriusa@bluewin.ch>	

	* org/omg/CORBA/PRIVATE_MEMBER.java,
	org/omg/CORBA/PUBLIC_MEMBER.java,
	org/omg/CORBA/Request.java,
	org/omg/CORBA/StructMember.java,
	org/omg/CORBA/UnionMember.java,
	org/omg/CORBA/UNSUPPORTED_POLICY.java,
	org/omg/CORBA/UNSUPPORTED_POLICY_VALUE.java,
	org/omg/CORBA/ValueMember.java,
	org/omg/CORBA/VM_ABSTRACT.java,
	org/omg/CORBA/VM_CUSTOM.java,
	org/omg/CORBA/VM_NONE.java,
	org/omg/CORBA/VM_TRUNCATABLE.java,
	org/omg/CORBA/WrongTransaction.java,
	org/omg/CORBA/BAD_POLICY.java,
	org/omg/CORBA/BAD_POLICY_TYPE.java,
	org/omg/CORBA/BAD_POLICY_VALUE.java,
	org/omg/CORBA/Environment.java,
	org/omg/CORBA/IDLType.java,
	org/omg/CORBA/OMGVMCID.java: new files.

	2005-04-09  Audrius Meskauskas  <audriusa@bluewin.ch>	

	* org/omg/CORBA/DynAnyPackage/Invalid.java,
	org/omg/CORBA/DynAnyPackage/InvalidSeq.java,
	org/omg/CORBA/DynAnyPackage/InvalidValue.java,
	org/omg/CORBA/DynAnyPackage/TypeMismatch.java,
	org/omg/CORBA/DynAnyPackage/package.html: New files.

	2005-04-06   Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/CTX_RESTRICT_SCOPE.java,
	org/omg/CORBA/ExceptionList.java,
	org/omg/CORBA/NVList.java,
	PrincipalHolder.java: New classes.
	* org/omg/CORBA/Context.java: Completing
	part, dependent from classes above,
	org/omg/CORBA/MARSHAL.java: accessibility fixes.

	2005-03-31  Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/ORBPackage/InconsistentTypeCode.java,
	org/omg/CORBA/ORBPackage/InvalidName.java,
	org/omg/CORBA/ORBPackage/package.html: New files.

	2005-03-19  Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/AnySeqHolder.java,
	org/omg/CORBA/AnySeqHelper.java,
	org/omg/CORBA/CompletionStatusHelper.java:
	New files.

2005-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/generic/gentypes.h: New file.

	* config/alpha/common.h,
	config/arm/common.h, 
	config/i386/atomic.h,
	config/i386/common.h,
	config/ia64/common.h, 
	config/m68k/common.h,
	config/mips/common.h,
	config/parisc/common.h,
	config/powerpc/common.h,
	config/s390/common.h,
	config/sh/common.h,
	config/sparc/common.h,
	config/x86_64/common.h: Include gentypes.h

	* config/generic/comparexch.h: Fixed include.
	
2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java: (preInit)
	Set java.specification.version to 1.4.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.c (printShortVersion): Changed first string
	to something more like JDK to make Kaffe useable from within 
	NetBeans 4.0 as a runtime.

	* libraries/javalib/gnu/classpath/VMSystemProperties.java: (preInit)
	Set java.vm.version to 1.1.5+cvs.

2005-04-16  Kurt Roeckx <kurt@roeckx.be>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(objectSizesPrint): Fixed dprintf format.
	
	* libraries/clib/nio/FileChannelImpl.c
	(Java_gnu_java_nio_channels_FileChannelImpl_read__): Fixed ret size.
	(Java_gnu_java_nio_channels_FileChannelImpl_write__I): Fixed ret size.

2005-04-16  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(Java_gnu_java_nio_VMSelector_select): Use strerror instead of
	strerror_r if it is not available.

2005-04-15  Guilhem Lavaux  <guilhem@kaffe.org>,
	Nektarios K. Papadopoulos <npapadop@inaccessnetworks.com>

	* m4/libxslt.m4: Added inclusion of xsltconfig.h

	* configure: Regenerated.
	
2005-04-15  Mike Castle <dalgoda@ix.netcom.com>

	* libraries/clib/awt/classpath-gtk/gtk-peer/Makefile.am
	(libjawt_la_CFLAGS): Fixed include path.

	* libraries/clib/awt/classpath-awt/gtk-peer/Makefile.in:
	Regenerated.
	
2005-04-14  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/version.c: Converted strings to intl strings.

	* po/POTFILES.in: Added kaffe/kaffe/version.c

	* po/kaffe.pot: Regenerated.

	* po/fr.po: Updated.

	* libraries/javalib/java/lang/ref/Reference.java
	(cleared): New field.
	(clear): Set cleared.
	(get): Return null if cleared is set.

	* po/zh_CN.po, po/zh_TW.po: Updated automatically.
	
2005-04-13  Jim Huang  <jserv@kaffe.org>

	* po/zh_CN.po,
	po/LINGUAS:
	Simplified Chinese translation contributed by DexterK Kidd 
	<dexterkidd@gmail.com>.

2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/java/lang/ref/Reference.java
	(cleared): New field.
	(get): Return null if cleared is set.
	(clear): Set cleared.

2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/version.c
	(printShortVersion): Print the default heap sizes and stack size.

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): Removed unused finalizer_call.

	* kaffe/kaffevm/gcFuncs.c
	(initCollector): Strings/arrays must be finalized in case a weak
	reference is attached to the object.

	* kaffe/kaffevm/reference.c
	(KaffeVM_isReferenced): Fixed though the function is currently
	unused.
	(referenceObjectFinalizer, referenceFinalizer): Added DBG
	instructions.

	* kaffe/kaffevm/thread.c, kaffe/kaffevm/thread.h
	(attachFakedThreadInstance): Renamed into...
	(KaffeVM_attachFakedThreadInstance): Renamed from
	attachFakedThreadInstance.
	(KaffeVM_detachCurrenThread): New dummy function.

	* kaffe/kaffevm/utf8const.c: Removed a few 'if !defined(KAFFEH)'.

	* kaffe/kaffevm/jni/jni.c
	(KaffeJNI_AttachThread, KaffeJNI_AttachThreadAsDaemon): Use
	KaffeVM_* function now.
	
	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(finishGC): Clarified a comment.
	(finaliserJob): Do not clear the stack anymore. Removed iLockRoot
	renamed. Invoke KaffeGC_clearWeakRef before finalizing.

	* kaffe/kaffevm/kaffe-gc/gc-refs.h
	(weakRefObject): Added new fields to keep track precisely of the
	allocation state of the object.

	* kaffe/kaffevm/kaffe-gc/gc-refs.c
	(resizeWeakReferenceObject): New auxiliary function.
	(KaffeGC_rmWeakRef): Check whether the object has been removed during GC calls.
	Do not resize dynamically the reference array.
	(KaffeGC_addWeakRef): Use resizeWeakReferenceObject.
	(KaffeGC_clearWeakRefs): Be gentle when destroying the weak
	reference object.

	* libraries/javalib/java/lang/ref/Reference.java
	(clear): Do not clear referent but clear queue according to Java API.
	
2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>
	Nektarios K. Papadopoulos <npapadop@inaccessnetworks.com>
	
	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c
	(jthreadedRecvFrom): Fixed parameter to waitForTimeout.

2005-04-11  Rei Odaira  <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/jit3/icode.c
	(div_int_const_optimize): Fixed rounding.

	* test/regression/NegativeDivideConst.java:
	Check the rounding result.
	
2005-04-11  Guilhem Lavaux  <guilhem@kaffe.org>
	Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: Patched again to use
	jthread syscall system.

2005-04-10  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/jni/Makefile.am: Fixed dlopened libraries.

	* test/jni/Makefile.in: Regenerated.

2005-04-10  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Reset to 1.1.x-cvs
	
	* configure: Regenerated.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: Merged back from GNU
	Classpath with the right indentation.

2005-04-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* Makefile.am
	(EXTRA_DIST): Added FAQ/FAQ.references.
	
	* kaffe/kaffevm/jni/jni-base.c
	(JNI_GetDefaultJavaVMInitArgs,
	JNI_CreateJavaVM): Updated support to JNI 1.4.
	
	* kaffe/kaffevm/jni/jni-helpers.c
	(KaffeJNI_NewDirectByteBuffer,
	KaffeJNI_GetDirectBufferAddress,
	KaffeJNI_GetDirectBufferCapacity): New functions.
	(KaffeJNI_FromReflectedMethod,
	KaffeJNI_FromReflectedField): Protected JNI call.
	
	* kaffe/kaffevm/jni/jni_funcs.h
	(KaffeJNI_NewDirectByteBuffer,
	KaffeJNI_GetDirectBufferAddress,
	KaffeJNI_GetDirectBufferCapacity): New functions.

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_JNINativeInterface): Added the 3 new JNI calls.
	(Kaffe_GetEnv): Updated support to JNI 1.4.

	* libraries/clib/native/java_lang_ref_Reference.c
	(create): Check whether the referenced object is NULL.

	* libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	Imported latest version from GNU Classpath.

	* libraries/javalib/kaffe/lang/PrimordialClassLoader.java:
	Authorize loading gnu/classpath/RawData* classes from the user
	class loader.

	* Makefile.in: Regenerated.
	
2005-04-05  Supreet Sethi  <supreet@linux-delhi.org>

	* include/jsyscall.h:
	Adjust the sequence of including <sys/types.h> to fix build on 
	FreeBSD 4.x.

2005-04-05  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffevm/boehm-gc/gc2.c (createGC),
	kaffe/kaffevm/boehm-gc/gc2.h:
	Fix boehm-gc build.

2005-04-05  Dalibor Topic  <robilad@kaffe.org>

	* README: Set version to 1.1.5.
	* RELEASE-NOTES: Written.
	* configure.ac: Set version to 1.1.5.

2005-04-04  Jim Huang  <jserv@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-01  Michael Koch  <konqueror@gmx.de>

	* java/io/PipedInputStream.java
	(read): Make sure a positive byte value is returned. Revised javadoc.
	Thanks to Olafur Bragason for reporting these bugs.

2005-04-04  Guilhem Lavaux  <guilhem@kaffe.org>,

	* FAQ/FAQ.references: New file

2005-04-04  Dalibor Topic  <robilad@kaffe.org>

	* config/Makefile.am:
	Added x86-64-freebsd2 port.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>,
	Mark Wielaard <mark@klomp.org>
	
	* libraries/javalib/java/lang/System.java
	(arraycopy): Cast to long to prevent integer overflow.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* config/ia64/hpux/config.frag,
	config/ia64/hpux/md.h: New files for ia64-hpux port. 
	It was a work of minutes to copy the files around and get
	Kaffe to build on the ia64-hpux box. 

	It works as well as alpha-linux-intrp-pthreads, passing 
	11 regression tests. I assume there is some 64 bit issue 
	plaguing both.

	* config/Makefile.am:
	Added new files.

	* README, WHATSNEW: Added the new port.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* config/ia64/sysdepCallMethod.h:
	Added guards.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/native/ClassLoader.c
	(defineClass): Throw an exception if length is negative.

	Reported by: Christian Thalinger <twisti@complang.tuwien.ac.at>

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: 
	Added guards for <sys/select.h> and <sys/time.h>.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(select0): Fixed typo.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c
	(jthreadedSelect): Prepare dummy sets in case one of the parameter
	is NULL.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select): Return the error code.
	(select0): Decode the result code.
	
2005-04-03  Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c
	(jthreadedSelect): Fixed timeout handling, fdset handling. maxFd,
	readsPending, writesPending updated properly.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select, select0): Use a negative value to avoid confusion
	between the number of filedescriptor and the error value returned
	by select.

	* libraries/javalib/java/nio/channels/spi/AbstractSelectableChannel.java
	(register): Check for blocking state.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/Makefile.am 
	(libkthread_la_SOURCES): Added header files from 
	EXTRA_DIST.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/darwin/config.frag:
	Added -no-cpp-precomp for darwin 5.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/rebuildLib.in (LIBDIR): 
	Removed another CDPATH usage.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in 
	[USE_PRECOMPILED_RT_JAR] (compile-tools-classes): 
	New target. 
	(tools.jar) Build only tools.jar classes.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c,
	kaffe/kaffevm/systems/unix-jthreads/jthread.h:
	(jthread_is_blocking): Added to the API for compatibility with
	unix-pthreads.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-internal.h:
	(jthread_exit): Changed shutdown loop to take into account
	modifications to activeThreads list.
	(jthread_is_blocking): New jthread call.
	
	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c
	(clearBlockState): Set active to 0 when exiting.

	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c
	(jthreadedRecvFrom): Fixed logic to avoid eating all CPU.
	
	* config/katomic.h (__atomic_val_bysize, __atomic_bool_bysize): 
	If gcc is 2.95 then the syntax is also different.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in: (compile-classes)
	Removed CDPATH=: command that was confusing zsh on Darwin5.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_exit): Removed the use of pthread_cancel during
	final shutdown.

	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c
	(clearBlockState): Do not exit if the thread is in BS_THREAD
	blockstate it means the mutex be released.

2005-04-02  Riccardo Mottola <zuse@libero.it>

	* FAQ/FAQ.Known-Bugs:
	Added information on ulimit workarounds for old Darwin 
	systems.

2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/common.h,
	config/i386/common.h,
	config/ia64/common.h,
	config/m68k/common.h,
	config/mips/common.h,
	config/parisc/common.h,
	config/powerpc/common.h,
	config/s390/common.h,
	config/sh/common.h,
	config/sparc/common.h,
	config/x86_64/common.h:
	Include gccbuiltin.h.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>,
		      Riccardo Mottola <zuse@libero.it>

2005-04-01  gian paolo ciceri <gp.ciceri@acm.org>

	* config/katomic.h (__atomic_val_bysize, __atomic_bool_bysize): 
	Added versions for gcc 2.x variadic macro format.

2005-04-01  Supreet Sethi  <supreet@linux-delhi.org>

	* configure.ac: Check for uintmax_t and intmax_t.

	* config/i386/atomic.h: Only use uintmax_t and intmax_t if
	the types are available.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* java/awt/image/IndexColorModel.java
	(getRGB): Check if pixel is negative.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_suspendall, jthread_unsuspendall): Check whether the thread
	subsystem has been initialized as some architecture needs to invoke it
	for compare and exchange.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/locks.c
	(waitCond): Unlock completely the mutex (the lock may be recursive).

2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in (clean-local): 
	Remove tools.jar as well when cleaning up.
	
2005-04-01  Dalibor Topic  <robilad@kaffe.org>
	
	Define __builtin_expected away on gcc < 3.0

	* include/Makefile.am (noinst_HEADERS): Added gccbuiltin.h.

	* include/defs.h: Include gccbuiltin.h.

	* include/gccbuiltin.h: New file. Taken from gcc CVS
	file gcc/gcc/system.h.

	Reported by:  Riccardo Mottola <zuse@libero.it>
	
2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c (Java_gnu_java_nio_VMSelector_select): 
	Use strerror if strerror_r is not available.

	Reported by:  Michael Franz <mvfranz@gmail.com>,
	              Riccardo Mottola <zuse@libero.it>

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed completed tasks.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/threads.h (THREADSTACKSIZE): Doubled to fix
	stack size problem with nice's bootstrap.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	Moved gnu.bytecode into tools.jar to fix problems
	with nice's bootstrap.

	Reported by:  Daniel Bonniot  <bonniot@users.sourceforge.net>

	* kaffe/scripts/javap.in: Add tools.jar to classpath.

	* kaffe/scripts/kaffe.in: Don't add tools.jar to BOOTCLASSPATH.

	* libraries/javalib/Makefile.am.in: (jrelib_DATA) Added tools.jar.
	(JAR_CMD2) Don't add gnu.bytecode and gnu.classpath.tools.javap
	to rt.jar.
	(JAR_CMD7) Put gnu.bytecode and gnu.classpath.tools.javap into
	tools.jar.
	(tools.jar) New target.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/linux/md.c: Added missing arm/jit.h include.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/linux/md.c: Added missing md.h include.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/Makefile.am (libkaffevm_la_DEPENDENCIES): 
	Added libreplace.

	Reported by:  Michael Franz <mvfranz@gmail.com>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* test/regression/TestScript.in (SECURITY_PROVIDER_URL): 
	Use absolute path instead of realtive one to avoid problems with
	build and source directories being on different NFS volumes.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Set warning leel back to 
	-Wall to sort the most important ones out first.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/jit3-i386.def,
	include/errors.h,
	include/kaffe_jni.h,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/exception.h,
	kaffe/kaffevm/soft.h,
	kaffe/kaffevm/support.h,
	kaffe/kaffevm/thread.c,
	kaffe/kaffevm/jit3/basecode.c,
	kaffe/kaffevm/jit3/codeproto.h,
	libraries/clib/native/Runtime.c:
	Removed NONRETURNING modifiers.
	
	* kaffe/kaffevm/access.h,
	kaffe/kaffevm/access.c (checkAccessFlags):
	Return const char*.

	* kaffe/kaffevm/exception.c (vmExcept_getSyncObj):
	Only define for interpreter.

	* kaffe/kaffevm/hashtab.c,
	kaffe/kaffevm/hashtab.h:
	Return const void *.

	* kaffe/kaffevm/ksem.c:
	Fixed comment.

	* kaffe/kaffevm/ksem.h: Indentation changes.

	* kaffe/kaffevm/reference.c:
	(KaffeVM_isReferenced) Made ref const.

	* kaffe/kaffevm/string.c,
	kaffe/kaffevm/utf8const.c,
	kaffe/kaffevm/jni/jni-string.c:
	Added casts to fix warnings.

	* kaffe/kaffevm/jit/machine.h,
	kaffe/kaffevm/jit/methodcalls.c,
	kaffe/kaffevm/jit3/registers.c:
	Added missing includes.

	* kaffe/kaffevm/jni/jni.c:
	Use THREAD_JNIENV instead of accessing the jniEnv
	field directly.

	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/lock-impl.h:
	Whitespace fixes.

	* kaffe/kaffevm/verifier/verify2.c:
	(checkField) Made reason const.

	* libraries/clib/native/Array.c,
	libraries/clib/native/Class.c:
	Made all codepaths return from non-void functions.
	
2005-03-31  Gerrit P. Haase <gp@familiehaase.de>

	* kaffe/jvmpi/Makefile.am,
	kaffe/kaffe/Makefile.am,
	kaffe/kaffevm/Makefile.am,
	kaffe/xprof/Makefile.am,
	libraries/clib/awt/X/Makefile.am,
	libraries/clib/awt/nano-X/Makefile.am,
	libraries/clib/awt/qt/Makefile.am,
	libraries/clib/io/Makefile.am,
	libraries/clib/management/Makefile.am,
	libraries/clib/math/Makefile.am,
	libraries/clib/native/Makefile.am,
	libraries/clib/net/Makefile.am,
	libraries/clib/nio/Makefile.am,
	libraries/clib/security/Makefile.am,
	libraries/clib/zip/Makefile.am:
	(*_LDFLAGS) Added -no-undefined.
	(*_DEPENDENCIES) Added libkaffevm.

2005-03-29  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select): Use KSELECT instead of select.
	(select): Use GetStaticMethodID as the method is static.

2005-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthreadInitialized): New static variable.
	(jthread_init): Set jthreadInitialized.
	(jthread_current): Return NULL if jthreadInitialized is false.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/string.c
	(stringWalk): Mark the object lock also.

	Reported by: gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe.def
	(GETSTATIC, FIELD_IS_CONSTANT): Removed inline optimization because
	final fields can be mutable.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-27  Gerrit P. Haase <gp@familiehaase.de>

	* include/jsyscall.h: Whitespace cleanups.

2005-03-27  Gerrit P. Haase <gp@familiehaase.de>

	* config/config-std.h: Removed whitespace from copyright header.
	Don't include windows specific headers on Cygwin.

2005-03-26  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* java/text/DecimalFormat.java (parse):
	Check whether the positive suffix matches the pattern. 

2005-03-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/lookup.c
	(getField): Update cname with the class name contained in the pool
	if getClass fails.

	* kaffe/kaffevm/constants.h: ConstSlot should be uintp as most of
	constants are pointers.

2005-03-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/lookup.c
	(getField): Use the resolved class name to get the name.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-26  Supreet Sethi  <supreet@linux-delhi.org>,
	    Dalibor Topic  <robilad@kaffe.org>

	* config/i386/atomic.h: Added checks for headers,
	include statement for <inttypes.h> and checks for
	fast types to fix build on FreeBSD 4.x.

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Moved include statement for config.h to the top to
	fix the build on Darwin6.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe.def: (GETSTATIC) Cast
	short constants to jshort before moving them.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Include <sys/types.h> to fix build on OS X.

	Reported by Michael Franz <mvfranz@gmail.com>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Added new integration tasks.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	* po/kaffe.pot,
	po/fr.po,
	po/zh_TW.po,
	kaffe/kaffe/main.c (usage):
	Tweak usage messages about Nano-X backend.
	
2005-03-25  Antonio Tringali  <antonio.tringali@aliceposta.it>

	* kaffe/kaffevm/soft.c: (soft_cvtfi) Compare float against
	floating point constants to fix SIGILL on mips-linux.
	
2005-03-25  Bryan stergaard  <kloeri@gentoo.org>

	Warning fixes for alpha-linux.
	
	* kaffe/kaffeh/kaffeh-support.h,
	kaffe/kaffeh/support.c: (addCode, addLineNumbers,
	addLocalVariables, addCheckedExceptions): Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/classMethod.h: (addInnerClasses) Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/code.c,
	kaffe/kaffevm/code.h: (addCode, addLineNumbers, 
	addLocalVariables, addCheckedExceptions) Use size_t 
	instead of uint32 for len parameter.

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/readClass.c (readAttributes): 
	Cast len to size_t to avoid new warnings on 64 bit platforms.

2005-03-25  Wolfgang Baer  <WBaer@gmx.de>,
	    Arnaud Vandyck  <avdyk@gnu.org>

	* kaffe/man/kaffe.1.xml: New file.
	* kaffe/man/kaffe.1.in: Regenerated.
	
2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/man/Makefile.am (EXTRA_DIST): Added kaffe.1.xml.
	Added rule to create man page from DocBook source.
	
2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/Makefile.am: (EXTRA_DIST) Replaced mips/atomicity.h
	by mips/atomic.h.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	Resynced with GNU Classpath.
	This change is useful to get RSSOwl working.

	2005-03-21  Sven de Marothy  <sven@physto.se>

	* gnu/classpath/SystemProperties.java:
	Add missing aliases for "UnicodeBigUnmarked" and
	"UnicodeLittleUnmarked".

2005-03-24  Thiemo Seufer <ths@networkno.de>

	* config/mips/atomic.h: New glibc-style implementation.
	* config/mips/atomicity.h: Removed.
	* config/mips/common.h: Include atomic.h rather than atomicity.h.
	* config/mips/callKaffeException.h, config/mips/trampolines.S,
	config/mips/jit.h, config/mips/jit3-icode.h, config/mips/jit3-icode.h:
	Fixed some minor typos and inefficiencies.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed all nasty bugs, as they were all fixed. Wow!
	Looks like the release is really getting closer.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in (EXTRA_DIST, dist-hook):
	Copy source code manually to avoid automake bugs. This fixes
	make distcheck again.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/atomic-sparc32.h: Removed glibc specific tags
	that broke build on sparc.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/classpath/Makefile.am: Added classpath_jawt.h
	to sources. Fixes a make distcheck problem.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/javadoc.in,
	kaffe/scripts/compat/javadoc.in: Append installed antlr to
	bootclasspath. Now gjdoccing all of Kaffe's class library
	works out of the box.

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* config/mips/common.h: Really include generic atomic primitives.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>,
	    Dalibor Topic  <robilad@kaffe.org>

	* config/arm/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config.h.in, configure: Regenerated.

	* config/mips/irix5/config.frag: Added need_stack_end=yes

	* configure.ac: Check for need_stack_end in config.frag and
	define SIGALTSTACK_NEEDS_END.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/ia64/common.h: Removed the inclusion of atomicity.h

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/compat/javadoc.in,
	kaffe/scripts/compat/javadoc.in:
	Added -Xmx512M to parameters used to invoke Kaffe to be able to 
	deal with running javadoc on Kaffe's source tree out of the box.

	* m4/m4/ac_prog_antlr.m4: Fixed antlr.jar test to bail out if 
	no antlr.jar can be found.
	
	Resynced with gjdoc.
	
	2005-03-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java: Added
	license boilerplate; updated copyright and license in usage
	output.

	2005-03-13  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Added method
	execute(String, String[]) and commented-out empty shells for
	additional execute methods.  Thanks to Jerry Haltom.
	
	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: add support for option
	-reflection; disable reflection by default.

	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java: only use
	reflection if enabled on command line.

	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/ExecutableMemberDocImpl.java:
	properly parse the thrown exception immediately preceding the
	closing semicolon of an interface method declaration.

	Reported by Robert Schuster

	2005-03-04  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/SeeTagImpl.java: Removed bogus
	Thread.dumpStack() invocation.

	Reported by Arnaud Vandyck

	* src/gnu/classpath/tools/gjdoc/Main.java: Pass DocErrorReporter
	in reflected invocation of Doclet's validOptions() method.

	Reported by Christopher Oezbek

	2005-02-21  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java: fix
	support for option -title.

	2005-02-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java: fixed
	bug #11989: ParseException with -encoding UTF-8.
	
	Reported by Kalle Olavi Niemitalo.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java:
	correctly handle remaining undecoded bytes in the input buffer.

	* src/gnu/classpath/tools/MalformedInputEvent.java: added
	toString() method.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: do not catch Throwable,
	catch Exception instead so that Errors can fall through.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Also exit with return
	code 1 if the doclet raised any errors.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Fixed typo.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Exit with return code of '1' of execution is failing.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	fix private field access.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	force generation of overview page if a single package is
	documented and either -title, -doctitle or -overview has been
	specified.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: output warning when
	option -classpath hasn't been interceptded at the wrapper level;
	add -serialwarn and -nocomment to usage; better usage message for
	-serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	properly support optiosn -overview and -nocomment.  Replace option
	-noserialwarn with -serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java,
	src/resources/htmldoclet/gjdochtml-clean-layout.css: add new style
	for overview page.

	2005-02-09  Julian Scheid  <julian@sektor37.de>

	* m4/ac_prog_antlr.m4: if $ANTLR_JAR is set, use that for locating
	antlr.jar; complain if $ANTLR_JAR specifies a non-existing file.

	* configure.ac: set autoconf prerequisite version to 2.59; set
	config macro directory; accept option --with-antlr-jar.

	2005-02-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/AbstractDoclet.java:
	* src/gnu/classpath/tools/gjdoc/ClassDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/InheritDocTagImpl.java:
	* src/gnu/classpath/tools/gjdoc/Parser.java:
	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/TagImpl.java:
	refactor so that jikes doesn't warn anymore.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java:
	* src/resources/htmldoclet/gjdochtml-clean-layout.css:
	some HTML output and CSS refactoring

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java:
	s/numerical/numeric/g

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java (VMSystemProperties): 
	Set build.compiler to jikes to allow out of the box Tomcat4 JSP examples to run.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Sven de Marothy  <sven@physto.se>

	* java/util/zip/GZIPInputStream.java:
	(GZIPInputStream): Read header in constructor.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/javax/swing/text/html/parser/htmlAttributeSet.java:
	(getAttributeNames()): Replaced 'enum' with 'enumeration'.
	* gnu/javax/swing/text/html/parser/htmlValidator.java:
	(validateParameters(TagElement,htmlAttributeSet)):
	Replaced 'enum' with 'enumeration'.
	(validateAttribute(TagElement,htmlAttributeSet,
	                   Enumeration,Enumeration)):
	Likewise.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Audrius Meskauskas  <audriusa@bluewin.ch>

	* javax/swing/text/html/parser/Entity.java (getType): New method.
	* javax/swing/text/html/parser/DocumentParser.java:
	Inherit from javax.swing.text.html.parser.Parser.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

	* native/jni/java-nio/gnu_java_nio_VMSelector.c: Added important
	return statement after throwing exception.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

	* native/jni/java-nio/gnu_java_nio_VMSelector.c: Implemented
	Java_gnu_java_nio_VMSelector_select.
	* configure.ac: Added check for sys/select.h and strerro_r().

	* libraries/clib/nio/SelectorImpl.c: Removed. Replaced by 
	gnu_java_nio_VMSelector.c.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-17  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/html2/DomHTMLDocument.java: Fixed element creation and
	check for HTML/XHTML namespace.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-16  Archie Cobbs  <archie@dellroad.org>

	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c: use
	global native reference to wrap persistent jclass variable.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c:
	use DeleteLocalRef() to avoid exhausting local native references.

2005-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for -mregnames. It lets us use common register 
	names on powerpc, and will hopefully make it simple to have a single 
	assembler trampoline fiole for both darwin and linux.

	* config/powerpc/trampolines.S: Changed powerpc floating point 
	registers names from 'frX' to 'fX' and built fine on ppc-linux.

2005-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Don't check for no-cpp-precomp. It confuses
	libtool on 64 bit platforms to think that -fPIC is not supported, 
	leading to fascinating relinking errors. A better way for older
	darwin release must be found to deal with preprocessor breakage.
	It also lead to tons of pointless warning messages on all systems
	beside the -no-cpp-supporting ones, so it needs to go in this form.

	* replace/Makefile.am (libreplace_la_LDFLAGS): Removed -export-dynamic.

See ChangeLog.16 for earlier changes.
