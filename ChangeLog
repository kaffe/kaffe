2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/bsdi3/md.h,
	config/sparc/linux/md.h,
	config/sparc/netbsd1/md.h,
	config/sparc/nextstep3/md.h,
	config/sparc/openbsd2/md.h,
	config/sparc/sunos4/md.h: Undefine SA_SIGINFO as we need the
	signal call without the siginfo structure.

2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/gnu/classpath/tools/Util.java
	(Util): Really search the default classpath if no class is found in
	the current directory.

	Reported by:  Daniel Bonniot  <bonniot@users.sourceforge.net>

2005-06-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/m68k/linux/md.h
	(sysdepCallMethod): Inlined function instead of a macro. Fixed the
	return of a float.

	* config/m68k/jit3-m68k.def
	(div_float): Fixed a misallocation of the destination register
	because of a wrong assert.

	* libraries/clib/fdlibm/ieeefp.h: Removed all preprocessor magic and
	replaced by the checking of the definition of WORDS_BIGENDIAN by
	configure.
	
2005-06-26  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/kaffe/tools/jar/Jar.java
	(addEntry): Delete "./" from the top of entryname.

2005-06-24  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* gnu/java/nio/charset/UnicodeLittle.java
	(newDecoder): Set the default endian to be little endian.

	* gnu/java/nio/charset/UTF_16Decoder.java
	(decodeLoop): Use 0x00FF instead of 0xFF for masking.

2005-06-24  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/main.c
	(options): "-classpath" must reset the classpath to the only specified
	by the following argument.

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/soft.c
	(soft_div, soft_rem): Check for the divisor to return the correct
	value on all processors.

2005-06-23  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/Makefile.am
	(libkaffevm_la_SOURCES): Added javacall.c

	* kaffe/kaffevm/Makefile.in: Regenerated.

	* kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/classMethod.h
	(initCollector): Moved to gc.h
	(parsed_signature): Added real_nargs.
	(PSIG_RNARGS): New macro.
	(KaffeVM_countRealNumberOfArgs): New function to retrieve the real
	number of argument slot used.
	
	Doxified a bit.
	
	* kaffe/kaffevm/gc.h
	(initCollector): Moved from classMethod.h

	* kaffe/kaffevm/javacall.c
	(KaffeVM_callMethodA, KaffeVM_callMethodV): Moved from support.c
	along with their macros.
	(KaffeVM_countRealNumberOfArgs): New function.
	
	kaffe/kaffevm/support.c:
	(KaffeVM_callMethodA, KaffeVM_callMethodV): Moved out.

	* libraries/clib/native/ClassLoader.c
	(loadClass): Check whether the class name is well constructed.

2005-06-23  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* FAQ/FAQ.charsets: New file.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/atomic.h: Removed all register aliases to support
	old gcc compiler.

	Reported by Riccardo Mottola  <rmottola@users.sf.net>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config-hacks.c: We must redefine __builtin_trap until gcc
	3.1.

	Reported by Andrew Pinski <pinskia@physics.uc.edu>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/katomic.h: Include config-hacks.h to be sure the hacks are
	taken into account.

	* config/config-hacks.h: Removed spurious argument.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/ax_create_stdint_h.m4: Removed some broken & unused m4 code line.

	* configure: Regenerated.

	* config/config-std.h,
	kaffe/kaffevm/lerrno.h: Moved definition of ENOTSUP to prevent
	redefinition.

	* kaffe/kaffevm/debug.c,
	kaffe/kaffevm/systems/unix-pthreads/lock-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/signal.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-impl.c: Use lerrno.h
	instead of errno.h

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/atomic-sparc64.h,
	config/mips/atomic.h: Removed gcc specific hacks. Moved into
	config-hacks.h

	* config/config-hacks.h
	(__builtin_expect, __builtin_trap): Define to identity if we are not
	using at least gcc3.

	* configure.ac: Check that we are on mips before enabling '-mips2'.

	* configure: Regenerated.

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/atomic-sparc64.h
	(__builtin_expect): Do not take into account expect if we are not
	using gcc or it is not at least gcc3.

	Reported by Riccardo Mottola  <rmottola@users.sf.net>

2005-06-21  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/atomic.h: Rearranged the inlined assembly to make it
	compile on Irix.

	* config/mips/common.h: Enabled full atomic operations.

	* configure.ac: Add '-mips2' to the command line if we are on
	Irix/MIPS.

	* configure: Regenerated.

2005-06-20  Riccardo Mottola  <rmottola@users.sf.net>

        * config/mips/atomic.h: patched to use internal config-int.h header
	and not c99 stdint.h

2005-06-19  Guilhem Lavaux  <guilhem@kaffe.org>

	* developers/autogen.sh: Updated to gettext 0.14.5

	* m4/ax_create_stdint_h.m4: Check whether UINT8_MIN & INT8_MIN are
	already defined.

	* configure: Regenerated.

2005-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* m4/ax_create_stdint_h.m4: Patched to get it work on system without
	__UINT64_C and __INT64_C

	* configure: Regenerated.

2005-06-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/support.c
	(KaffeVM_callMethodA, KaffeVM_callMethodV): 
	Allocate the argument array following the real slot allocation given
	by methodSigInfo. This may not be sufficient for architecture which
	needs alignment of the slots.

	Define NEED_sysdepCallMethod to get specific argument reordering
	except if we use ffi.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/Makefile.am: Added DoubleIEEE.

	* test/regression/Makefile.in: Regenerated.

	* test/regression/ProcessClassStop.java,
	test/regression/ProcessClassLockTest.java: Increased the timeout
	value.

	* WHATSNEW: Updated.

	* FAQ/FAQ.pthreads: Updated. Thread.stop() deprecated.

	* FAQ/FAQ.locks: Updated locks algorithm.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/DoubleIEEE.java: New testcase for strict IEEE
	computation.

2005-06-15  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/i386/linux/md.c
	(init_md): Setup the FP unit to use double precision and not extended
	precision.

	* configure.ac: Check for fpu_control.h

	* configure, config/config.h.in: Regenerated.

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/baseClasses.c
	(stateCompleteClass): New array to store classes that should be in
	complete state at the end of the first initialization procedure.
	(initBaseClasses): Push all classes in stateCompleteClass to the
	COMPLETE state.

	* kaffe/kaffevm/gcFuncs.c
	(walkRefArray): Added some debug printing.
	(newArrayChecked): Removed unused condition.

	* kaffe/kaffevm/jni/jni.c: Cleaned up style.

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/regression/Preempt.java: Added a 'yield' for Solaris.

2005-06-13  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/sparc/jit.h: FRAMEOBJECT get the real enclosing object (and
	not the second one).

2005-06-12  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/serialver.in,
	kaffe/scripts/native2ascii.in:
	Added tools.jar to classpath to make them work again.

2005-06-12  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in: Put gnu.classpath.tools
	completely into tools.jar to make javap work fine.

	Reported by: Guilhem Lavaux  <guilhem@kaffe.org>

2005-06-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/exception.c
	(nullException): Fill in the "cause" field.

2005-06-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/jni.c
	(Kaffe_ExceptionDescribe): Fixed memory allocation. Iterate through
	all causes of an exception.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/InternationalFormatter.java
	Implemented new class.

	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicHorizontalLayoutManager.preferredLayoutSize): fixed return
	statement.
	(BasicVerticalLayoutManager.preferredLayoutSize): Likewise.
	
	2005-06-10  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(getPreferredSize): Implemented new method. This is overridden
	in order to support custom set rows and columns.

	2005-06-10  Sven de Marothy  <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
	(gdkDrawDrawable): Check if cairo pattern is non-null before 
	setting its matrix.
	
	2005-06-09  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GtkPanelPeer.java,
	gnu_java_awt_peer_gtk_GtkPanelPeer.c (connectSignals): New method.
	* include/gnu_java_awt_peer_gtk_GtkPanelPeer.h: Regenerate.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(window_focus_in_cb, window_focus_out_cb): Remove FIXMEs.

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c
	(copyState): Check if cairo pattern is null before copying it.
	(drawPixels): Check if cairo pattern is null before retrieving it.

	* java/awt/MenuItem.java (label): Initialize to empty string.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-08  Bryce McKinlay  <mckinlay@redhat.com>

	* java/rmi/server/RMIClassLoader.java (getClassLoader): Make public.
	From Gary Benson.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-08  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java (cairoSetRGBColor,
	cairoSetAlpha): Combine ...
	(cairoSetRGBAColor): New method.
	* include/gnu_java_awt_peer_gtk_GdkGraphics2D.h: Regenerate.
	* include/gnu_java_awt_peer_gtk_GtkImage.h: Regenerate.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Use
	Cairo 0.5.0 APIs.
	* configure.ac: Require Cairo 0.5.0.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-08  David Gilbert  <david.gilbert@object-refinery.com>

	* java/awt/image/BandedSampleModel.java
	(createBankArray): New method.
	(BandedSampleModel(int, int, int, int)): reimplemented.
	(BandedSampleModel(int, int, int, int, int[], int[]): 
	RasterFormatException nearer to start of constructor.
	(getPixel): Use band index, not zero.
	(getPixels): Fixed loop indices.
	(getSamples): Fixed loop indices.
	(setDataElements): Use band index, not zero.
	
	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultFormatter.java
	(FormatterDocumentFilter.remove): Added check for valid input.
	(FormatterDocumentFilter.insertString): Added check for valid input.
	Added support for overwriteMode property.
	(FormatterDocumentFilter.replace): Added check for valid input.
	(checkValidInput): New helper method to check for valid input
	and roll it back if necessary.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFormattedTextField.java
	(getActions): Call super.getActions instead of throwing an exception.
	This is safe here.
	(processFocusEvent): Likewise.
	* javax/swing/plaf/basic/BasicTextUI.java
	(createKeymap): Construct new bindings array if UIDefaults does return
	a null object for this.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(installDefaults): Call resetLayoutManager() _after_ the divider
	is created to prevent NPE.
	(paint): Removed check for valid divider location. This is done
	in resetComponentAt(index).
	(resetLayoutManager): Call layout.updateComponents _after_ the
	layout has been installed. Otherwise it has no effect.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java
	(setMinimumSize): Adjust preferredSize and maximumSize when
	minimumSize is greater than preferred or maximumSize.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultEditorKit.java:
	Added some API documentation.

	2005-06-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultEditorKit.java
	(DefaultKeyTypedAction.actionPerformed): This action
	has to filter control characters here.
	(InsertBreakAction.actionPerformed): This action inserts
	a newline character here.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-06  Sven de Marothy <sven@physto.se>

	* javax/swing/JLabel.java
	(JLabel): Horizontal justification changed to default to LEADING.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultFormatter.java:
	Implemented new class.
	
	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFrame.java:
	Added the two missing constructors that take
	java.awt.GraphicsConfiguration objects as arguments.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTree.java
	(removeDescendantSelectedPaths): Implemented new method.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonListener.java
	(focusLost): Don't unarm button on focus lost. This behaviour is
	not documented anywhere and disturbs correct event processing
	in buttons.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Removed debug statement.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Added API documentation comments.

	2005-06-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getKeymapName): Reimplemented to return the classname of
	itself. This way subclasses don't have to override this
	method.

	2005-06-06  Sven de Marothy <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c
	(gtkWidgetSetForeground): Avoid setting black-on-black selection color
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-05  Tom Tromey  <tromey@redhat.com>

	* java/lang/Class.java (resourcePath): Reindented.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-06  Sven de Marothy <sven@physto.se>

	* gnu/java/awt/peer/gtk/GtkImage.java
	(getSource, deliver): Added null checks.
	* java/awt/image/RGBImageFilter.java
	(filterRGBPixels): Reimplement.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/event/TreeSelectionEvent.java
	(getPaths): Return a cloned copy.
	(isAddedPath): Implemented.
	(cloneWithSource): Likewise.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/event/TreeSelectionEvent.java:
	Reformatted.

	2005-06-05  Ka-Hing Cheung  <kahing@javabsp.org>

	* javax/swing/tree/TreePath.java
	(toString): Implemented.
	
	2005-06-04  Tom Tromey  <tromey@redhat.com>

	* javax/swing/plaf/basic/BasicListUI.java (focusListener): Use
	correct type.
	(listDataListener, listSelectionListener, mouseInputListener,
	propertyChangeListener): Likewise.
	* javax/swing/plaf/basic/BasicMenuUI.java (ChangeHandler): Now
	public and deprecated.
	* javax/swing/plaf/basic/BasicTabbedPaneUI.java
	(TabbedPaneLayout): Now public.
	* javax/swing/plaf/basic/BasicOptionPaneUI.java
	(ButtonActionListener): Now public.
	(PropertyChangeHandler): Likewise.
	(ButtonAreaLayout): Likewise.
	* javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
	(TitlePaneLayout): Now public.
	(PropertyChangeHandler): Likewise.
	* javax/swing/plaf/basic/BasicCheckBoxUI.java
	(getPropertyPrefix): New method.
	* javax/swing/plaf/basic/BasicProgressBarUI.java (ChangeHandler):
	Now public.
	* javax/swing/plaf/basic/BasicSliderUI.java (ComponentHandler):
	Now public.
	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(BasicVerticalLayoutManager): Now public.
	(FocusHandler): Likewise.
	(BasicHorizontalLayoutManager): Likewise.
	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(AcceptAllFileFilter): New public constructor.
	(BasicFileView): Likewise.
	* javax/swing/plaf/basic/BasicInternalFrameUI.java
	(BorderListener.RESIZE_NONE): Now final.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicListUI.java
	(damageLayout): Check for list beeing null before revalidating
	it.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/PlainDocument.java
	(removeUpdate): Fixed indices in text buffer access.
	* javax/swing/text/PlainView.java
	(drawLine): Simplified element access.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(constructor): Set preferredSize to a sane default.
	
	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilites.java
	(replaceUIActionMap): Fixed loop again. Now correctly, I hope.
	* javax/swing/ActionMap.java
	(setParent): Make sure we don't build a loop.
	* javax/swing/plaf/basic/BasicTextUI.java
	(createActionMap): Create ActionMapUIResource instead of
	plain ActionMap.

	2005-06-03  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	Removed declarations for the previously removed native methods.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilites.java
	(replaceUIActionMap): Fixed condition in while loop that caused
	infinite looping.

	2005-06-03  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTableUI.java
	(uninstallDefault): Don't set properties to null, this corrupts
	component state.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-02  Sven de Marothy  <sven@physto.se>

	* java/awt/Component.java
	(setBackgroundColor): Return if the color equals the existing bgcolor.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-02  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics2D.java:
	(drawImage): Remove reference to GtkOffScreenImage.
	* gnu/java/awt/peer/gtk/GtkImageConsumer.java:
	Add additional comments.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-05  Sven de Marothy  <sven@physto.se>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
	(getPixels): Handle pixbufs which don't have alpha.

	2005-06-04  Michael Koch  <konqueror@gmx.de>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c
	(Java_gnu_java_awt_peer_gtk_GtkImage_loadPixbuf):
	Fixed method declaration format.
	(Java_gnu_java_awt_peer_gtk_GtkImage_drawPixelsScaled):
	Likewise.

	2005-06-02  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	(GdkGraphics): New constructor.
	(drawImage): Reimplemented.
	* gnu/java/awt/peer/gtk/GtkComponentPeer.java:
	(checkImage,createImage): Reimplemented.
	(prepareImage): Just call the GdkToolkit method.
	* gnu/java/awt/peer/gtk/GtkFramePeer.java:
	(setIconImage): Reimplemented.
	* gnu/java/awt/peer/gtk/GtkImage.java: Reimplemented.
	* gnu/java/awt/peer/gtk/GtkToolkit.java:
	(checkImage): Change handling of GtkImage.
	(createImage): Reimplemented for GtkImage.
	(getColorModel): Return the actual native color model.
	(prepareImage): Reimplemented.
	* include/Makefile.am,
	* native/jni/gtk-peer/Makefile.am: Removed old files, added new ones.
	* include/gnu_java_awt_peer_gtk_GdkGraphics.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics.c:
	(initFromImage): New method.
	(copyPixmap, flip_pixbuf, copyAndScalePixmap): Removed.
	* include/gnu_java_awt_peer_gtk_GtkFramePeer.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c:
	(nativeSetIconImage): New method.
	(nativeSetIconImageFromData,nativeSetIconImageFromDecoder): Removed.
	* gnu/java/awt/peer/gtk/GtkImageConsumer.java,
	* include/gnu_java_awt_peer_gtk_GtkImage.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImage.c: 
	New files.
	* gnu/java/awt/peer/gtk/GtkImagePainter.java,
	* gnu/java/awt/peer/gtk/GtkOffScreenImage.java,
	* include/gnu_java_awt_peer_gtk_GtkImagePainter.h,
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkImagePainter.c:
	Removed files.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-01  Tom Tromey  <tromey@redhat.com>

	* java/io/ObjectInputStream.java (currentLoader): Fixed typo.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/DefaultStyledDocument.java
	(setLogicalStyle): Implemented this method.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Sven de Marothy  <sven@physto.se>

	* java/util/GregorianCalendar.java
	(setTimeInMillis): Recompute time fields.

2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicFileChooserUI.java
	(installComponents): Changed layout of main panel from GridBagLayout
	to BorderLayout (as is the case in Suns JDK). This fixes
	bug#13244.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/JPopupMenu.java
	(insert): Do not check for index == -1 at this point, this is done
	in java.awt.Container. Catching -1 indices here disturbes the
	Container.addImpl which leads to bug #13247 for example.

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/PlainDocument.java
	(removeUpdate): Fixed indices in call to rootElement.replace().

	2005-06-01  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java
	(processKeyEvent): Call super.processKeyEvent() so that KeyEvents
	are delivered to registered KeyListeners.
	
2005-06-11  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-06-01  Sven de Marothy  <sven@physto.se>

	* java/util/TimeZone (getDefaultTimeZone): Reimplemented.
	(parseTime, getDateParams): New private methods.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-01  David Gilbert  <david.gilbert@object-refinery.com>

	* gnu/java/awt/GradientPaintContext.java: New file.
	* java/awt/GradientPaint.java: Implemented.
	* java/awt/image/IndexColorModel.java: Reimplemented.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-06-10  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/SendingContext/package.html,
	org/omg/CORBA/SendingContext/Runtime.java,
	org/omg/CORBA/SendingContext/RuntimeOperations.java: Removed.
	* org/omg/SendingContext/package.html,
	org/omg/SendingContext/Runtime.java,
	org/omg/SendingContext/RuntimeOperations.java: Added.

	2005-06-08 Audrius Meskauskas <AudriusA@Bioinformatics.org>.

	* org/omg/CORBA/CustomValue.java,
	org/omg/CORBA/CustomMarshal.java,
	org/omg/CORBA/DataOutputStream.java,
	org/omg/CORBA/DataInputStream.java: New classes.

	2005-06-08  Audrius Meskauskas <AudriusA@Bioinformatics.org>.

	* org/omg/CORBA/UnionMemberHelper.java,
	org/omg/CORBA/ValueMemberHelper.java,
	org/omg/CORBA/StructMemberHelper.java,
	org/omg/CORBA/IDLTypeHelper.java,
	org/omg/CORBA/_IDLTypeStub.java: New files.
	* gnu/CORBA/IOR.java (write_null, _read_no_endian),
	gnu/CORBA/CDR/cdrInput.java (read_Object),
	gnu/CORBA/CDR/cdrOutput.java (write_Object):
	Implemented sending of java null.

	2005-06-07  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/IOR_Delegate.java (release),
	gnu/CORBA/IOR_contructed_object.java (finalize):
	Close the associated socket if the finalizer is called.
	gnu/CORBA/gnuRequest.java (submit),
	gnu/CORBA/Functional_ORB.java (serveStep): Try to reuse the opened sockets.
	* gnu/CORBA/SocketRepository.java,
	gnu/CORBA/GIOP/CloseMessage.java: New files.

	2005-06-06  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/CompletionStatusHelper.java (type): New method.
	* org/omg/CORBA/Current.java: Inherit from org.omg.portable.IDLEntity.

	2005-06-06  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/StringValueHelper.java,
	org/omg/CORBA/WStringValueHelper.java: New helpers.
	* org/omg/CORBA/portable/BoxedValueHelper.java: Documentation update.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/VisibilityHelper.java: New helper.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/stub/java/rmi/_Remote_Stub.java:
	Inheriting from Stub, Remote and Serializable.

	2005-06-05  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org\omg\CORBA\portable\ValueFactory.java (read_value): Changed 
	parameter type to org.omg.CORBA_2_3.portable.InputStream.
	* org\omg\CosNaming\_BindingIteratorStub.java,
	* org\omg\CosNaming\_NamingContextStub.java: Fixed serialVersionUID.
	* org\omg\CORBA_2_3\portable\InputStream.java 
	(read_value(BoxedValueHelper)): Implemented.
	* org\omg\CORBA_2_3\portable\OutputStream.java 
	(write_abstract_interface): 
	Changed parameter type to java.lang.Object.
	* org\omg\CORBA\portable\BoxedValueHelper.java: 
	Moved wrongly placed bracket.
	* org\omg\CORBA\ParameterMode.java: Inherit from
	Serializable, IDLEntity and removing duplicated header.
	(_PARAM_IN, _PARAM_OUT, _PARAM_INOUT): Making final.
	* org\omg\Messaging\SyncScopeHelper.java (extract, id, insert, 
	read, type, write): Making public.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/DefinitionKindHelper.java,
	org/omg/CORBA/FieldNameHelper.java,
	org/omg/CORBA/IdentifierHelper.java,
	org/omg/CORBA/ParameterMode.java,
	org/omg/CORBA/ParameterModeHelper.java,
	org/omg/CORBA/ParameterModeHolder.java,
	org/omg/CORBA/RepositoryIdHelper.java,
	org/omg/CORBA/SetOverrideTypeHelper.java,
	org/omg/CORBA/VersionSpecHelper.java,
	gnu/CORBA/SetOverrideTypeHolder.java,
	gnu/CORBA/DefinitionKindHolder.java: New files.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/stub/java/rmi/_Remote_Stub.java,
	org/omg/stub/java/rmi/package.html: New package.

	2005-06-04  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/Messaging/SyncScopeHelper.java
	org/omg/Messaging/SYNC_WITH_TRANSPORT.java
	org/omg/Messaging/package.html: New package.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/portable/BoxedValueHelper.java,
	org/omg/CORBA_2_3/portable/OutputStream.java,
	org/omg/CORBA_2_3/portable/Delegate.java,
	org/omg/CORBA_2_3/portable/ObjectImpl.java,
	org/omg/CORBA_2_3/portable/package.html: New files.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/NamingContextPackage/AlreadyBound.java,
	org/omg/CosNaming/NamingContextPackage/CannotProceed.java,
	org/omg/CosNaming/NamingContextPackage/InvalidName.java,
	org/omg/CosNaming/NamingContextPackage/NotEmpty.java,
	org/omg/CosNaming/NamingContextPackage/NotFound.java,
	org/omg/CosNaming/NamingContextPackage/NotFoundReason.java:
	Added SerialVersionUID.

	2005-06-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/GIOP/uncObjectInputStream.java,
	gnu/CORBA/GIOP/uncObjectInputStream/uncObjectOutputStream.java:
	Deleting files.
	* gnu/CORBA/CDR/uncObjectInputStream.java,
	gnu/CORBA/CDR/uncObjectInputStream/uncObjectOutputStream.java:
	Adding files.

	2005-06-03  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java,
	gnu/CORBA/IOR_Delegate.java,
	gnu/CORBA/Simple_delegate.java,
	gnu/CORBA/universalHolder.java,
	gnu/CORBA/CDR/aligningInputStream.java,
	gnu/CORBA/CDR/aligningOutputStream.java,
	gnu/CORBA/CDR/cdrInput.java,
	gnu/CORBA/CDR/cdrOutput.java,
	gnu/CORBA/CDR/encapsulatedOutput.java,
	gnu/CORBA/GIOP/ErrorMessage.java,
	gnu/CORBA/GIOP/MessageHeader.java,
	gnu/CORBA/GIOP/cxCodeSet.java,
	gnu/CORBA/GIOP/v1_2/RequestHeader.java,
	org/omg/CosNaming/BindingIteratorHelper.java,
	org/omg/CosNaming/BindingListHelper.java,
	org/omg/CosNaming/BindingTypeHelper.java,
	org/omg/CosNaming/NameComponentHelper.java,
	org/omg/CosNaming/NameHelper.java,
	org/omg/CosNaming/NamingContextExtHelper.java,
	org/omg/CosNaming/NamingContextHelper.java:
	Initialise instances of org.omg.SystemException, thrown
	after catching the other exception, with InitCause.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/GIOP/uncObjectInputStream.java,
	gnu/CORBA/GIOP/uncObjectInputStream/uncObjectOutputStream.java: New streams.
	* org/omg/CORBA/ValueBaseHelper.java: Removing inner classes,
	using uncObjectInputStream, uncObjectOutputStream instead.
	* org/omg/CORBA_2_3/portable.InputStream.java (read_value): 
	Delegate call to ValueBaseHelper.

	2005-06-03  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/SendingContext/Runtime.java,
	org/omg/CORBA/SendingContext/RunTimeOperations.java:
	Fixing the package statement.

	2005-06-01  Tom Tromey  <tromey@redhat.com>

	* org/omg/CosNaming/IstringHelper.java: Changed non-ascii
	characters.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/SendingContext/package.html,
	org/omg/SendingContext/RunTimeOperations.java,
	org/omg/SendingContext/Runtime.java: New package.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/BindingType.java,
	org/omg/CosNaming/NameComponent.java,
	org/omg/CosNaming/_BindingIteratorStub.java,
	org/omg/CosNaming/_NamingContextStub.java,
	org/omg/CosNaming/_NamingContextExtStub.java,	
	org/omg/CosNaming/_BindingIteratorImplBase.java,
	org/omg/CosNaming/_NamingContextImplBase.java: Added SerialVersionUID.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>
	
	* org/omg/CosNaming/IstringHelper.java: New class.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/CDR/cdrInput.java (read_wstring): Correcting
	check for native encoding.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java (serveStep),
	gnu/CORBA/gnuRequest.java (submit),
	gnu/CORBA/CDR/cdrInput.java (read_encapsulation): Correcting
	data read loop.

	2005-06-01  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORG.java (getFreePort): Remember
	the port number in the local variable.

	2005-05-31  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg/CORBA_2_3/ORB.java,
	org/omg/CORBA_2_3/portable/InputStream.java,
	org/omg/CORBA/portable/ValueFactory.java: New classes.

	2005-05-31  Audrius Meskauskas <AudriusA@Bioinformatics.org>

	* org/omg.CORBA/DynValue.java (declaration): Inherit from DynAny,
	org.omg.CORBA.Object. (set_members): Declare it may throw InvalidSeq.

	2005-05-31 Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/CDR/BigEndianInputStream.java,
	gnu/CORBA/CDR/BigEndianOutputStream.java,
	gnu/CORBA/CDR/LittleEndianInputStream.java,
	gnu/CORBA/CDR/LittleEndianOutputStream.java: New streams.
	gnu/CORBA/CDR/abstractDataInputStream.java,
	gnu/CORBA/CDR/abstractDataOutputStream.java: New interfaces.
	* gnu/CORBA/IOR.java: Implemented parsing of the Little
	Endian encoded IOR references. 
	* gnu/CORBA/Functional_ORB.java, 
	gnu/CORBA/binaryReply.java, 
	gnu/CORBA/gnuRequest.java, 
	gnu/CORBA/CDR/cdrInput.java, 
	gnu/CORBA/CDR/cdrOutput.java, 
	gnu/CORBA/CDR/encapsulatedOutput.java, 
	gnu/CORBA/GIOP/MessageHeader.java: Implemented support
	for Big and Little Endian.
	* org/omg/CORBA/package.html: Documentation update.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Jeroen Frijters  <jeroen@frijters.net>

	* java/net/ServerSocket.java
	(bound): Removed.
	(local): New field.
	(bind): Cache local socket address.
	(getInetAddress, getLocalPort, getLocalSocketAddress, isBound):
	Use cached local socket address.
	(close): bound field was removed.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/nio/channels/FileChannelImpl.java
	(FileChannelImpl()): Removed.
	(FileChannelImpl(File,int)): Made private.
	(create): New method.
	* java/io/FileInputStream.java,
	java/io/FileOutputStream.java,
	java/io/RandomAccessFile.java:
	Updated construction of FileChannelImpl instance.

2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-31  Sven de Marothy  <sven@physto.se>

	* java/awt/image/BufferedImage.java:
	(ImageProducer): Use Vector instead of HashMap.
	* java/awt/image/DirectColorModel.java:
	(getAlpha): Default to 255 (opaque).
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTree.java
	(getNextMatch): Implemented new method.
	
	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalSplitPaneUI.java:
	(createUI): Do not share one instance of MetalSplitPaneUI
	between multiple JSplitPanes.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java:
	Made JComponent.AccessibleJComponent implement
	AccessibleExtendedComponent.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JButton.java
	(constructor): Set initial actionCommand equal to the buttons label.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JList.java
	(getNextMatch): Implemented new method.
	(getCellBounds): Implemented new method.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Functional_ORB.java (serve, portServer, serveStep):
	Implemented support for the subsequent invocations reusing the same
	socket.
	* gnu/CORBA/GIOP/MessageHeader.java (read): throw
	NO_IMPLEMENT, not MARSHAL for Little Endian request.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(putLayer): Implemented new method.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java:
	Fixed values of some constant fields.

	2005-05-30  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilities.java:
	(getWindowAncestor): This method has to be static instead of
	non-static.
	
2005-06-10  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-29  Michael Koch  <konqueror@gmx.de>

	* java/util/LinkedHashMap.java (access): Set 'root.pred'.

2005-06-09  Helmer Kraemer  <hkraemer@freenet.de>

	* kaffe/kaffevm/classMethod.c (expandMethods): create new parsed_signature_t for
	created method
	(duplicateParsedSignature): new method

	Fixes bug reported by Daniel Bonniot <Daniel.Bonniot@inria.fr>

2005-06-05  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/javalib/gnu/java/nio/charset/iconv/IconvProvider.java
	(IconvProvider): Made the constructor public.

	* libraries/javalib/java/nio/charset/Charset.java
	(providers2): Allow spaces and comments in
	META-INF/services/java.nio.charset.spi.CharsetProvider.
	Load the provider using the context class loader.

2005-06-04  Helmer Kraemer  <hkraemer@freenet.de>

	* kaffe/kaffevm/jni/jni.c (Kaffe_FindClass): fixed so it works correctly	for native methods of system classes.

2005-06-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_ExceptionDescribe): Fixed variable declaration.

	* test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Checked in missing files.

2005-06-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/stackTrace.c
	(printStackTrace): Reformatted trace output.

	* kaffe/kaffevm/support.c
	(kprintf): Use vfprintf stored in kaffe VM arguments.

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_ExceptionDescribe): Always print the stack trace using
	kaffe internal routines. That way we always get a stack trace when
	an exception is thrown.

	* test/regression/ProcessClassInst.java,
	test/regression/ProcessClassStop.java: Fixed expected output
	accordingly.
	
2005-05-31  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffevm/jni/jni.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkFramePeer.c,
	  libraries/clib/fdlibm/dtoa.c, libraries/clib/fdlibm/mprec.c,
	  libraries/clib/fdlibm/strtod.c,
	  libraries/clib/nio/gnu_java_nio_VMSelector.c,
	  libraries/clib/nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
	  libraries/clib/nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
	  libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	  s/0/NULL/.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* scripts/GCCWarning.pm: Few more warnings added.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* include/Makefile.am, include/Makefile.am:
	  Prefix the classpath with gmp-math, so that java_math_BigInteger.h
	  is generated correctly.

2005-05-31  Adam Heath  <doogie@brainfood.com>

	* include/jsyscall.h, kaffe/kaffevm/systems/unix-pthreads/signal.c,
	  kaffe/kaffevm/systems/unix-pthreads/thread-internal.h,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuBarPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkMenuPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkTextComponentPeer.c,
	  libraries/clib/classpath/native_state.c,
	  libraries/clib/io/java_io_VMObjectStreamClass.c,
	  libraries/clib/native/Method.c, libraries/clib/native/Object.c,
	  libraries/clib/net/InetAddressImpl.c,
	  libraries/clib/net/PlainDatagramSocketImpl.c,
	  libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	  Fix some -Wtraditional warnings(mostly signed/unsigned type) by
	  adding either casts or changing types.

2005-05-30  Helmer Kraemer  <hkraemer@freenet.de>

	* libraries/javalib/kaffe/lang/AppClassLoader.java,
	libraries/javalib/kaffe/lang/PrimordialClassLoader.java,
	libraries/clib/native/PrimordialClassLoader.c: removed. Loading classes is
	now handled completely by ClassLoader / VMClassLoader.
	* libraries/clib/native/ClassLoader.c (java_lang_VMClassLoader_loadClass):
	implemented

	* libraries/javalib/java/lang/Class.java: replaced by implementation from
	GNU Classpath
	* libraries/javalib/java/lang/VMClass.java: new file
	* libraries/clib/native/Class.c: updated to VMClass implementation

	* libraries/clib/native/ThreadStack.c,
	libraries/javalib/kaffe/lang/ThreadStack.java: removed. Identical
	functionality is now provided by gnu.classpath.VMStackWalker.
	* libraries/clib/native/gnu_classpath_VMStackWalker.c,
	libraries/javalib/gnu/classpath/VMStackWalker.java: implement methods
	directly instead of delegating to kaffe.lang.ThreadStack.

	* kaffe/kaffevm/baseClasses.h,
	kaffe/kaffevm/baseClasses.c: removed references to kaffe.lang.AppClassLoader,
	replaced getClassClass with getClassVtable, so we can remove dummyClassClass

	* kaffe/kaffevm/classMethod.c, kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/object.c: replaced getClassClass()->vtable with getClassVtable()

	* kaffe/kaffevm/classMethod.c (initialiseSecurity): new method
	(internalSetupClass, lookupArray): initialise protection domain of new class

	* kaffe/kaffevm/classMethod.h (struct Hjava_lang_Class): rearranged fields
	to match fields in GNU Classpath's java.lang.Class implementation

	* kaffe/kaffevm/jni/jni.c (Kaffe_FindClass): walk the stack to find the
	correct class loader
	
	* kaffe/kaffevm/gcFuncs.c (walkClass): updated to Hjava_lang_Class changes

	* libraries/javalib/META-INF/services/java.nio.charset.spi.CharsetProvider:
	removed, as iconv is treated specially by java.nio.charset.Charset

	* kaffe/kaffe/main.c (options): add argument of -jar option to the classpath

	* libraries/javalib/kaffe/jar/ExecJar.java: don't update the classpath, that's
	done in kaffe's main now.

	* libraries/javalib/kaffe/jar/ExecJarName.java: use the system class loader
	to load the main class.

	* libraries/clib/native/Makefile.am, libraries/clib/native/Makefile.in,
	include/Makefile.am, include/Makefile.in, libraries/javalib/all.files,
	WHATSNEW: updated

	* test/regression/CharCvt.java,	test/regression/GetField.java,
	test/regression/KaffeInternal.java, test/regression/ProcessClassInst.java,
	test/regression/ProcessClassLockTest.java,
	test/regression/ProcessClassStop.java: updated expected output

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffe/main.c, kaffe/kaffevm/classMethod.c,
	  kaffe/kaffevm/classPool.c, kaffe/kaffevm/gcFuncs.c,
	  kaffe/kaffevm/lookup.c, kaffe/kaffevm/stringParsing.c,
	  kaffe/kaffevm/jit/native-wrapper.c, kaffe/kaffevm/jit3/constpool.c,
	  kaffe/kaffevm/jit3/icode.c, kaffe/kaffevm/jit3/labels.c,
	  kaffe/kaffevm/jni/jni-arrays.c, kaffe/kaffevm/jni/jni-base.c,
	  kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	  kaffe/kaffevm/verifier/verify-block.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GdkRobotPeer.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollPanePeer.c,
	  libraries/clib/fdlibm/dtoa.c, libraries/clib/fdlibm/e_atan2.c,
	  libraries/clib/fdlibm/k_rem_pio2.c, libraries/clib/fdlibm/strtod.c,
	  libraries/clib/native/Method.c, libraries/clib/net/InetAddressImpl.c,
	  libraries/clib/security/sha-1.h:
	  Add default case to several switches, fixing more warnings.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* kaffe/kaffevm/classPool.c, kaffe/kaffevm/findInJar.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c,
	  libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c:
	  Fix all -Wswitch-enum warnings.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* include/gccbuiltin.h:
	  Fix GCC_VERSION undefined warning.

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* libraries/javalib/gnu/CORBA/generalTypeCode.java:
	  s/-Integer.MIN_VALUE/Integer.MIN_VALUE/

2005-05-30  Adam Heath  <doogie@brainfood.com>

	* libraries/javalib/gnu/crypto/exp/Helix.java,
	libraries/javalib/gnu/crypto/hash/MD4.java,
	libraries/javalib/gnu/crypto/hash/MD5.java,
	libraries/javalib/org/metastatic/jessie/pki/provider/MD5.java:
	  Replace all negative bitshifts with 32 - value.  Fixes jikes
	  compiler warning.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CosNaming/_BindingIteratorImplBase.java ,
	org/omg/CosNaming/_NamingContextExtImplBase.java,
	org/omg/CosNaming/_NamingContextImplBase.java: Inherit from
	DynamicImplementation.
	* gnu/CORBA/ServiceRequestAdapter.java: New class.
	* gnu/CORBA/gnuNVList.java (add, add_item):
	Replacing null by constructed instance.

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/Functional_ORB.java (serve, useProperties, init): Implementing
	the property-configurable time-outs. 

	2005-05-29  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/gnuRequest.java (p_invoke): Wrap the received UserException into
	UnknownUserException.
	* gnu/CORBA/streamReadyHolder.java: New wrapper for UserException. 
	* org/omg/CORBA/UnknownUserException.java: New exception.
	
	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/ORB.java (create_recursive_sequence_tc): New method.

	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/DynValue.java: New interface.

	2005-05-27  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* omg/org/CORBA/package.html: Documentation update.

	2005-05-26  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_basic_dyn_any): 
	Declare it may throw an InconsistentTypeCode.
	(create_dyn_any): Remove wrong exception declaration.
	(create_operation_list, create_abstract_interface_tc, 
	create_native_tc, get_service_information): Implementing these methods.
	* org/omg/CORBA/ServerRequest.java (result, except, params, op_name): 
	Marking deprecated.
	
2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-27  Roman Kennke  <roman@kennke.org>

	* javax/swing/AbstractButton.java:
	Bumped up serialVersionUID(s) to JDK1.4 compatibility.
	* javax/swing/ImageIcon.java: Likewise.
	* javax/swing/JFileChooser.java: Likewise.
	* javax/swing/JInternalFrame.java: Likewise.
	* javax/swing/JMenu.java: Likewise.
	* javax/swing/JRadioButton.java: Likewise.
	* javax/swing/JScrollPane.java: Likewise.
	* javax/swing/JSpinner.java: Likewise.
	* javax/swing/JTabbedPane.java: Likewise.
	* javax/swing/ImageIcons.java: Likewise.
	* javax/swing/JToggleButton.java: Likewise.
	* javax/swing/JToolTip.java: Likewise.
	* javax/swing/JViewPort.java: Likewise.
	* javax/swing/LayoutFocusTraversalPolicy.java: Likewise.
	* javax/swing/SpinnerDateModel.java: Likewise.
	* javax/swing/TransferHandler.java: Likewise.

2005-05-27  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* gnu/java/awt/peer/gtk/GtkContainerPeer.java (setFont): Handle
	lightweight peers specially.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URI.java:
	(getURIGroup(String)): Correctly handle the difference
	between null and undefined optional values.
	(relativize(java.net.URI)): Corrected documentation.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/xml/transform/StreamSerializer.java:
	(serialize(org.w3c.dom.Node,java.io.OutputStream,
	boolean)): Add missing 'DOCTYPE' keyword to
	DocumentType node output.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java:
	(connect()): Reverted the removal of the exception
	with 404s.

	2005-05-26  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/java/net/protocol/http/HTTPURLConnection.java:
	(connect()): Fixed a null pointer exception with 304
	responses and an inappropriate exception with 404s.
	* gnu/java/net/protocol/http/Request.java:
	(readResponse(java.io.LineInputStream)): Fixed a
	fruitless attempt to read the non-existant body
	of a 304 response.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c:
	Fixed compile problems with JVMPI.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/plaf/basic/BasicFileChooserUI.java: 
	(installComponents) Use a BorderLayout for the filechooser.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/JRootPane.java: 
	(layoutContainer, preferredLayoutSize) Use getContentPane
	to fix initialisation problems.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/awt/GridBagLayout.java: 
	(addLayoutComponent) Improved error message.

2005-05-30  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/javax/swing/JPopupMenu.java: (insert)
	Pass on -1 index to super.add as mutliple threads can change
	the index of the last component independently.

2005-05-28  Helmer Kraemer  <hkraemer@freenet.de>

	* developers/dumpClass.pl: add command line arguments for verbose
	method and field info
	* developers/update-class-list: set LC_ALL to C to get a consistent
	sort order
	* kaffe/kaffevm/code-analyse.c (analyzeBasicBlock): throw VerifyError
	if bytecode contains an invalid opcode
	* kaffe/kaffevm/exception.c (findExceptionBlockInMethod): improved
	debug messages
	* kaffe/kaffevm/stackTrace.c (printStackTrace): print message of
	exception
	* libraries/clib/native/String.c (java_lang_String_indexOf): fix bounds
	of loop
	
2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/jit3/icode.c:
	Fix argument type mismatch.
	The 'else' parts of 'neg_float' or 'neg_double' may have never
	been used.

2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/sh/trampolines.S:
	Fix bugs introduced in Gcc assembler to real assembler conversion.

2005-05-28  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/m68k/jit-icode.h,
	config/m68k/jit3-icode.h,
	kaffe/kaffevm/jit3/funcs.h:
	Remove unused macros HAVE_ref_eq_int and HAVE_ref_eq_long.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-25  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* resource/META-INF/services/javax.xml.parsers.DocumentBuilderFactory,
	resource/META-INF/services/javax.xml.parsers.SAXParserFactory,
	resource/META-INF/services/javax.xml.parsers.TransformerFactory,
	resource/META-INF/services/org.xml.sax.driver:
	Properties for the XML facilities.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Michael Koch  <konqueror@gmx.de>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c
	(connetJObject): Removed.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-25  Michael Koch  <konqueror@gmx.de>

	* java/util/Locale.java (getISOStrings):
	Re-implemented for locale properties files.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.
	
	2005-05-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkScrollBarPeer.c
	(connectSignals): Connect to new change-value signal.
	(post_change_event): Remove signal handler.
	(slider_moved_cb): New signal handler.
	* configure.ac: Require gtk+-2.0 >= 2.6.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-24  Gary Benson  <gbenson@redhat.com>

	* java/text/MessageFormat.java (MessageFormatElement.setLocale):
	Handle DateFormat.DEFAULT case correctly.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/AbstractButton.java:
	(constructor): Removed model creation.
	* javax/swing/JButton.java:
	(constructor): Added model creation.
	* javax/swing/JMenuItem.java:
	(init): Added model creation.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(static getLayer): Add cast to force a call to the instance method
	getLayer().
	(getLayeredPaneAbove): Added and implemented method.
	* javax/swing/JInternalFrame.java
	(getLayer): Add cast to force a call to the instance method
	getLayer() of JLayeredPane.

	2005-05-25  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicSplitPaneUI.java
	(paint): Added check to make sure the split pane divider has
	a valid location.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/JTextComponent.java
	(getPreferredScrollableViewportSize): Implemented this method.
	(getScrollableUnitIncrement): Implemented this method.
	(getScrollableBlockIncrement): Implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JTextArea.java
	(getPreferredScrollableViewportSize): Added and implemented
	new method.
	(getScrollableUnitIncrement): Added and implemented new
	method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JLayeredPane.java
	(getLayer): Added and implemented new (static) method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java
	(constructor(String, FileSystemView)): Added constructor.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JViewport.java
	(createLayoutManager): Added and implemented new method.
	(constructor): Set the LayoutManager that is created by
	createLayoutManager().
	* javax/swing/plaf/basic/BasicViewportUI.java
	(installUI): Removed setLayout(..). This is moved into
	the constructor of JViewport (as the API docs suggest).

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JViewport.java:
	(ViewListener): Added and implemented inner class.
	(createViewListener): Added and implemented new method.
	(setView): Add and remove ViewListener to/from the view component.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/DefaultListSelectionModel.java
	(fireValueChanged(boolean)): Added and implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/SwingUtilities.java:
	(getWindowAncestor): Added and implemented this method.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/JFileChooser.java:
	Fixed the values of several public constant fields.

	2005-05-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Uncommented code that has accidentally
	been commented out.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout.java
	(maximumLayoutSize): Added checks for overflow. This is necessary
	because some components have maximumSize of Integer.MAX_VALUE,
	that would cause an overflow if summed up.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/TreePath.java
	(getParentPath): Return null if this path only has no parent.

	2005-05-22  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java:
        (getMaximumSize): Fixed comment.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/TreePath.java:
	Reformatted this file in order to match our coding style.

	2005-05-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTextUI.java
	(getMaximumSize): Implemented this method.

2005-05-26  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/TRANSIENT.java (serialVersionUID): Added 1.4 SVUID.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ValueBaseHelper.java,
	org/omg/CORBA/ValueBaseHolder.java,
	org/omg/CORBA/portable/ValueBase.java: New files.
	* gnu/CORBA/gnuAny.java (insert_Value, extract_Value): 
	Implemented methods. 

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_dyn_any, create_dyn_array,
	create_dyn_enum, create_dyn_sequence, create_dyn_struct, 
	create_dyn_union, create_policy): Declaring they may throw an
	exceptions.
	* org/omg/CORBA/DefinitionKind.java: Making fields final and inherit
	from IDLEntity, Serializable.
	* org/omg/CORBA/IRObject.java: Inherit from 
	org.omg.CORBA.Object, Serializable, IDLEntity.

	2005-05-25  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Connected_objects.java (cObject, getKey, add, get,
	entrySet, remove),
	* gnu/CORBA/Functional_ORB.java (portServer, getFreePort, connect,
	startService, destroy, disconnect, object_to_string, run, shutdown, 
	find_connected_object, createIOR, finalize): Implemented 
	listening on different ports for different objects.

	2005-05-24  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/portable/Delegate.java (equals): Compare parameters.

	2005-05-24  Mark Wielaard  <mark@klomp.org>

	* java/util/regex/Pattern.java (split): Assign value of variable
	matched outside while statement.
	* gnu/regexp/RE.java (getCharUnit): Assign value of unit.bk variable
	outside if statement.
	* gnu/CORBA/bufferedResponseHandler.java (createReply): Assign values
	from static class type constants.
	* gnu/CORBA/IOR.java (_write_no_endian): Likewise.
	* gnu/CORBA/Functional_ORB.java (respond_to_client): Likewise.
	(serve): Likewise.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* gnu/CORBA/Asynchron.java: New file.
	* org/omg/CORBA/ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response, 
	get_next_response, perform_work, work_pending): New methods.
	* gnu/CORBA/gnuRequest.java (send_deferred, send_oneway):
	Launch the submission process in a separate thread.
	* org/omg/CORBA/portable/ObjectImpl.java (hashCode): Removing
	redundant method.
	* gnu/CORBA/Functional_ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response,
	get_next_response, perform_work, work_pending): New methods.
	* gnu/CORBA/Restricted_ORB.java (send_multiple_requests_oneway,
	send_multiple_requests_deferred, poll_next_response,
	get_next_response, perform_work, work_pending): New methods.	

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/NameValuePair.java: Inherit from Serializable, IDLEntity.
	* org/omg/CORBA/SetOverrideType.java (constuctor): Making protected.
	* org/omg/CORBA/DynFixed.java (set_value): Declare it may throw an 
	InvalidValue.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/DefinitionKind.java,
	org/omg/CORBA/IRObject.java,
	org/omg/CORBA/IRObjectOperations.java,
	org/omg/CORBA/IDLTypeOperations.java: New files.
	* org/omg/CORBA/IDLType.java: Inherit from IDLTypeOperations.

	2005-05-23  Audrius Meskauskas  <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ORB.java (create_context_list, create_basic_dyn_any,
	create_dyn_any, create_dyn_array,  create_dyn_enum,
	create_dyn_sequence, create_dyn_struct, create_dyn_union,
	create_policy, get_current): New 
	methods. 

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServerRequest.java,
	org/omg/CORBA/DynamicImplementation.java:
	New files.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/cdrOutput.java (write_octet_array): Removing
	redundant loop.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServiceInformation.java,
	org/omg/CORBA/ServiceInformationHelper.java,
	org/omg/CORBA/ServiceInformationHolder: New files.

	2005-05-22  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* org/omg/CORBA/ServiceDetail.java,
	org/omg/CORBA/ServiceDetailHelper.java,
	gnu/CORBA/ServiceDetailHolder.java: New files.

	2005-05-21  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/ObjectCreator.java: Use gnu/CORBA namespace.

	2005-05-21  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

	* gnu/CORBA/universalHolder.java: New file.
	* gnu/CORBA/gnuAny.java (create_input_stream,
	read_value): Use the universalHolder.
	* gnu/CORBA/CDR/aligningInputStream.java
	(getBuffer): New method.

2005-05-23  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Only run boehm-gc configury if
	boehm-gc is selected.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-05-23  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Create include/config-int.h
	instead of config/config-int.h.

	* config/Makefile.am (GEN_HDRS): Removed config-int.h.

	* include/Makefile.am (include_HEADERS): Added config-int.h.

	* libraries/clib/fdlibm/Makefile.am (AM_CPPFLAGS): Added
	include directory.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-21  Andreas Jaeger  <aj@suse.de>

        * java/lang/mprec.c (mult, lshift, b2d, d2b): Add parenthesis to
        avoid warnings.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/jvmpi/jvmpi_kaffe.c
	kaffe/kaffevm/exception.c
	kaffe/kaffevm/stackTrace.c:
	Renamed backtrace field to vmdata.

	* kaffe/kaffevm/thread.c
	libraries/clib/native/Thread.c
	libraries/clib/native/Throwable.c:
	Renamed jthreadID field to vmdata.

	Resynced with GNU Classpath.

	2005-05-21  Archie Cobbs  <archie@dellroad.org>

        * java/lang/ClassLoader.java: (vmdata): add
        * vm/reference/java/lang/VMThread.java: (vmdata): add
        (countStackFrames()): make native
        * vm/reference/java/lang/VMThrowable.java: (vmdata): add
        (fillInStackTrace()): make native
        (getStackTrace()): make native

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-21  Michael Koch  <konqueror@gmx.de>

        * resource/gnu/java/locale/LocaleInformation_as.properties,
        resource/gnu/java/locale/LocaleInformation_bg.properties,
        resource/gnu/java/locale/LocaleInformation_cs.properties,
        resource/gnu/java/locale/LocaleInformation_da.properties,
        resource/gnu/java/locale/LocaleInformation_de.properties,
        resource/gnu/java/locale/LocaleInformation_dz.properties,
        resource/gnu/java/locale/LocaleInformation_en.properties,
        resource/gnu/java/locale/LocaleInformation_en_GB.properties,
        resource/gnu/java/locale/LocaleInformation_en_IE.properties,
        resource/gnu/java/locale/LocaleInformation_en_SG.properties,
        resource/gnu/java/locale/LocaleInformation_es.properties,
        resource/gnu/java/locale/LocaleInformation_fa.properties,
        resource/gnu/java/locale/LocaleInformation_fa_AF.properties,
        resource/gnu/java/locale/LocaleInformation_fi.properties,
        resource/gnu/java/locale/LocaleInformation_fr.properties,
        resource/gnu/java/locale/LocaleInformation_ga.properties,
        resource/gnu/java/locale/LocaleInformation_hi.properties,
        resource/gnu/java/locale/LocaleInformation_it.properties,
        resource/gnu/java/locale/LocaleInformation_ja.properties,
        resource/gnu/java/locale/LocaleInformation_ko.properties,
        resource/gnu/java/locale/LocaleInformation_mr.properties,
        resource/gnu/java/locale/LocaleInformation_mt.properties,
        resource/gnu/java/locale/LocaleInformation_nb.properties,
        resource/gnu/java/locale/LocaleInformation_nl.properties,
        resource/gnu/java/locale/LocaleInformation_ps.properties,
        resource/gnu/java/locale/LocaleInformation_pt.properties,
        resource/gnu/java/locale/LocaleInformation_sr.properties,
        resource/gnu/java/locale/LocaleInformation_sr_Latn.properties,
        resource/gnu/java/locale/LocaleInformation_sv.properties,
        resource/gnu/java/locale/LocaleInformation_sw.properties,
        resource/gnu/java/locale/LocaleInformation_ta.properties,
        resource/gnu/java/locale/LocaleInformation_uz_AF.properties,
        resource/gnu/java/locale/LocaleInformation_zh.properties,
        resource/gnu/java/locale/LocaleInformation_zh_Hant.properties:
        Regenerated with newer gnu.localegen to fix newline bug.

	2005-05-21  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * java/text/DateFormatSymbols.java:
        (getStringArray(java.util.ResourceBundle,String)):
        Fixed parsing of new property files.
        (getZoneStrings(java.util.ResourceBundle)):
        Likewise.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/awt/classpath-gtk/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c
	(area_updated): Delete jpixels reference after use to avoid wasting references.
	

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-20  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/SetOverrideType.java (_ADD_OVERRIDE, _SET_OVERRIDE),
        org/omg/CORBA/CompletionStatus.java
        (_COMPLETED_YES, _COMPLETED_NO, _COMPLETED_MAYBE): Making public.
        * org/omg/CORBA/ValueMember.java: Inherit from
        org.omg.CORBA.portable.IDLEntity.

	2005-05-20  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/portable/ApplicationException.java,
        org/omg/CORBA/portable/RemarshalException.java:
        Adding serialVersionUID.
        *org/omg/CORBA/portable/OutputStream.java(write_Context):
        Making concrete.
        org/omg/CORBA/portable/ServantObject.java (servant):
        Fixing typo in the field name.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-19  Andrew John Hughes  <gnu_andrew@member.fsf.org>

        * java/net/URI.java:
        Added more documentation.
        (RFC2396_MARK): Removed.
        (RFC2396_UNRESERVED): Changed to RFC3986_UNRESERVED and updated.
        (RFC2396_REG_NAME): Changed to RFC3986_REG_NAME and updated.
        (RFC2396_PCHAR): Changed to RFC3986_PCHAR and updated.
        (RFC2396_SEGMENT): Changed to RFC3986_SEGMENT and updated.
        (RFC2396_PATH_SEGMENTS): Changed to RFC3986_PATH_SEGMENTS.
        (RFC3986_UNRESERVED): New field.
        (RFC3986_SSP): New field.
        (RFC3986_HOST): New field.
        (RFC3986_USERINFO): New field.
        (static): New initializer to initialize patterns with class.
        (parseURI()): Moved authority parsing to parseServerAuthority().
        (unquote(String)): Removed invalid exception for non-ASCII chars.
        (quote(String)): Implemented.
        (quoteAuthority(String)): Adapted to use new fields.
        (quote(String,String)): Moved escaping of characters to another
        method.
        (quoteHost(String)): Implemented.
        (quotePath(String)): Adapted to use new fields.
        (quoteUserInfo(String)): Implemented.
        (parseServerAuthority()): Implemented.
        (normalize()): Implemented.
        (normalizePath(String)): Implemented as part of normalize().
        (removeLastSegment(StringBuffer)): Likewise.
        (relativize(java.net.URI)): Implemented.
        (equals(Object)): Implemented.
        (hashCode()): Implemented.
        (compareTo(Object)): Implemented.
        (compareFragments(java.net.URI)): Implemented.
        (toString()): Use fields directly.
        (toASCIIString()): Implemented.
        (escapeCharacters(String)): Implemented to escape non-ASCII characters.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/DefaultKeyboardFocusManager.java:
        Documentation fixes.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/JTextComponent.java
        (CaretBlinkTimer): Added inner class to make caret blinking.
        (constructor): Create one instance of CaretBlinkTimer.
        (setEditable): Switch caret on and off depending on the editable
        property.
        (setCare): Register caret with the CaretBlinkTimer.
        * javax/swing/text/DefaultCaret.java:
        Set a good blink rate of 500ms.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JEditorPane.java:
        (processComponentKeyEvent): Removed this method. This blocks
        key events from beeing delivered and is not in the API.
        (processKeyEvent): Removed this method. This blocks
        key events from beeing delivered and is not in the API.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/DefaultKeyboardFocusManager.java
        (processKeyEvent): Properly swallow KEY_TYPED events after
        a KEY_PRESSED event for a focusTraversalKey has been received.
        Otherwise the focusTraversalKey (e.g. a TAB) would end up
        beeing delivered to the focused component.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * java/awt/Component.java
        (dispatchEventImpl): Let MouseEvents trigger a focus change
        on lightweight components.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextField.java
        (constructor): Set default value for the horizontalAlignment
        property.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java
        (setButtonIcons): Added checks for null references.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/JProgressBar.java
        (paintBorder): Check if border is null before trying to paint it.
        * javax/swing/plaf/basic/BasicProgressBarUI.java
        (paint): Don't paint the border here. This would lead to the border
        beeing painted twice.

	2005-05-20  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (convertPoint): Check for visibility of source and destination
        before calling convertPointToScreen or convertPointFromScreen.

	2005-05-20  Robert Schuster  <thebohemian@gmx.net>

        * javax/swing/SizeRequirements.java: Removed two non-UTF8 chars.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java
        (constructors): Implemented.
        (getTiledSizeRequirements): Implemented.
        (calculateTiledPositions): Implemented.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java:
        Added API documentation for this class.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SizeRequirements.java:
        Reformatted file to meet our coding standards.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (getUIInputMap): Return the InputMap that has been set by
        the UI of the component, not the component's own InputMap.
        (getUIActionMap): Return the ActionMap that has been set by
        the UI of the component, not the component's own ActionMap.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/FocusManager.java:
        Reformatted this file to match our coding standard.

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/BasicFileChooserUI.java:
        (installComponents): Include parents ComboBox. This has been
        commented out because ComboBox was broken (see previous entry).

	2005-05-19  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalComboBoxUI.java
        (createUI): Do not share instances of this UI class between
        different JComboBoxes.

	2005-05-19  Kim Ho  <kho@luxsci.net>

        * javax/swing/DefaultComboBoxModel.java:
        (addElement): Set index to be the element of the added item.
        (removeAllElements): Clear before retrieving new size. Use
        correct size.
        * javax/swing/JFileChooser.java: Implemented.
        * javax/swing/filechooser/FileSystemView.java: Implemented.
        * javax/swing/filechooser/UnixFileSystemView.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicComboBoxUI.java:
        (intervalAdded): Set initial index to start.
        * javax/swing/plaf/basic/BasicDirectoryModel.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicFileChooserUI.java: New file.
        Implemented.
        * javax/swing/plaf/basic/BasicLookAndFeel.java: Add FileChooserUI.
        Commented out GIF properties for FileChooser stuff.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-19  Michael Koch  <konqueror@gmx.de>

        * java/text/DateFormatSymbols.java
        (getStringArray): New method.
        (getZoneStrings): Likewise.
        (DateFormatSymbols): Load symbols from properties files.
        * java/util/Locale.java
        (getDisplayLanguage): Handle new way to load language names.
        (getDisplayCountry): Handle new way to load territory names.
        (getDisplayVariant): Handle new way to load variant names.
        * LICENSE: Added license of locale data properties files.

	2005-05-19  Michael Koch  <konqueror@gmx.de>

        * resource/gnu/java/locale/LocaleInformation_aa_DJ.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ER.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ER_SAAHO.properties,
        resource/gnu/java/locale/LocaleInformation_aa_ET.properties,
        resource/gnu/java/locale/LocaleInformation_aa.properties,
        resource/gnu/java/locale/LocaleInformation_af.properties,
        resource/gnu/java/locale/LocaleInformation_af_ZA.properties,
        resource/gnu/java/locale/LocaleInformation_am_ET.properties,
        resource/gnu/java/locale/LocaleInformation_am.properties,
        resource/gnu/java/locale/LocaleInformation_ar_DZ.properties,
        resource/gnu/java/locale/LocaleInformation_ar_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ar_IQ.properties,
        resource/gnu/java/locale/LocaleInformation_ar_JO.properties,
        resource/gnu/java/locale/LocaleInformation_ar_KW.properties,
        resource/gnu/java/locale/LocaleInformation_ar_LB.properties,
        resource/gnu/java/locale/LocaleInformation_ar_LY.properties,
        resource/gnu/java/locale/LocaleInformation_ar_MA.properties,
        resource/gnu/java/locale/LocaleInformation_ar.properties,
        resource/gnu/java/locale/LocaleInformation_ar_QA.properties,
        resource/gnu/java/locale/LocaleInformation_ar_SA.properties,
        resource/gnu/java/locale/LocaleInformation_ar_SY.properties,
        resource/gnu/java/locale/LocaleInformation_ar_TN.properties,
        resource/gnu/java/locale/LocaleInformation_ar_YE.properties,
        resource/gnu/java/locale/LocaleInformation_as_IN.properties,
        resource/gnu/java/locale/LocaleInformation_as.properties,
        resource/gnu/java/locale/LocaleInformation_az_Cyrl.properties,
        resource/gnu/java/locale/LocaleInformation_be_BY.properties,
        resource/gnu/java/locale/LocaleInformation_be.properties,
        resource/gnu/java/locale/LocaleInformation_bg_BG.properties,
        resource/gnu/java/locale/LocaleInformation_bg.properties,
        resource/gnu/java/locale/LocaleInformation_bn_IN.properties,
        resource/gnu/java/locale/LocaleInformation_bn.properties,
        resource/gnu/java/locale/LocaleInformation_ca_ES.properties,
        resource/gnu/java/locale/LocaleInformation_ca.properties,
        resource/gnu/java/locale/LocaleInformation_cs_CZ.properties,
        resource/gnu/java/locale/LocaleInformation_cs.properties,
        resource/gnu/java/locale/LocaleInformation_cy_GB.properties,
        resource/gnu/java/locale/LocaleInformation_cy.properties,
        resource/gnu/java/locale/LocaleInformation_da_DK.properties,
        resource/gnu/java/locale/LocaleInformation_da.properties,
        resource/gnu/java/locale/LocaleInformation_de_AT.properties,
        resource/gnu/java/locale/LocaleInformation_de_BE.properties,
        resource/gnu/java/locale/LocaleInformation_de_CH.properties,
        resource/gnu/java/locale/LocaleInformation_de_DE.properties,
        resource/gnu/java/locale/LocaleInformation_de_LI.properties,
        resource/gnu/java/locale/LocaleInformation_de_LU.properties,
        resource/gnu/java/locale/LocaleInformation_de.properties,
        resource/gnu/java/locale/LocaleInformation_dv_MV.properties,
        resource/gnu/java/locale/LocaleInformation_dv.properties,
        resource/gnu/java/locale/LocaleInformation_dz_BT.properties,
        resource/gnu/java/locale/LocaleInformation_dz.properties,
        resource/gnu/java/locale/LocaleInformation_el_GR.properties,
        resource/gnu/java/locale/LocaleInformation_el.properties,
        resource/gnu/java/locale/LocaleInformation_en_AS.properties,
        resource/gnu/java/locale/LocaleInformation_en_AU.properties,
        resource/gnu/java/locale/LocaleInformation_en_BE.properties,
        resource/gnu/java/locale/LocaleInformation_en_BW.properties,
        resource/gnu/java/locale/LocaleInformation_en_BZ.properties,
        resource/gnu/java/locale/LocaleInformation_en_CA.properties,
        resource/gnu/java/locale/LocaleInformation_en_GB.properties,
        resource/gnu/java/locale/LocaleInformation_en_GU.properties,
        resource/gnu/java/locale/LocaleInformation_en_HK.properties,
        resource/gnu/java/locale/LocaleInformation_en_IE.properties,
        resource/gnu/java/locale/LocaleInformation_en_IN.properties,
        resource/gnu/java/locale/LocaleInformation_en_MH.properties,
        resource/gnu/java/locale/LocaleInformation_en_MP.properties,
        resource/gnu/java/locale/LocaleInformation_en_MT.properties,
        resource/gnu/java/locale/LocaleInformation_en_NZ.properties,
        resource/gnu/java/locale/LocaleInformation_en_PH.properties,
        resource/gnu/java/locale/LocaleInformation_en_PK.properties,
        resource/gnu/java/locale/LocaleInformation_en.properties,
        resource/gnu/java/locale/LocaleInformation_en_SG.properties,
        resource/gnu/java/locale/LocaleInformation_en_UM.properties,
        resource/gnu/java/locale/LocaleInformation_en_US_POSIX.properties,
        resource/gnu/java/locale/LocaleInformation_en_US.properties,
        resource/gnu/java/locale/LocaleInformation_en_VI.properties,
        resource/gnu/java/locale/LocaleInformation_en_ZA.properties,
        resource/gnu/java/locale/LocaleInformation_en_ZW.properties,
        resource/gnu/java/locale/LocaleInformation_eo.properties,
        resource/gnu/java/locale/LocaleInformation_es_AR.properties,
        resource/gnu/java/locale/LocaleInformation_es_BO.properties,
        resource/gnu/java/locale/LocaleInformation_es_CL.properties,
        resource/gnu/java/locale/LocaleInformation_es_CO.properties,
        resource/gnu/java/locale/LocaleInformation_es_CR.properties,
        resource/gnu/java/locale/LocaleInformation_es_DO.properties,
        resource/gnu/java/locale/LocaleInformation_es_EC.properties,
        resource/gnu/java/locale/LocaleInformation_es_ES.properties,
        resource/gnu/java/locale/LocaleInformation_es_GT.properties,
        resource/gnu/java/locale/LocaleInformation_es_HN.properties,
        resource/gnu/java/locale/LocaleInformation_es_MX.properties,
        resource/gnu/java/locale/LocaleInformation_es_NI.properties,
        resource/gnu/java/locale/LocaleInformation_es_PA.properties,
        resource/gnu/java/locale/LocaleInformation_es_PE.properties,
        resource/gnu/java/locale/LocaleInformation_es.properties,
        resource/gnu/java/locale/LocaleInformation_es_PR.properties,
        resource/gnu/java/locale/LocaleInformation_es_PY.properties,
        resource/gnu/java/locale/LocaleInformation_es_SV.properties,
        resource/gnu/java/locale/LocaleInformation_es_US.properties,
        resource/gnu/java/locale/LocaleInformation_es_UY.properties,
        resource/gnu/java/locale/LocaleInformation_es_VE.properties,
        resource/gnu/java/locale/LocaleInformation_et_EE.properties,
        resource/gnu/java/locale/LocaleInformation_et.properties,
        resource/gnu/java/locale/LocaleInformation_eu_ES.properties,
        resource/gnu/java/locale/LocaleInformation_eu.properties,
        resource/gnu/java/locale/LocaleInformation_fa_AF.properties,
        resource/gnu/java/locale/LocaleInformation_fa_IR.properties,
        resource/gnu/java/locale/LocaleInformation_fa.properties,
        resource/gnu/java/locale/LocaleInformation_fi_FI.properties,
        resource/gnu/java/locale/LocaleInformation_fi.properties,
        resource/gnu/java/locale/LocaleInformation_fo_FO.properties,
        resource/gnu/java/locale/LocaleInformation_fo.properties,
        resource/gnu/java/locale/LocaleInformation_fr_BE.properties,
        resource/gnu/java/locale/LocaleInformation_fr_CA.properties,
        resource/gnu/java/locale/LocaleInformation_fr_CH.properties,
        resource/gnu/java/locale/LocaleInformation_fr_LU.properties,
        resource/gnu/java/locale/LocaleInformation_fr.properties,
        resource/gnu/java/locale/LocaleInformation_ga_IE.properties,
        resource/gnu/java/locale/LocaleInformation_ga.properties,
        resource/gnu/java/locale/LocaleInformation_gl_ES.properties,
        resource/gnu/java/locale/LocaleInformation_gl.properties,
        resource/gnu/java/locale/LocaleInformation_gu_IN.properties,
        resource/gnu/java/locale/LocaleInformation_gu.properties,
        resource/gnu/java/locale/LocaleInformation_gv_GB.properties,
        resource/gnu/java/locale/LocaleInformation_gv.properties,
        resource/gnu/java/locale/LocaleInformation_he_IL.properties,
        resource/gnu/java/locale/LocaleInformation_he.properties,
        resource/gnu/java/locale/LocaleInformation_hi_IN.properties,
        resource/gnu/java/locale/LocaleInformation_hi.properties,
        resource/gnu/java/locale/LocaleInformation_hr.properties,
        resource/gnu/java/locale/LocaleInformation_hu_HU.properties,
        resource/gnu/java/locale/LocaleInformation_hu.properties,
        resource/gnu/java/locale/LocaleInformation_hy_AM.properties,
        resource/gnu/java/locale/LocaleInformation_hy_AM_REVISED.properties,
        resource/gnu/java/locale/LocaleInformation_hy.properties,
        resource/gnu/java/locale/LocaleInformation_id_ID.properties,
        resource/gnu/java/locale/LocaleInformation_id.properties,
        resource/gnu/java/locale/LocaleInformation_is_IS.properties,
        resource/gnu/java/locale/LocaleInformation_is.properties,
        resource/gnu/java/locale/LocaleInformation_it_CH.properties,
        resource/gnu/java/locale/LocaleInformation_it_IT.properties,
        resource/gnu/java/locale/LocaleInformation_it.properties,
        resource/gnu/java/locale/LocaleInformation_iu.properties,
        resource/gnu/java/locale/LocaleInformation_ja_JP.properties,
        resource/gnu/java/locale/LocaleInformation_ja.properties,
        resource/gnu/java/locale/LocaleInformation_ka.properties,
        resource/gnu/java/locale/LocaleInformation_kk_KZ.properties,
        resource/gnu/java/locale/LocaleInformation_kk.properties,
        resource/gnu/java/locale/LocaleInformation_kl_GL.properties,
        resource/gnu/java/locale/LocaleInformation_kl.properties,
        resource/gnu/java/locale/LocaleInformation_km_KH.properties,
        resource/gnu/java/locale/LocaleInformation_km.properties,
        resource/gnu/java/locale/LocaleInformation_kn_IN.properties,
        resource/gnu/java/locale/LocaleInformation_kn.properties,
        resource/gnu/java/locale/LocaleInformation_ko_KR.properties,
        resource/gnu/java/locale/LocaleInformation_ko.properties,
        resource/gnu/java/locale/LocaleInformation_kw_GB.properties,
        resource/gnu/java/locale/LocaleInformation_kw.properties,
        resource/gnu/java/locale/LocaleInformation_ky.properties,
        resource/gnu/java/locale/LocaleInformation_lo_LA.properties,
        resource/gnu/java/locale/LocaleInformation_lo.properties,
        resource/gnu/java/locale/LocaleInformation_lt_LT.properties,
        resource/gnu/java/locale/LocaleInformation_lt.properties,
        resource/gnu/java/locale/LocaleInformation_lv_LV.properties,
        resource/gnu/java/locale/LocaleInformation_lv.properties,
        resource/gnu/java/locale/LocaleInformation_mk.properties,
        resource/gnu/java/locale/LocaleInformation_ml_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ml.properties,
        resource/gnu/java/locale/LocaleInformation_mn_MN.properties,
        resource/gnu/java/locale/LocaleInformation_mn.properties,
        resource/gnu/java/locale/LocaleInformation_mr_IN.properties,
        resource/gnu/java/locale/LocaleInformation_mr.properties,
        resource/gnu/java/locale/LocaleInformation_ms_BN.properties,
        resource/gnu/java/locale/LocaleInformation_ms_MY.properties,
        resource/gnu/java/locale/LocaleInformation_ms.properties,
        resource/gnu/java/locale/LocaleInformation_mt_MT.properties,
        resource/gnu/java/locale/LocaleInformation_mt.properties,
        resource/gnu/java/locale/LocaleInformation_nb_NO.properties,
        resource/gnu/java/locale/LocaleInformation_nb.properties,
        resource/gnu/java/locale/LocaleInformation_nl_BE.properties,
        resource/gnu/java/locale/LocaleInformation_nl_NL.properties,
        resource/gnu/java/locale/LocaleInformation_nl.properties,
        resource/gnu/java/locale/LocaleInformation_nn_NO.properties,
        resource/gnu/java/locale/LocaleInformation_nn.properties,
        resource/gnu/java/locale/LocaleInformation_om_ET.properties,
        resource/gnu/java/locale/LocaleInformation_om_KE.properties,
        resource/gnu/java/locale/LocaleInformation_om.properties,
        resource/gnu/java/locale/LocaleInformation_or_IN.properties,
        resource/gnu/java/locale/LocaleInformation_or.properties,
        resource/gnu/java/locale/LocaleInformation_pa_IN.properties,
        resource/gnu/java/locale/LocaleInformation_pa.properties,
        resource/gnu/java/locale/LocaleInformation_pl_PL.properties,
        resource/gnu/java/locale/LocaleInformation_pl.properties,
        resource/gnu/java/locale/LocaleInformation.properties,
        resource/gnu/java/locale/LocaleInformation_ps_AF.properties,
        resource/gnu/java/locale/LocaleInformation_ps.properties,
        resource/gnu/java/locale/LocaleInformation_pt_BR.properties,
        resource/gnu/java/locale/LocaleInformation_pt.properties,
        resource/gnu/java/locale/LocaleInformation_pt_PT.properties,
        resource/gnu/java/locale/LocaleInformation_ro.properties,
        resource/gnu/java/locale/LocaleInformation_ro_RO.properties,
        resource/gnu/java/locale/LocaleInformation_ru.properties,
        resource/gnu/java/locale/LocaleInformation_ru_RU.properties,
        resource/gnu/java/locale/LocaleInformation_ru_UA.properties,
        resource/gnu/java/locale/LocaleInformation_sa_IN.properties,
        resource/gnu/java/locale/LocaleInformation_sa.properties,
        resource/gnu/java/locale/LocaleInformation_sk.properties,
        resource/gnu/java/locale/LocaleInformation_sk_SK.properties,
        resource/gnu/java/locale/LocaleInformation_sl.properties,
        resource/gnu/java/locale/LocaleInformation_so_DJ.properties,
        resource/gnu/java/locale/LocaleInformation_so_ET.properties,
        resource/gnu/java/locale/LocaleInformation_so_KE.properties,
        resource/gnu/java/locale/LocaleInformation_so.properties,
        resource/gnu/java/locale/LocaleInformation_so_SO.properties,
        resource/gnu/java/locale/LocaleInformation_sq_AL.properties,
        resource/gnu/java/locale/LocaleInformation_sq.properties,
        resource/gnu/java/locale/LocaleInformation_sr_Latn.properties,
        resource/gnu/java/locale/LocaleInformation_sr.properties,
        resource/gnu/java/locale/LocaleInformation_sv_FI.properties,
        resource/gnu/java/locale/LocaleInformation_sv.properties,
        resource/gnu/java/locale/LocaleInformation_sv_SE.properties,
        resource/gnu/java/locale/LocaleInformation_sw_KE.properties,
        resource/gnu/java/locale/LocaleInformation_sw.properties,
        resource/gnu/java/locale/LocaleInformation_sw_TZ.properties,
        resource/gnu/java/locale/LocaleInformation_ta_IN.properties,
        resource/gnu/java/locale/LocaleInformation_ta.properties,
        resource/gnu/java/locale/LocaleInformation_te_IN.properties,
        resource/gnu/java/locale/LocaleInformation_te.properties,
        resource/gnu/java/locale/LocaleInformation_th.properties,
        resource/gnu/java/locale/LocaleInformation_th_TH.properties,
        resource/gnu/java/locale/LocaleInformation_ti_ER.properties,
        resource/gnu/java/locale/LocaleInformation_ti_ET.properties,
        resource/gnu/java/locale/LocaleInformation_ti.properties,
        resource/gnu/java/locale/LocaleInformation_tr.properties,
        resource/gnu/java/locale/LocaleInformation_tr_TR.properties,
        resource/gnu/java/locale/LocaleInformation_tt.properties,
        resource/gnu/java/locale/LocaleInformation_tt_RU.properties,
        resource/gnu/java/locale/LocaleInformation_uk.properties,
        resource/gnu/java/locale/LocaleInformation_uk_UA.properties,
        resource/gnu/java/locale/LocaleInformation_ur.properties,
        resource/gnu/java/locale/LocaleInformation_uz_AF.properties,
        resource/gnu/java/locale/LocaleInformation_uz.properties,
        resource/gnu/java/locale/LocaleInformation_vi.properties,
        resource/gnu/java/locale/LocaleInformation_zh_CN_Hans.properties,
        resource/gnu/java/locale/LocaleInformation_zh_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh_HK_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh_MO_Hant.properties,
        resource/gnu/java/locale/LocaleInformation_zh.properties,
        resource/gnu/java/locale/LocaleInformation_zh_SG_Hans.properties,
        resource/gnu/java/locale/LocaleInformation_zh_TW_Hant.properties:
        New files.
        * gnu/java/locale/LocaleInformation_aa_DJ.java,
        gnu/java/locale/LocaleInformation_aa_ER.java,
        gnu/java/locale/LocaleInformation_aa_ER_SAAHO.java,
        gnu/java/locale/LocaleInformation_aa_ET.java,
        gnu/java/locale/LocaleInformation_aa.java,
        gnu/java/locale/LocaleInformation_af.java,
        gnu/java/locale/LocaleInformation_af_ZA.java,
        gnu/java/locale/LocaleInformation_am_ET.java,
        gnu/java/locale/LocaleInformation_am.java,
        gnu/java/locale/LocaleInformation_ar_DZ.java,
        gnu/java/locale/LocaleInformation_ar_IN.java,
        gnu/java/locale/LocaleInformation_ar_IQ.java,
        gnu/java/locale/LocaleInformation_ar.java,
        gnu/java/locale/LocaleInformation_ar_JO.java,
        gnu/java/locale/LocaleInformation_ar_KW.java,
        gnu/java/locale/LocaleInformation_ar_LB.java,
        gnu/java/locale/LocaleInformation_ar_LY.java,
        gnu/java/locale/LocaleInformation_ar_MA.java,
        gnu/java/locale/LocaleInformation_ar_QA.java,
        gnu/java/locale/LocaleInformation_ar_SA.java,
        gnu/java/locale/LocaleInformation_ar_SY.java,
        gnu/java/locale/LocaleInformation_ar_TN.java,
        gnu/java/locale/LocaleInformation_ar_YE.java,
        gnu/java/locale/LocaleInformation_as_IN.java,
        gnu/java/locale/LocaleInformation_as.java,
        gnu/java/locale/LocaleInformation_az_Cyrl.java,
        gnu/java/locale/LocaleInformation_az.java,
        gnu/java/locale/LocaleInformation_be_BY.java,
        gnu/java/locale/LocaleInformation_be.java,
        gnu/java/locale/LocaleInformation_bg_BG.java,
        gnu/java/locale/LocaleInformation_bg.java,
        gnu/java/locale/LocaleInformation_bn_IN.java,
        gnu/java/locale/LocaleInformation_bn.java,
        gnu/java/locale/LocaleInformation_br_FR.java,
        gnu/java/locale/LocaleInformation_bs_BA.java,
        gnu/java/locale/LocaleInformation_byn_ER.java,
        gnu/java/locale/LocaleInformation_byn.java,
        gnu/java/locale/LocaleInformation_ca_ES.java,
        gnu/java/locale/LocaleInformation_ca.java,
        gnu/java/locale/LocaleInformation_cs_CZ.java,
        gnu/java/locale/LocaleInformation_cs.java,
        gnu/java/locale/LocaleInformation_cy_GB.java,
        gnu/java/locale/LocaleInformation_cy.java,
        gnu/java/locale/LocaleInformation_da_DK.java,
        gnu/java/locale/LocaleInformation_da.java,
        gnu/java/locale/LocaleInformation_de_AT.java,
        gnu/java/locale/LocaleInformation_de_BE.java,
        gnu/java/locale/LocaleInformation_de_CH.java,
        gnu/java/locale/LocaleInformation_de_DE.java,
        gnu/java/locale/LocaleInformation_de.java,
        gnu/java/locale/LocaleInformation_de_LI.java,
        gnu/java/locale/LocaleInformation_de_LU.java,
        gnu/java/locale/LocaleInformation_dv.java,
        gnu/java/locale/LocaleInformation_dv_MV.java,
        gnu/java/locale/LocaleInformation_dz_BT.java,
        gnu/java/locale/LocaleInformation_dz.java,
        gnu/java/locale/LocaleInformation_el_GR.java,
        gnu/java/locale/LocaleInformation_el.java,
        gnu/java/locale/LocaleInformation_en_AS.java,
        gnu/java/locale/LocaleInformation_en_AU.java,
        gnu/java/locale/LocaleInformation_en_BE.java,
        gnu/java/locale/LocaleInformation_en_BW.java,
        gnu/java/locale/LocaleInformation_en_BZ.java,
        gnu/java/locale/LocaleInformation_en_CA.java,
        gnu/java/locale/LocaleInformation_en_DK.java,
        gnu/java/locale/LocaleInformation_en_GB.java,
        gnu/java/locale/LocaleInformation_en_GU.java,
        gnu/java/locale/LocaleInformation_en_HK.java,
        gnu/java/locale/LocaleInformation_en_IE.java,
        gnu/java/locale/LocaleInformation_en_IN.java,
        gnu/java/locale/LocaleInformation_en.java,
        gnu/java/locale/LocaleInformation_en_MH.java,
        gnu/java/locale/LocaleInformation_en_MP.java,
        gnu/java/locale/LocaleInformation_en_MT.java,
        gnu/java/locale/LocaleInformation_en_NZ.java,
        gnu/java/locale/LocaleInformation_en_PH.java,
        gnu/java/locale/LocaleInformation_en_PK.java,
        gnu/java/locale/LocaleInformation_en_SG.java,
        gnu/java/locale/LocaleInformation_en_UM.java,
        gnu/java/locale/LocaleInformation_en_US.java,
        gnu/java/locale/LocaleInformation_en_US_POSIX.java,
        gnu/java/locale/LocaleInformation_en_VI.java,
        gnu/java/locale/LocaleInformation_en_ZA.java,
        gnu/java/locale/LocaleInformation_en_ZW.java,
        gnu/java/locale/LocaleInformation_eo.java,
        gnu/java/locale/LocaleInformation_es_AR.java,
        gnu/java/locale/LocaleInformation_es_BO.java,
        gnu/java/locale/LocaleInformation_es_CL.java,
        gnu/java/locale/LocaleInformation_es_CO.java,
        gnu/java/locale/LocaleInformation_es_CR.java,
        gnu/java/locale/LocaleInformation_es_DO.java,
        gnu/java/locale/LocaleInformation_es_EC.java,
        gnu/java/locale/LocaleInformation_es_ES.java,
        gnu/java/locale/LocaleInformation_es_GT.java,
        gnu/java/locale/LocaleInformation_es_HN.java,
        gnu/java/locale/LocaleInformation_es.java,
        gnu/java/locale/LocaleInformation_es_MX.java,
        gnu/java/locale/LocaleInformation_es_NI.java,
        gnu/java/locale/LocaleInformation_es_PA.java,
        gnu/java/locale/LocaleInformation_es_PE.java,
        gnu/java/locale/LocaleInformation_es_PR.java,
        gnu/java/locale/LocaleInformation_es_PY.java,
        gnu/java/locale/LocaleInformation_es_SV.java,
        gnu/java/locale/LocaleInformation_es_US.java,
        gnu/java/locale/LocaleInformation_es_UY.java,
        gnu/java/locale/LocaleInformation_es_VE.java,
        gnu/java/locale/LocaleInformation_et_EE.java,
        gnu/java/locale/LocaleInformation_et.java,
        gnu/java/locale/LocaleInformation_eu_ES.java,
        gnu/java/locale/LocaleInformation_eu.java,
        gnu/java/locale/LocaleInformation_fa_AF.java,
        gnu/java/locale/LocaleInformation_fa_IR.java,
        gnu/java/locale/LocaleInformation_fa.java,
        gnu/java/locale/LocaleInformation_fi_FI.java,
        gnu/java/locale/LocaleInformation_fi.java,
        gnu/java/locale/LocaleInformation_fo_FO.java,
        gnu/java/locale/LocaleInformation_fo.java,
        gnu/java/locale/LocaleInformation_fr_BE.java,
        gnu/java/locale/LocaleInformation_fr_CA.java,
        gnu/java/locale/LocaleInformation_fr_CH.java,
        gnu/java/locale/LocaleInformation_fr.java,
        gnu/java/locale/LocaleInformation_fr_LU.java,
        gnu/java/locale/LocaleInformation_ga_IE.java,
        gnu/java/locale/LocaleInformation_ga.java,
        gnu/java/locale/LocaleInformation_gez_ER.java,
        gnu/java/locale/LocaleInformation_gez_ET.java,
        gnu/java/locale/LocaleInformation_gez.java,
        gnu/java/locale/LocaleInformation_gl_ES.java,
        gnu/java/locale/LocaleInformation_gl.java,
        gnu/java/locale/LocaleInformation_gu_IN.java,
        gnu/java/locale/LocaleInformation_gu.java,
        gnu/java/locale/LocaleInformation_gv_GB.java,
        gnu/java/locale/LocaleInformation_gv.java,
        gnu/java/locale/LocaleInformation_haw.java,
        gnu/java/locale/LocaleInformation_haw_US.java,
        gnu/java/locale/LocaleInformation_he_IL.java,
        gnu/java/locale/LocaleInformation_he.java,
        gnu/java/locale/LocaleInformation_hi_IN.java,
        gnu/java/locale/LocaleInformation_hi.java,
        gnu/java/locale/LocaleInformation_hr.java,
        gnu/java/locale/LocaleInformation_hu_HU.java,
        gnu/java/locale/LocaleInformation_hu.java,
        gnu/java/locale/LocaleInformation_hy_AM.java,
        gnu/java/locale/LocaleInformation_hy_AM_REVISED.java,
        gnu/java/locale/LocaleInformation_hy.java,
        gnu/java/locale/LocaleInformation_id_ID.java,
        gnu/java/locale/LocaleInformation_id.java,
        gnu/java/locale/LocaleInformation_is_IS.java,
        gnu/java/locale/LocaleInformation_is.java,
        gnu/java/locale/LocaleInformation_it_CH.java,
        gnu/java/locale/LocaleInformation_it_IT.java,
        gnu/java/locale/LocaleInformation_it.java,
        gnu/java/locale/LocaleInformation_iu.java,
        gnu/java/locale/LocaleInformation_iw_IL.java,
        gnu/java/locale/LocaleInformation_ja.java,
        gnu/java/locale/LocaleInformation_ja_JP.java,
        gnu/java/locale/LocaleInformation.java,
        gnu/java/locale/LocaleInformation_ka.java,
        gnu/java/locale/LocaleInformation_kk.java,
        gnu/java/locale/LocaleInformation_kk_KZ.java,
        gnu/java/locale/LocaleInformation_kl_GL.java,
        gnu/java/locale/LocaleInformation_kl.java,
        gnu/java/locale/LocaleInformation_km.java,
        gnu/java/locale/LocaleInformation_km_KH.java,
        gnu/java/locale/LocaleInformation_kn_IN.java,
        gnu/java/locale/LocaleInformation_kn.java,
        gnu/java/locale/LocaleInformation_ko.java,
        gnu/java/locale/LocaleInformation_kok_IN.java,
        gnu/java/locale/LocaleInformation_kok.java,
        gnu/java/locale/LocaleInformation_ko_KR.java,
        gnu/java/locale/LocaleInformation_kw_GB.java,
        gnu/java/locale/LocaleInformation_kw.java,
        gnu/java/locale/LocaleInformation_ky.java,
        gnu/java/locale/LocaleInformation_lo.java,
        gnu/java/locale/LocaleInformation_lo_LA.java,
        gnu/java/locale/LocaleInformation_lt.java,
        gnu/java/locale/LocaleInformation_lt_LT.java,
        gnu/java/locale/LocaleInformation_lv.java,
        gnu/java/locale/LocaleInformation_lv_LV.java,
        gnu/java/locale/LocaleInformation_mk.java,
        gnu/java/locale/LocaleInformation_ml_IN.java,
        gnu/java/locale/LocaleInformation_ml.java,
        gnu/java/locale/LocaleInformation_mn.java,
        gnu/java/locale/LocaleInformation_mn_MN.java,
        gnu/java/locale/LocaleInformation_mr_IN.java,
        gnu/java/locale/LocaleInformation_mr.java,
        gnu/java/locale/LocaleInformation_ms_BN.java,
        gnu/java/locale/LocaleInformation_ms.java,
        gnu/java/locale/LocaleInformation_ms_MY.java,
        gnu/java/locale/LocaleInformation_mt.java,
        gnu/java/locale/LocaleInformation_mt_MT.java,
        gnu/java/locale/LocaleInformation_nb.java,
        gnu/java/locale/LocaleInformation_nb_NO.java,
        gnu/java/locale/LocaleInformation_nl_BE.java,
        gnu/java/locale/LocaleInformation_nl.java,
        gnu/java/locale/LocaleInformation_nl_NL.java,
        gnu/java/locale/LocaleInformation_nn.java,
        gnu/java/locale/LocaleInformation_nn_NO.java,
        gnu/java/locale/LocaleInformation_no_NO.java,
        gnu/java/locale/LocaleInformation_oc_FR.java,
        gnu/java/locale/LocaleInformation_om_ET.java,
        gnu/java/locale/LocaleInformation_om.java,
        gnu/java/locale/LocaleInformation_om_KE.java,
        gnu/java/locale/LocaleInformation_or_IN.java,
        gnu/java/locale/LocaleInformation_or.java,
        gnu/java/locale/LocaleInformation_pa_IN.java,
        gnu/java/locale/LocaleInformation_pa.java,
        gnu/java/locale/LocaleInformation_pl.java,
        gnu/java/locale/LocaleInformation_pl_PL.java,
        gnu/java/locale/LocaleInformation_ps_AF.java,
        gnu/java/locale/LocaleInformation_ps.java,
        gnu/java/locale/LocaleInformation_pt_BR.java,
        gnu/java/locale/LocaleInformation_pt.java,
        gnu/java/locale/LocaleInformation_pt_PT.java,
        gnu/java/locale/LocaleInformation_ro.java,
        gnu/java/locale/LocaleInformation_ro_RO.java,
        gnu/java/locale/LocaleInformation_ru.java,
        gnu/java/locale/LocaleInformation_ru_RU.java,
        gnu/java/locale/LocaleInformation_ru_UA.java,
        gnu/java/locale/LocaleInformation_sa_IN.java,
        gnu/java/locale/LocaleInformation_sa.java,
        gnu/java/locale/LocaleInformation_se_NO.java,
        gnu/java/locale/LocaleInformation_sid_ET.java,
        gnu/java/locale/LocaleInformation_sid.java,
        gnu/java/locale/LocaleInformation_sk.java,
        gnu/java/locale/LocaleInformation_sk_SK.java,
        gnu/java/locale/LocaleInformation_sl.java,
        gnu/java/locale/LocaleInformation_so_DJ.java,
        gnu/java/locale/LocaleInformation_so_ET.java,
        gnu/java/locale/LocaleInformation_so.java,
        gnu/java/locale/LocaleInformation_so_KE.java,
        gnu/java/locale/LocaleInformation_so_SO.java,
        gnu/java/locale/LocaleInformation_sq_AL.java,
        gnu/java/locale/LocaleInformation_sq.java,
        gnu/java/locale/LocaleInformation_sr.java,
        gnu/java/locale/LocaleInformation_sr_Latn.java,
        gnu/java/locale/LocaleInformation_sv_FI.java,
        gnu/java/locale/LocaleInformation_sv.java,
        gnu/java/locale/LocaleInformation_sv_SE.java,
        gnu/java/locale/LocaleInformation_sw.java,
        gnu/java/locale/LocaleInformation_sw_KE.java,
        gnu/java/locale/LocaleInformation_sw_TZ.java,
        gnu/java/locale/LocaleInformation_syr.java,
        gnu/java/locale/LocaleInformation_syr_SY.java,
        gnu/java/locale/LocaleInformation_ta_IN.java,
        gnu/java/locale/LocaleInformation_ta.java,
        gnu/java/locale/LocaleInformation_te_IN.java,
        gnu/java/locale/LocaleInformation_te.java,
        gnu/java/locale/LocaleInformation_tg_TJ.java,
        gnu/java/locale/LocaleInformation_th.java,
        gnu/java/locale/LocaleInformation_th_TH.java,
        gnu/java/locale/LocaleInformation_ti_ER.java,
        gnu/java/locale/LocaleInformation_ti_ET.java,
        gnu/java/locale/LocaleInformation_tig_ER.java,
        gnu/java/locale/LocaleInformation_tig.java,
        gnu/java/locale/LocaleInformation_ti.java,
        gnu/java/locale/LocaleInformation_tr.java,
        gnu/java/locale/LocaleInformation_tr_TR.java,
        gnu/java/locale/LocaleInformation_tt.java,
        gnu/java/locale/LocaleInformation_tt_RU.java,
        gnu/java/locale/LocaleInformation_uk.java,
        gnu/java/locale/LocaleInformation_uk_UA.java,
        gnu/java/locale/LocaleInformation_ur.java,
        gnu/java/locale/LocaleInformation_uz_AF.java,
        gnu/java/locale/LocaleInformation_uz.java,
        gnu/java/locale/LocaleInformation_vi.java,
        gnu/java/locale/LocaleInformation_wal_ET.java,
        gnu/java/locale/LocaleInformation_wal.java,
        gnu/java/locale/LocaleInformation_zh_CN_Hans.java,
        gnu/java/locale/LocaleInformation_zh_Hant.java,
        gnu/java/locale/LocaleInformation_zh_HK_Hant.java,
        gnu/java/locale/LocaleInformation_zh.java,
        gnu/java/locale/LocaleInformation_zh_MO_Hant.java,
        gnu/java/locale/LocaleInformation_zh_SG_Hans.java,
        gnu/java/locale/LocaleInformation_zh_TW_Hant.java:
        Removed.

2005-05-21  Dalibor Topic  <robilad@kaffe.org>

	* replace/Makefile.am:
	(libreplace_ls_LIBADD) Add LTLIBINTL to fix a build failure
	on darwin reported by the tinderbox.

2005-05-21  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c:
	Fix build fail for '--with-threads=unix-jthreads'.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	libraries/clib/classpath/Makefile.am,
	libraries/clib/fdlibm/Makefile.am,
	replace/Makefile.am:
	(AM_LDFLAGS) Add -module.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac (DLOPEN_JAVA_LIBS): Added libclasspath and 
	libfdlibm.

	* kaffe/kaffe/Makefile.am (kaffe_bin_LDADD): Added 
	OPT_DLOPEN_JAVA_LIBS. Removed LIBLTDL.

	* libraries/clib/fdlibm/Makefile.am: Build as a shared library.
	(AM_LDFLAGS) Added options for shared library build.

2005-05-19  Davanum Srinivas <dims@yahoo.com>

	* libraries/clib/native/ZipFile.c
	(java_util_zip_ZipFile_getZipFileSize0) Fixed prototype.

2005-05-19  Supreet Sethi  <supreet@linux-delhi.org>

	* test/regression/compiler/Makefile.am: (InnerTest1_A.class 
	InnerTest1_B.class) Added missing inner classes.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/Math.c: Removed.

	* libraries/clib/native/java_lang_Math.c: Added.

	* libraries/javalib/java/lang/Math.java: Replaced by implementation
	from GNU Classpath.

	* libraries/clib/native/Makefile.am (LANG_SOURCES) Updated.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

        Resynced with GNU Classpath.

	2005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/Window.java (createBufferStrategy): Remove unnecessary
        try-catch blocks.
        * java/awt/Canvas.java (createBufferStrategy): Likewise.

        * gnu/java/security/provider/DSASignature.java: Import updates
        from GNU Crypto.

2005-05-19  Dalibor Topic  <robilad@kaffe.org>

	* Makefile.am (EXTRA_DIST): removed libtool patches.

	* FAQ/FAQ.automake: Updated.

	* developers/autogen.sh: Don't apply libtool patches. Updated to
	libtool 1.5.18.

	* libltdl/Makefile.am,
	libltdl/Makefile.in,
	libltdl/acinclude.m4,
	libltdl/config.guess,
	libltdl/config.sub,
	libltdl/install-sh,
	libltdl/ltmain.sh,
	m4/libtool.m4,
	scripts/ltmain.sh: Updated from libtool 1.5.18.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* java/awt/Canvas.java, java/awt/Window.java:
	Fix not compiling code. :)

	Resynced with GNU Classpath.

	005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GtkVolatileImage.java: Fix imports.

	2005-05-18  Olga Rodimina  <rodimina@redhat.com>

        * javax/swing/MenuSelectionManager.java
        (processMouseEvent): Clear selected path if the mouse was released
        over non-menu component.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (Constructor): Removed initialization of mouseInputListener.
        (installListeners): Do not add mouseInputListener to this popup
        menu. Instead it will be added to the root container of the popup
        menu.
        (uninstallListeners): Remove code that removed mouseInputListener
        from popupMenu.
        (popupMenuWillBecomeInvisible): If this popup menu is the last
        menu on the screen, then stop interrupting mouse events through
        the glass pane.
        (popupMenuWillBecomeVisible): Add mouseInputListener to glass pane
        if it was not added before and make glass pane visible in order to
        interrupt mouse evevents.
        (MouseInputHandler): Close menu hierarchy if the mouse was clicked
        on non menu component.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JEditorPane.java
        (isManagingFocus): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JSeparator.java
        (isFocusTraversable): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (isFocusTraversable): According to Suns API documentation this
        method is not implemented in this class. Also the
        implementation did not add any value. Removed.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/ImageIcon.java
        (AccessibleImageIcon): Added inner class for Accessibility support
        in ImageIcon.
        (getAccessibleContext): Added method for accessibility support
        in ImageIcon.

	2005-05-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * gnu/java/awt/peer/gtk/GdkGraphicsConfiguration.java
        (createCompatibleVolatileImage(int,int)): Implement.
        (createCompatibleVolatileImage(int,int,ImageCapabilities)):
        Likewise.
        * gnu/java/awt/peer/gtk/GtkComponentPeer.java (backBuffer, caps):
        New fields.
        (createVolatileImage): Implement.
        (createBuffers): Likewise.
        (getBackBuffer): Likewise.
        (flip): Likewise.
        (destroyBuffers): Likewise.
        * gnu/java/awt/peer/gtk/GtkVolatileImage.java: New file.
        * java/awt/Canvas.java (CanvasBltBufferStrategy): New class.
        (CanvasFlipBufferStrategy): Likewise.
        (createBufferStrategy(int)): New method.
        (createBufferStrategy(int,BufferCapabilities)): Likewise.
        * java/awt/Component.java (BltBufferStrategy): Implement and
        document class.
        (FlipBufferStrategy): Likewise.
        * java/awt/Window.java (WindowBltBufferStrategy): New class.
        (WindowFlipBufferStrategy): Likewise.
        (createBufferStrategy(int)): New method.
        (createBufferStrategy(int,BufferCapabilities)): Likewise.
        (getBufferStrategy): Likewise.
        * java/awt/BufferCapabilities.java (BufferCapabilities): Rename
        front to frontCaps and back to backCaps.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTable.java:
        (BooleanCellRenderer): Added default renderer for Boolean cell values.
        (DateCellRenderer): Added default renderer for Date cell values.
        (DoubleCellRenderer): Added default renderer for Double cell values.
        (FloatCellRenderer): Added default renderer for Float cell values.
        (NumberCellRenderer): Added default renderer for Number cell values.
        (IconCellRenderer): Added default renderer for Icon cell values.
        (createDefaultRenderers): Include new default renderers.
        (distributeSpill): Fix algorithm to do a nice layout, if still not
        beeing 100% perfect.
        (doLayout): Correctly calculate the spill variable.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * java/awt/Window.java
        (isShowing): A Window can be showing even if its parent is not
        showing.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * java/util/prefs/AbstractPreferences.java
        (flushNode): Changed toArray() call to toArray(new String[0]) call
        to avoid casting errors.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Sven de Marothy <sven@physto.se>

        * java/text/SimpleDateFormat.java
        (computeOffset): Allow timezone to be first in the parsed String.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * gnu/java/net/protocol/http/Headers.java (parse): Include final
        character of line.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/JTextComponent.java
        (constructor): Make text components editable by default.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/UIManager.java
        (toString): Added method.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/SwingUtilities.java
        (getUIInputMap): Added method.
        (getUIActionMap): Added method.

	2005-05-18  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (constructor): Make component requestFocusEnabled by default.
        (requestFocusInWindow): Added method.

	2005-05-18  Sven de Marothy <sven@physto.se>

        * javax/swing/table/DefaultTableCellRenderer.java
        (getTableCellRendererComponent): Allow table parameter to be null.

	2005-05-17  Jan Roehrich  <jan@roehrich.info>

        * javax/swing/JTree.java
        (getExpandedDescendants): Added method.

	2005-05-17  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTree.java
        (TreeModelHandler): Added inner class.
        (TreeSelectionRedirector): Added inner class.
        (EmptySelectionModel): Added inner class.
        (DynamicUtilTreeNode.getChildAt): Added method.
        (constructor(model)): Sets up a model and a selection model.
        (setModel): Set up the JTree treeModelListener on newly set
        models.
        (createModelListener): Added method.
        (getDefaultTreeModel): Added method.
        (convertValueToText): Added method.
        (paramString): Added method.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-18  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/DynAny.java,
        org/omg/CORBA/DynArray.java,
        org/omg/CORBA/DynSequence.java,
        org/omg/CORBA/DynEnum.java,
        org/omg/CORBA/DynFixed.java,
        org/omg/CORBA/DynStruct.java,
        org/omg/CORBA/DynUnion.java: New interfaces.
        * org/omg/CORBA/NameValuePair.java,
        org/omg/CORBA/NameValuePairHelper.java,
        gnu/CORBA/DynAn/NameValuePairHolder.java:
        New classes.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/CurrentOperations.java,
        org/omg/CORBA/Current.java,
        org/omg/CORBA/PolicyError.java,
        org/omg/CORBA/NO_RESOURCES.java: New files.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/ValueMember: Inherit from Serializable and IDLEntity.
        * org/omg/CORBA/IDLType: Inherit from org.omg.CORBA.Object.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/portable/OutputStream.java
        (read): Declaring and commenting the IOException.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CosNaming/BindingIterator.java: Inherit from
        Serializable, IDLEntity and org.omg.CORBA.Object.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Audrius Meskauskas, <AudriusA@Bioinformatics.org>

        * org/omg/CORBA/PRIVATE_MEMBER.java,
        org/omg/CORBA/PUBLIC_MEMBER.java
        (value): Changing the type from int to short.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Ziga Mahkovec  <ziga.mahkovec@klika.si>

        PR libgcj/20504
        gnu/regexp/RE.java: Add support for quoting constructs.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * java/net/URI.java (unquote): Handle lower-case letters as well.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-16  Tom Tromey  <tromey@redhat.com>

        * java/nio/charset/Charset.java (encode, decode): Synchronize on
        'this', not the class.

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.c (printShortVersion):
	Hey, it's 2005 already!

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.h:
	(JAVA_VERSION_STRING) Report a 1.4 in there for Berkely DB.

	Reported by:  Alejandro Mery  <amery@geeks.cl>

2005-05-18  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in:
	Move rmic to tools.jar.

	* kaffe/scripts/rmic.in: Updated accordingly.

	* libraries/javalib/gnu/classpath/tools/rmi/rmic/Compiler.java
	(classPrefix) Implement in generic fashion.

2005-05-18  Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/classMethod.c:
	(getInheritedMethodIndex) Check whether method 
	is accessible.

2005-05-18  Julio M. Merino Vidal <jmmv84@gmail.com>

	* libraries/javalib/gnu/classpath/tools/rmi/rmic/Compiler.java:
	(classPrefix) Fixed to match package name.

2005-05-17  Davanum Srinivas <dims@yahoo.com>

	* kaffe/kaffevm/thread.c (setPriorityThread):
	Fixed prototype to fix compilation problem on Cygwin.

	* kaffe/kaffevm/jit/icode.c (pusharg_int_const):
	Fixed prototype to fix compilation problem on Cygwin.

2005-05-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMSystem.c,
	libraries/javalib/java/lang/VMSystem.java,
	test/internal/java/lang/VMSystem.java:
	New files. Taken from GNU Classpath.

	* include/Makefile.am (NOINSTALL_DERIVED_HDRS): Removed
	java_lang_System.h. (NOINSTALL_JNI_DERIVED_HDRS) Added
	java_lang_VMSystem.h.

	* kaffe/kaffevm/baseClasses.c (RuntimeClass): New field.
	(RUNTIMECLASS) New constant. 
	(initBaseClasses) Load Runtime class.

	* kaffe/kaffevm/baseClasses.h (RuntimeClass): export field.

	* kaffe/kaffevm/thread.c (runfinalizer): Call exitJavaCleanupHook
	in Runtime class.

	* libraries/clib/native/Class.c,
	libraries/clib/native/Field.c: Removed unnecessary include of
	java_lang_System.h.

	* libraries/clib/native/Makefile.am (LANG_SRCS): Added 
	java_lang_VMSystem.c.

	* libraries/clib/native/System.c (java_lang_System_getenv0,
	java_lang_System_currentTimeMillis, Java_java_lang_System_setIn0,
	Java_java_lang_System_setOut0, Java_java_lang_System_setErr0):
	Removed.
	(java_lang_System_identityHashCode, java_lang_System_arraycopy0)
	Renamed into java_lang_VMSystem_identityHashCode and
	java_lang_VMSystem_arraycopy0.

	* libraries/javalib/gnu/classpath/VMStackWalker.java:
	(MINIMAL_NUMBER_OF_FRAMES, CALLERS_CALLER_FRAME): New constants.
	(getCallingClass, getCallingClassLoader): Use MINIMAL_NUMBER_OF_FRAMES
	and CALLERS_CALLER_FRAME to return the class or the classloader of
	the caller's caller.

	* libraries/javalib/java/lang/Runtime.java (securityManager): Removed.
	(exitJavaCleanupHook): New method.

	* libraries/javalib/java/lang/System.java: Switched over to implementation
	from GNU Classpath.

	* test/internal/Makefile.am: Added java/lang/VMSystem.java into the build.

	* test/internal/java/lang/System.java: Switched over to implementation
	from GNU Classpath.

	* test/regression/Reflect.java: Adapted expected output.

2005-05-16  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-01-07  Archie Cobbs  <archie@dellroad.org>

        * java/lang/ClassLoader.java (getParent(), getSystemClassLoader()):
        Likewise.
        * java/lang/Package.java (getPackages()): Likewise.
        * java/lang/SecurityManager.java (getClassContext()): Likewise.
        * java/util/ResourceBundle.java (getBundle()): Likewise.
        * vm/reference/java/lang/VMSecurityManager.java: Removed.
	
2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-15  Mark Wielaard  <mark@klomp.org>

        * javax/swing/JComponent.java: Removed invalid char from comment.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-15  Audrius Meskauskas, Lithuania  <AudriusA@Bioinformatics.org>

        * gnu/CORBA/Version.java,
        gnu/CORBA/IOR.java,
        gnu/CORBA/IOR_contructed_object.java,
        gnu/CORBA/Restricted_ORB.java,
        gnu/CORBA/Functional_ORB.java,
        gnu/CORBA/gnuAny.java,
        gnu/CORBA/gnuContext.java,
        gnu/CORBA/gnuContextList.java,
        gnu/CORBA/gnuEnvironment.java,
        gnu/CORBA/gnuExceptionList.java,
        gnu/CORBA/gnuRequest.java,
        gnu/CORBA/gnuNVList.java,
        gnu/CORBA/gnuNamedValue.java,
        gnu/CORBA/Simple_delegate.java,
        gnu/CORBA/BigDecimalHelper.java,
        gnu/CORBA/Unexpected.java,
        gnu/CORBA/OctetHolder.java,
        gnu/CORBA/TypeCodeHelper.java,
        gnu/CORBA/corbaArrayList.java,
        gnu/CORBA/WCharHolder.java,
        gnu/CORBA/WStringHolder.java,
        gnu/CORBA/IOR_Delegate.java,
        gnu/CORBA/fixedTypeCode.java,
        gnu/CORBA/generalTypeCode.java,
        gnu/CORBA/holderFactory.java,
        gnu/CORBA/recordTypeCode.java,
        gnu/CORBA/recursiveTypeCode.java,
        gnu/CORBA/stringTypeCode.java,
        gnu/CORBA/Connected_objects.java,
        gnu/CORBA/ByteArrayComparator.java,
        gnu/CORBA/binaryReply.java,
        gnu/CORBA/typeNamer.java,
        gnu/CORBA/streamRequest.java,
        gnu/CORBA/stubFinder.java,
        gnu/CORBA/bufferedResponseHandler.java,
        gnu/CORBA/ExceptionCreator.java,
        gnu/CORBA/ObjectCreator.java,
        gnu/CORBA/aliasTypeCode.java: New files.
        * org/omg/CORBA/TestContextList.java,
        gnu/CORBA/CDR/testBinaryIO.java: New tests.
        * gnu/CORBA/NamingService/snConverter.java,
        gnu/CORBA/NamingService/Ext.java,
        gnu/CORBA/NamingService/cmpNameComponent.java,
        gnu/CORBA/NamingService/TransientContext.java,
        gnu/CORBA/NamingService/NamingMap.java,
        gnu/CORBA/NamingService/Binding_iterator_impl.java,
        gnu/CORBA/NamingService/NamingServiceTransient.java,
        gnu/CORBA/NamingService/NameValidator.java: New files.
        * gnu/CORBA/CDR/aligningInputStream.java,
        gnu/CORBA/CDR/aligningOutputStream.java,
        gnu/CORBA/CDR/cdrOutput.java,
        gnu/CORBA/CDR/cdrInput.java,
        gnu/CORBA/CDR/cdrBufOutput.java,
        gnu/CORBA/CDR/encapsulatedOutput.java,
        gnu/CORBA/CDR/cdrBufInput.java,
        gnu/CORBA/CDR/testBinaryIO.java: New files.
        * org/omg/CORBA/StringHolder.java,
        * org/omg/CORBA/StringSeqHelper.java,
        * org/omg/CORBA/StringSeqHolder.java: Read and write string,
        not wstring and use stringTypeCode.
        * org/omg/CORBA/Any.java: Adding serialVersionUID.
        * org/omg/CORBA/FixedHolder: Use fixedTypeCode.
        * org/omg/CORBA/UNKNOWN.java: Making constructors public.
        * org/omg/CORBA/UserException.java: Inherit
        from org.omg.CORBA.portable.IDLEntity.
        * org/omg/CORBA/ORB.java,
        org/omg/CORBA/Object.java: Replacing empty class
        declarations with implementation.
        * gnu/CORBA/primitiveTypeCode.java: Exception fixes.
        * gnu/CORBA/primitiveArrayTypeCode.java: Adding extra
        parameter in constructor.
        * gnu/CORBA/GIOP/CancelHeader.java,
        gnu/CORBA/GIOP/ErrorMessage.java,
        gnu/CORBA/GIOP/MessageHeader.java,
        gnu/CORBA/GIOP/ReplyHeader.java,
        gnu/CORBA/GIOP/RequestHeader.java,
        gnu/CORBA/GIOP/ServiceContext.java,
        gnu/CORBA/GIOP/cxCodeSet.java,
        gnu/CORBA/GIOP/CharSets_OSF.java,
        gnu/CORBA/GIOP/v1_0/CancelHeader.java,
        gnu/CORBA/GIOP/v1_0/RequestHeader.java,
        gnu/CORBA/GIOP/v1_0/ReplyHeader.java,
        gnu/CORBA/GIOP/v1_2/RequestHeader.java,
        gnu/CORBA/GIOP/v1_2/ReplyHeader.java: New files.
        org/omg/CosNaming/_NamingContextStub.java,
        org/omg/CosNaming/_NamingContextImplBase.java,
        org/omg/CosNaming/BindingHelper.java,
        org/omg/CosNaming/BindingListHelper.java,
        org/omg/CosNaming/NameComponentHelper.java,
        org/omg/CosNaming/NameHelper.java,
        org/omg/CosNaming/BindingTypeHelper.java,
        org/omg/CosNaming/NamingContextHelper.java,
        org/omg/CosNaming/BindingIteratorHelper.java,
        org/omg/CosNaming/_NamingContextExtStub.java,
        org/omg/CosNaming/NamingContextExt.java,
        org/omg/CosNaming/NamingContextExtHelper.java,
        org/omg/CosNaming/NamingContextExtHolder.java,
        org/omg/CosNaming/NamingContextExtOperations.java,
        org/omg/CosNaming/_NamingContextExtImplBase.java,
        org/omg/CosNaming/NamingContextOperations.java,
        org/omg/CosNaming/NamingContext.java,
        org/omg/CosNaming/NameComponent.java,
        org/omg/CosNaming/BindingIterator.java,
        org/omg/CosNaming/_BindingIteratorStub.java,
        org/omg/CosNaming/Binding.java,
        org/omg/CosNaming/BindingType.java,
        org/omg/CosNaming/BindingIteratorHolder.java,
        org/omg/CosNaming/BindingListHolder.java,
        org/omg/CosNaming/BindingHolder.java,
        org/omg/CosNaming/BindingTypeHolder.java,
        org/omg/CosNaming/NameComponentHolder.java,
        org/omg/CosNaming/NameHolder.java,
        org/omg/CosNaming/NamingContextHolder.java,
        org/omg/CosNaming/_BindingIteratorImplBase.java,
        org/omg/CosNaming/package.html,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddress.java,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddressHolder.java,
        org/omg/CosNaming/NamingContextExtPackage/package.html,
        org/omg/CosNaming/NamingContextExtPackage/AddressHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/URLStringHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/StringNameHelper.java,
        org/omg/CosNaming/NamingContextExtPackage/InvalidAddressHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotEmpty.java,
        org/omg/CosNaming/NamingContextPackage/NotFound.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReason.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReasonHolder.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundHolder.java,
        org/omg/CosNaming/NamingContextPackage/NotEmptyHolder.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBoundHolder.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceedHolder.java,
        org/omg/CosNaming/NamingContextPackage/InvalidNameHolder.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceed.java,
        org/omg/CosNaming/NamingContextPackage/InvalidName.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBound.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotEmptyHelper.java,
        org/omg/CosNaming/NamingContextPackage/AlreadyBoundHelper.java,
        org/omg/CosNaming/NamingContextPackage/InvalidNameHelper.java,
        org/omg/CosNaming/NamingContextPackage/NotFoundReasonHelper.java,
        org/omg/CosNaming/NamingContextPackage/CannotProceedHelper.java,
        org/omg/CosNaming/NamingContextPackage/package.html: New files.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-14  Chris Burdess  <dog@gnu.org>

        * gnu/xml/dom/DomDocumentBuilder.java,
          gnu/xml/dom/transform/XSLUriResolver.java: Handle unqualified
        relative URLs.
        * gnu/xml/dom/ls/SAXEventSink.java: Ignore XML entities in start/
        end entity callbacks.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (createMessageArea): Enabled input components to be used
        in OptionPanes.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JDialog.java
        (setDefaultCloseOperation): Don't throw an IllegalArgumentException
        but instead accept illegal values as DO_NOTHING_ON_CLOSE.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/ScrollPaneLayout.java
        (getViewportBorderBounds): Documented methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicProgressBarUI.java
        (getPreferredSize): Changed implementation so that getGraphics()
        is not used (this triggers a NPE).

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/RepaintManager.java:
        (getVolatileOffscreenBuffer): Added methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/DefaultButtonModel.java:
        Removed superfluous semicolon.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractButton.java
        (ButtonChangeListener): Added this inner class.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-13  Roman Kennke  <roman@kennke.org>

        * javax/swing/JComponent.java
        (requestFocus): Added method.
        (requestFocus(boolean)): Added method.
        (requestFocusInWindow): Added method.
        (addNotify): Added method.
        (removeNotify): Added method.
        (contains): Added method.
        (disable): Added method.
        (enable): Added method.
        (getGraphics): Added method.
        (getX): Added method.
        (getY): Added method.
        (getHeight): Added method.
        (getWidth): Added method.
        (getPropertyChangeListener): Added method.
        (print): Added method.
        (printAll): Added method.
        (printComponent): Added method.
        (printChildren): Added method.
        (printBorder): Added method.
        (processMouseMotionEvent): Added method.
        (reshape): Added method.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/DefaultMenuLayout.java:
        Added this class.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (installUI): Use the new DefaultMenuLayout instead of GridBagLayout.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java
        (constructor): Implemented.
        (isCellEditable): Implemented.
        (shouldSelectCell): Implemented.
        (stopCellEditing): Implemented.
        (cancelCellEditing): Implemented.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java:
        Documented this class.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/AbstractCellEditor.java:
        Reformatted this file to our coding style.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicOptionPaneUI.java
        (createSeparator): Implemented. Returns a vertical separator with
        a height of 17 pixels as recommended in the book Java Look & Feel
        Design Guidelines.
        (installComponents): Added an empty border around the dialog.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/View.java
        (insertUpdate) Removed a debug println statement.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicTextUI.java
        (RootView.insertUpdate): Added. Forwards the update to the real
        root view.
        (RootView.removeUpdate): Added. Forwards the update to the real
        root view.
        (RootView.changedUpdate): Added. Forwards the update to the real
        root view.
        (DocumentHandler): Added. Receives DocumentEvents and forwards
        them to the corresponding View methods.
        (installDocumentListeners): Installs Document listeners on the
        text component's document model.
        * javax/swing/plaf/text/FieldView.java
        (adjustAllocation): Added. Adjusts the view area so that the
        input line is centered vertically and correctly aligned horizontally.
        (modelToView): Call adjustAllocation before call to
        super.modelToView(..).
        (paint): Call adjustAllocation before call to super.paint(..).
        (insertUpdate): Added. Calls adjustAllocation before call to
        super.insertUpdate(..).
        (removeUpdate): Added. Calls adjustAllocation before call to
        super.removeUpdate(..).
        (changedUpdate): Added. Calls adjustAllocation before call to
        super.changedUpdate(..).
        * javax/swing/text/JTextComponent.java:
        Removed RepaintListener. This is no longer needed and should
        instead be handled by the text component's View.
        * javax/swing/plaf/text/View.java
        (paint): If parent is null, we still need to make sure the
        text component is updated through calling revalidate().
        (insertUpdate): Added. Receive notification about changes in the
        text document model.
        (removeUpdate): Added. Receive notification about changes in the
        text document model.
        (changedUpdate): Added. Receive notification about changes in the
        text document model.
        (updateChildren): Added. Updates the list of child Views after
        text has been modified.
        (forwardUpdate): Added. Forwards the update notification to the
        child Views.
        (forwardUpdateToView): Added. Actually performs the forwarding of
        update events.
        (updateLayout): Added. Makes sure that the display is in sync with
        the model.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-11  Roman Kennke  <roman@kennke.org>

        * javax/swing/JTextField.java
        (createDefaultModel): Create and return a subclass of PlainDocument
        to allow newlines to be swallowed.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-10  David Daney  <ddaney@avtrex.com>

        * java/util/BitSet.java (get(int, int)): Fix breakage when
        requested set doesn't start on a multiple of 64.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-10  Jeroen Frijters  <jeroen@frijters.net>

        * java/lang/ClassLoader.java
        (defaultGetSystemClassLoader): Refactored in three new methods.
        (createExtClassLoader, createSystemClassLoader,
        createAuxiliarySystemClassLoader): New methods.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-06  Robert Schuster  <thebohemian@gmx.net>

        * java/awt/Frame.java:
        (setUndecorated): Toggled boolean expression.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-06  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/PlainView.java
        (getPreferredSpan): Corrected the calculation of the span of
        the view.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Mark Wielaard  <mark@klomp.org>

        * java/awt/BufferCapabilities.java (BufferCapabilities): Make
        documentation of arguments match code.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/image/BufferStrategy.java: Document.

        * java/awt/BufferCapabilities.java: Document.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Tom Tromey  <tromey@redhat.com>

        * java/nio/channels/FileLock.java (toString): Entirely avoid
        String "+".

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Andrew Overholt  <overholt@redhat.com>

        * java/nio/channels/FileLock.java (toString): Re-implement using
        StringBuffer.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/ImageCapabilities.java: Document.

        * java/awt/image/VolatileImage.java: Unindent copyright header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java
        (LeafElement): Made start and end package private fields for
        effective reindexing.
        * javax/swing/text/PlainDocument.java
        (constructor): The field rootElement is always BranchElement,
        so we handle it as such.
        (removeUpdate): Rewritten reindexing for removeUpdate so that
        the actual removal is taken into account.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-04  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/PlainView.java
        (drawUnselectedText): Call Utilities.drawTabbedText() with correct
        offset parameter.
        * javax/swing/text/Utilities.java
        (drawTabbedText): Initilialize local variable pos correctly.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/awt/image/VolatileImage.java: Document.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Andrew Overholt  <overholt@redhat.com>

        * gnu/java/nio/channels/FileChannelImpl.java: Return null if lock
        could not be acquired.
        * java/nio/channels/FileLock.java (toString): Re-implement to be
        in line with other implementations.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * jni/gtk-peer/gnu_java_awt_peer_gtk_GtkToolkit.c
        (init_glib_threads): Check if threading system is already
        initialized.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Removed debugging output stuff, which I accidentally left in.

	2005-05-03  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Implemented a real GapContent. Only the public methods have
        been implemented so far and still no UndoableEdit support.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-02  David Gilbert  <david.gilbert@object-refinery.com>

        * java/text/DecimalFormat.java
        (hashCode): Reimplemented and added API docs.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalBorders.java:
        Added inner class ScrollPaneBorder.
        * javax/swing/plaf/metal/MetalLookAndFeel.java
        (initComponentDefaults): Added default for "ScrollPane.border"
        to use the new ScrollPaneBorder.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-05-01  Mark Wielaard  <mark@klomp.org>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c:
        (window_delete_cb): Don't use C++ style comments.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am (NOINSTALL_JNI_DERIVED_HDRS):
 	Added gnu_classpath_VMStackWalker.h.

	* libraries/clib/native/gnu_classpath_VMStackWalker.c:
	New file.

	Resynced with GNU Classpath.

	2005-04-30  Mark Wielaard  <mark@klomp.org>

        * java/io/ObjectInputStream.java
        (currentLoader): Don't create SecurityManager, directly call
        VMObjectInputStream.currentClassLoader().
        (resolveProxyClass): Use currentLoader().
        * vm/reference/java/io/VMObjectInputStream.java
        (currentClassLoader(SecurityManager)): Removed.
        (currentClassLoader): New method.
        * native/jni/java-io/java_io_VMObjectInputStream.c
        (Java_java_io_VMObjectInputStream_currentClassLoader): Removed.

	2005-01-29  Steven Augart  <augart@watson.ibm.com>

        * vm/reference/gnu/classpath/VMStackWalker.java: Doc fix.

	2005-01-07  Archie Cobbs  <archie@dellroad.org>

        * vm/reference/gnu/classpath/VMStackWalker.java: New class.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Mark Wielaard  <mark@klomp.org>

        * gnu/java/awt/peer/gtk/GtkToolkit.java (prepareImage): Only prepare
        GtkImages.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Robert Schuster  <thebohemian@gmx.net>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c:
        (window_delete_cb): Made the function return TRUE.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-30  Robert Schuster  <thebohemian@gmx.net>

        * native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c: Fixed
        copyright header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Audrius Meskauskas  <AudriusA@bluewin.ch>

        * org/omg/CORBA/WStringSeqHelper.java,
        org/omg/CORBA/AnySeqHelper.java,
        org/omg/CORBA/BooleanSeqHelper.java,
        org/omg/CORBA/CharSeqHelper.java,
        org/omg/CORBA/DoubleSeqHelper.java,
        org/omg/CORBA/FloatSeqHelper.java,
        org/omg/CORBA/LongLongSeqHelper.java,
        org/omg/CORBA/LongSeqHelper.java,
        org/omg/CORBA/OctetSeqHelper.java,
        org/omg/CORBA/ShortSeqHelper.java,
        org/omg/CORBA/StringSeqHelper.java,
        org/omg/CORBA/ULongLongSeqHelper.java,
        org/omg/CORBA/ULongSeqHelper.java,
        org/omg/CORBA/UShortSeqHelper.java,
        org/omg/CORBA/WCharSeqHelper.java:
        Removing redundant object instantiation.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Sven de Marothy  <sven@physto.se>
                    Mark Wielaard  <mark@klomp.org>

        * java/nio/charset/Charset.java (defaultCharset): Use
        SystemProperties.
        (provider): Check gnu.classpath.nio.charset.provider.iconv system
        property and return the IconvProvider when set.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/nio/charset/Charset.java
        (defaultCharset): Reformatted.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * gnu/java/net/protocol/http/HTTPConnection.java:
        (userAgent): Initialize from system properties.
        (initUserAgent): Removed.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/lang/ClassLoader.java:
        Fixed formatting.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-29  Michael Koch  <konqueror@gmx.de>

        * java/net/InetAddress.java
        (aton): Fixed javadoc.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Robert Schuster  <thebohemian@gmx.net>

        * java/beans/FeatureDescriptor.java:
        (getShortDescription): Implemented fallback mechanism and fixed
        documentation (fixes bug #12637).
        (getDisplayName): Dito.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Robert Schuster  <thebohemian@gmx.net>

        * java/beans/Introspector.java: Fixed bug #12624, BeanDescriptors
        will now be set correctly.
        (flushCaches): Now flushes all cached intermediate data.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * javax/swing/JTextArea.java
        (replaceRange): Removed error throwing.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * java/nio/charset/Charset.java
        (providers2): Renamed from 'providers'.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-28  Michael Koch  <konqueror@gmx.de>

        * java/security/AccessControlContext.java:
        Reformatted.

	2005-04-28  Andreas Tobler  <a.tobler@schweiz.ch>

        * java/security/Security.java (Security): Silence the warning about no
        providers found in the no debug case.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI
        (getThumbBounds): Do not make thumb smaller than
        minimumThumbSize.
        * javax/swing/plaf/metal/MetalLookAndFeel
        (initComponentDefaults): Added color defaults for ScrollBar.
        * javax/swing/plaf/metal/MetalScrollBarUI
        (paintThumb): Added.
        (getMinimumThumbSize): Added.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalLookAndFeel
        (initComponentDefaults): Added some default colors.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Thomas Fitzsimmons  <fitzsim@redhat.com>

        * java/net/URL.java: Remove org.metastatic.jessie from default
        protocol search path.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (configureScrollBarColors: Changed key 'ScrollBar.thumbLightShadow'
        to 'ScrollBar.thumbShadow'. The formes does not exist.
        (paintThumb): Use BasicGraphicsUtils for painting the thumb.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Chris Burdess  <dog@gnu.org>

        * java/net/protocol/http/HTTPURLConnection.java (connect): Accept
        absolute and relative paths in Location header.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-27  Roman Kennke  <roman@kennke.org>

        * java/awt/MediaTracker.java: Added 2005 to copyright statement.
        * javax/swing/BoxLayout.java: Likewise.
        * javax/swing/UIManager.java: Likewise.
        * javax/swing/plaf/basic/BasicButtonListener.java: Likewise.
        * javax/swing/plaf/basic/BasicGraphicsUtils.java: Likewise.
        * javax/swing/plaf/basic/BasicLookAndFeel.java: Likewise.
        * javax/swing/plaf/basic/BasicMenuItemUI.java: Likewise.
        * javax/swing/plaf/basic/BasicScrollPaneUI.java: Likewise.
        * javax/swing/plaf/metal/MetalLookAndFeel.java: Likewise.
        * javax/swing/text/Document.java: Likewise.
        * javax/swing/text/GapContent.java: Likewise.
        * javax/swing/text/SimpleAttributeSet.java: Likewise.
        * javax/swing/tree/DefaultTreeSelectionModel.java: Likewise.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Luca Barbieri  <luca.barbieri@gmail.com>

        * gnu/java/nio/channels/FileChannelImpl.java (tryLock): Pass
        'false' to native lock().
        (lock): Pass 'true' to native lock().

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Tom Tromey  <tromey@redhat.com>

        * gnu/java/nio/charset/iconv/IconvCharset.java (name):
        Removed unused field.
        (IconvCharset): Updated.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Tom Tromey  <tromey@redhat.com>

        * javax/swing/text/html/parser/ParserDelegator.java (callBack,
        gnu): Now package-private.
        * javax/swing/text/html/parser/DocumentParser.java (parser,
        callBack, gnu): Now package-private.
        * javax/swing/text/StringContent.java (content, setOffset,
        checkLocation): Now package-private.
        * javax/swing/text/JTextComponent.java (doc): Now
        package-private.
        * javax/swing/plaf/basic/BasicToolBarUI.java (owner,
        lastGoodOrientation, origParent, borders, cachedBounds,
        cachedOrientation, DragWindow): Now package-private.
        * javax/swing/plaf/basic/BasicTabbedPaneUI.java (incrButton,
        decrButton, viewport, panel, currentScrollLocation, layoutManager,
        tabAreaRect, contentRect, createIncreaseButton,
        createDecreaseButton, findPointForIndex): Now package-private.
        * javax/swing/plaf/basic/BasicSplitPaneDivider.java
        (currentDividerLocation, moveDividerTo): Now package-private.
        * javax/swing/plaf/basic/BasicSliderUI.java (findClosestTick): Now
        package-private.
        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (calculatePreferredSize, valueForYPosition, valueForXPosition):
        Now package-private.
        * javax/swing/plaf/basic/BasicPopupMenuUI.java
        (topWindowListener): Now package-private.
        * javax/swing/plaf/basic/BasicOptionPaneUI.java (iconSize,
        OK_STRING, YES_STRING, NO_STRING, CANCEL_STRING): Now constants.
        (messageAreaContainer, buttonContainer, resetSelectedValue): Now
        package-private.
        * javax/swing/plaf/basic/BasicListUI.java (damageLayout): Now
        package-private.
        * javax/swing/plaf/basic/BasicInternalFrameTitlePane.java (title):
        Now package-private.
        * javax/swing/plaf/basic/BasicDesktopIconUI.java (button): Now
        package-private.
        * javax/swing/plaf/basic/BasicComboBoxUI.java (largestItemSize,
        borderInsets): Now package-private.
        (arrowButtonWidth): Likewise.  Now a constant.
        * javax/swing/plaf/basic/BasicColorChooserUI.java (chooser, pane,
        makeTabs, updatePreviewPanel): Now package-private.
        * javax/swing/plaf/basic/BasicArrowButton.java (shadow,
        darkShadow, highlight): Now package-private.
        * javax/swing/colorchooser/DefaultSwatchChooserPanel.java
        (addColorToQueue): Now package-private.
        * javax/swing/colorchooser/DefaultRGBChooserPanel.java
        (spinnerChange, sliderChange, updateChange, R, G, B, RSpinner,
        GSpinner, BSpinner): Now package-private.
        * javax/swing/colorchooser/DefaultHSBChooserPanel.java
        (gradientImage, trackImage, slider, hRadio, sRadio, bRadio,
        hSpinner, sSpinner, bSpinner, gradientPoint, internalChange,
        spinnerTrigger, locked, handlingMouse, updateImage, updateSlider,
        updateTrack): Now package-private.
        * javax/swing/TransferHandler.java (clipboard): Now
        package-private.
        * javax/swing/ToolTipManager.java (showTip, hideTip): Now
        package-private.
        * javax/swing/Timer.java (drainEvents, queueEvent): Now
        package-private.
        * javax/swing/RepaintManager.java (globalManager): Now
        package-private.
        * javax/swing/JFormattedTextField.java (editValid): Now
        package-private.
        * javax/swing/JColorChooser.java (makeModal): Now
        package-private.
        * java/awt/geom/GeneralPath.java (rule, types, xpoints, ypoints,
        index, path): Now package-private.
        * java/awt/geom/Area.java (solids, holes, cubicCubicIntersect,
        lineQuadIntersect, lineCubicIntersect, linesIntersect,
        pointEquals): Now package-private.
        * java/awt/geom/Arc2D.java (type): Now package-private.
        * java/awt/Window.java (windowFocusOwner): Now package-private.
        * java/awt/TextComponent.java (editable, selectionStart,
        selectionEnd, text, getIndexAtPoint, getCharacterBounds): Now
        package-private.
        * java/awt/MenuItem.java (actionCommand, enabled, label): Now
        package-private.
        * java/awt/MenuComponent.java (focusListener): Now
        package-private.
        * java/awt/Frame.java (state): Now package-private.
        * java/awt/Choice.java (pItems): Now package-private.
        * java/awt/Checkbox.java (state): Now package-private.
        * java/awt/Button.java (actionCommand, label): Now
        package-private.
        * gnu/javax/swing/text/html/parser/support/Parser.java
        (attributes, _handleEndTag_remaining, _handleStartTag): Now
        package-private.
        * gnu/java/beans/decoder/PersistenceParser.java (javaHandler): Now
        package-private.
        * gnu/java/awt/peer/gtk/GdkGraphics2D.java (paint, stroke, fg, bg,
        clip, transform, font, comp): Now package-private.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Chris Burdess  <dog@gnu.org>

        * gnu/java/net/protocol/http/HTTPURLConnection.java: Throw
        FileNotFoundException and implement getErrorStream on 404.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicToggleButtonUI.java:
        (getPropertyPrefix): Added.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicButtonUI.java
        (getPropertyPrefix): Added.
        (installDefaults): Use getPropertyPrefix instead of hard-coded
        prefix.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Roman Kennke  <roman@kennke.org>

        * javax/swing/JToggleButton.java
        (JToggleButton): Removed horizontalAlignment setting, this
        was wrong. Added setting of an actionCommand, ToggleButtons
        have "" as default actionCommand.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  David Daney  <ddaney@avtrex.com>

        * java/net/InetAddress.java (InetAddress): Make a private copy of
        the address.
        * java/net/Inet4Address.java (getAddress): Return a copy of the
        address.
        * java/net/Inet6Address.java (Inet6Address): Use private copy of
        the address
        (getAddress): Return a copy of the address.
        (equals): Rewrote.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-26  Michael Koch  <konqueror@gmx.de>

        * javax/swing/ImageIcon.java:
        Merged copyright with GCJ.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Mark Wielaard  <mark@klomp.org>

        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c:
        Include config.h and jcl.h, use if defined(HAVE_ICONV), add new
        static variables infid and outfid, add char_union.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_openIconv):
        Guard with if defined(HAVE_ICONV), use JCL_jstring_to_cstring,
        JCL_free_cstring and JCL_ThrowException, cache inremaining and
        outremaining fieldIDs.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_decode):
        Guard with if defined(HAVE_ICONV), use ICONV_CONST for iconv
        argument, used cached fieldIDs, use char_union.
        (Java_gnu_java_nio_charset_iconv_IconvDecoder_closeIconv):
        Guard with if defined(HAVE_ICONV).
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c:
        Include config.h and jcl.h, use if defined(HAVE_ICONV), add new
        static variables infid and outfid, add char_union.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_openIconv):
        Guard with if defined(HAVE_ICONV), use JCL_jstring_to_cstring,
        JCL_free_cstring and JCL_ThrowException, cache inremaining and
        outremaining fieldIDs.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_encode):
        Guard with if defined(HAVE_ICONV), use ICONV_CONST for iconv
        argument, used cached fieldIDs, use char_union.
        (Java_gnu_java_nio_charset_iconv_IconvEncoder_closeIconv):
        Guard with if defined(HAVE_ICONV).
        * gnu/java/nio/charset/iconv/IconvDecoder.java (dispose): Renamed.
        (finalize): Renamed from dispose.
        * gnu/java/nio/charset/iconv/IconvEncoder.java (dispose): Renamed.
        (finalize): Renamed from dispose.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Tom Tromey  <tromey@redhat.com>

        * java/awt/AWTKeyStroke.java (vktable): Now package-private.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Sven de Marothy  <sven@physto.se>

        * java/io/InputStreamReader.java:
        (InputStreamReader): Always replace invalid chars.
        (read): Return -1 if zero bytes are read.
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
        * native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c:
        Correct C pointer arithmetic.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  David Gilbert  <david.gilbert@object-refinery.com>

        * java/awt/Transparency.java
        (getTransparency): fixed API docs.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/basic/BasicScrollBarUI.java
        (initDefaults): Initialize thumb*Color fields correctly.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/GapContent.java:
        Added API comments.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/text/AbstractDocument.java:
        Added FIXME comments. This class still has to be
        implemented thread-safe.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/tree/DefaultTreeSelectionModel.java
        (DefaultTreeSelectionModel): Initialize listenerList here.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-25  Roman Kennke  <roman@kennke.org>

        * javax/swing/plaf/metal/MetalTextFieldUI.java
        (createUI): Return one instance per Component instead of a
        shared instance.

2005-05-15  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-22  Mike Stump  <mrs@apple.com>

        * native/fdlibm/ieeefp.h: ppc64 is also __IEEE_BIG_ENDIAN.

2005-05-14  Tom Tromey  <tromey@redhat.com>

	* libraries/javalib/gmp-math/Makefile.am (Klasses_jar): Include
	srcdir; search for rt.jar in builddir.
	(compile-classes $(LIBDIR)/stamp classes): Pass LIBDIR to
	rebuildLib.

2005-05-14  Dalibor Topic  <robilad@kaffe.org>

        * include/jni_md.h: New file. 
	Merged in from GNU Classpath and gcj.

        * include/kaffe/jni_md.h.in: Removed.

        * configure.ac: Don't generate include/kaffe/jni_md.h.

        * include/Makefile.am (include_HEADERS): Added jni_md.h.
	(pkginclude_HEADERS) Removed kaffe/jni_md.h.

        * kaffe/kaffevm/gtypes.h: Added typedefs 
	for jword and jref.

        * kaffe/kaffevm/jni/jnirefs.h: Include gtypes.h.

        * kaffe/kaffevm/intrp/icode.h (JINT_MIN, JLONG_MIN) 
	Define them here in term of stdint values.

        * libraries/clib/net/PlainDatagramSocketImpl.c
	(gnu_java_net_PlainDatagramSocketImpl_setTTL): 
	Make the second parameter a jbyte as in the prototype.

        kaffe/kaffeh/java_lang_String.h,
        kaffe/kaffevm/classMethod.c,
        kaffe/kaffevm/thread.c,
        kaffe/kaffevm/thread.h,
        kaffe/kaffevm/jni/jni-arrays.c,
        kaffe/kaffevm/jni/jni-fields.c,
        kaffe/kaffevm/jni/jni-string.c,
        kaffe/kaffevm/jni/jni.c,
        kaffe/kaffevm/jni/jni_funcs.h,
        kaffe/kaffevm/systems/oskit-pthreads/lock-impl.h,
        kaffe/kaffevm/systems/unix-jthreads/jthread.c,
        kaffe/kaffevm/systems/win32/winthread.c,
        libraries/clib/native/Class.c,
        libraries/clib/native/java_lang_VMDouble.c,
        libraries/clib/net/PlainSocketImpl.c,
        libraries/clib/zip/Deflater.c,
        libraries/clib/zip/Inflater.c:
	Use jboolean instead of jbool.

        * include/files.h,
        include/jni.h,
        kaffe/kaffe/main.c,
        kaffe/kaffeh/mem.c,
        kaffe/kaffeh/support.c,
        kaffe/kaffevm/code.c,
        kaffe/kaffevm/debug.c,
        kaffe/kaffevm/exception.c,
        kaffe/kaffevm/itypes.c,
        kaffe/kaffevm/lookup.c,
        kaffe/kaffevm/stackTrace.c,
        kaffe/kaffevm/stats.c,
        kaffe/kaffevm/string.c,
        kaffe/kaffevm/support.c,
        kaffe/kaffevm/thread.c,
        kaffe/kaffevm/utf8const.c,
        kaffe/kaffevm/boehm-gc/gc2.c,
        kaffe/kaffevm/systems/unix-jthreads/jthread.c:
	Include jni_md.h instead of kaffe/jni_md.h.

	Resynced with GNU Classpath.

	2005-04-24  Tom Tromey  <tromey@redhat.com>

        * include/jni_md-x86-linux-gnu.h (JNIIMPORT): New define.
        (jsize): New typedef.
        * include/jni.h: Re-merged with libgcj.

2005-05-13  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/Makefile.am,
	kaffe/kaffevm/verifier/Makefile.am,
	replace/Makefile.am:
	(native_LIBRARIES): Renamed to noinst_LTLIBRARIES
	to turn them into convenience libraries. Should fix
	the build problems on Cygwin, too.

2005-05-13  Dalibor Topic  <robilad@kaffe.org>

	* m4/ax_create_stdint_h.m4: New file. Taken from ac-archive.

	* configure.ac: Use AX_CREATE_STDINT_H instead of checking 
	for standard int types manually. It generated a header file
	that delegates to the native headers and types where possible,
	and creates typedefs for the missing types.

	* config/Makefile.am (GEN_HDRS): Added config-int.h.

	* config/config-hacks.h:
	Removed sections braced by HAVE_INT32 and HAVE_UINT32.

	* config/generic/gentypes.h,
	kaffe/kaffevm/gtypes.h,
	libraries/clib/awt/classpath-gtk/gtk-peer/gthread-jni.c,
	libraries/clib/fdlibm/mprec.h:
	Include config-int.h instead of declaring standard int types
	manually.

2005-05-10  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* kaffe/kaffevm/systems/unix-jthreads:
	Fix build fail for '--with-threads=unix-jthreads'.

2005-05-10  Kiyo Inaba <inaba@src.ricoh.co.jp>

	* config/m68k/jit-m68k.def:
	Fix bug for optimization.

	* config/m68k/jit3-m68k.def:
	Change ifdef condition.

	* config/m68k/netbsd1/config.frag,
	config/m68k/linux/config.frag:
	Set compilation option '-O1' as default.

2005-05-08  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffevm/boehm-gc/gc2.c
	(KaffeGC_ThrowOOM):
	Changed ABORT to KAFFEVM_ABORT.

	* po/zh_TW.po:
	Updated Traditional Chinese translation.

2005-05-07  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffeh/main.c,
	kaffe/kaffeh/support.c,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/code.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/gcFuncs.c,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/object.c,
	kaffe/kaffevm/object.h,
	kaffe/kaffevm/soft.c,
	kaffe/kaffevm/stackTrace.c,
	kaffe/kaffevm/stats.c,
	kaffe/kaffevm/stats.h,
	kaffe/kaffevm/utf8const.c,
	kaffe/kaffevm/intrp/methodcalls.c,
	kaffe/kaffevm/intrp/native-wrapper.c,
	kaffe/kaffevm/intrp/native-wrapper.h,
	kaffe/kaffevm/jit/methodcalls.c,
	kaffe/kaffevm/jit/native-wrapper.c,
	kaffe/kaffevm/jit/native-wrapper.h,
	kaffe/kaffevm/jit3/machine.c,
	kaffe/kaffevm/jit3/machine.h,
	kaffe/kaffevm/jit3/native-wrapper.c,
	kaffe/kaffevm/jni/jni-arrays.c,
	kaffe/kaffevm/jni/jni-base.c,
	kaffe/kaffevm/jni/jni-callmethod.c,
	kaffe/kaffevm/jni/jni-fields.c,
	kaffe/kaffevm/jni/jni-helpers.c,
	kaffe/kaffevm/jni/jni-string.c,
	kaffe/kaffevm/jni/jni.c,
	kaffe/kaffevm/kaffe-gc/gc-incremental.c,
	include/native.h:
	Corrected and clarified copyright notice.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/hashtab.c
	(hashResize): Reordered tab update to prevent race conditions during
	the deallocation.

2005-05-07  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/signal.c (setupSigAltStack),
	kaffe/kaffevm/systems/unix-jthreads/jthread.c (restore_fds_and_exit)
	kaffe/kaffevm/systems/oskit-pthreads/pjthread.c (remove_thread),
	kaffe/jvmpi/jvmpi_kaffe.c (jvmpiProfilerExit),
	config/mips/netbsd1/md.c (sysdepCallMethod),
	kaffe/kaffevm/intrp/icode.h (softcall_breakpoint),
	libraries/clib/net/InetAddressImpl.c (java_net_VMInetAddress_getLocalHostname),
	test/internal/jit_stub.c (main): Renamed ABORT and EXIT to
	KAFFEVM_ABORT and KAFFEVM_EXIT.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(createGC): Fixed constant name.

2005-05-07  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(reserve): Removed.
	(gcThrowOOM): Use gc_primitive_use_reserve.
	(KaffeGC_Init): Adapted to the new prototype.
	
	* kaffe/kaffevm/kaffe-gc/gc-mem.h
	(KGC_NUMBER_OF_PAGES_IN_RESERVE): New constant.

	* kaffe/kaffevm/kaffe-gc/gc-mem.c
	(gc_reserve_pages): New variable.
	(gc_primitive_reserve): Store the reserved block in a private
	variable.
	(gc_primitive_use_reserve): New function.
	(gc_block_alloc): Update gc_reserve_pages if the block array is
	reallocated.

2005-05-07  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* test/internal/jit_stub.c: Changed ABORT to KAFFEVM_ABORT.

2005-05-07  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	Resynced with GNU Classpath:

	2005-05-05  Chris Burdess  <dog@gnu.org>

	* gnu/xml/transform/StreamSerializer.java: Produce compact,
	human-readable XML for non-UTF/ASCII encodings using NIO.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_exit): Release the thread list lock before exiting.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/boehm-gc/boehm/Makefile.am,
	kaffe/kaffevm/boehm-gc/boehm/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/aix_irix_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/allchblk.c,
	kaffe/kaffevm/boehm-gc/boehm/alloc.c,
	kaffe/kaffevm/boehm-gc/boehm/backgraph.c,
	kaffe/kaffevm/boehm-gc/boehm/configure,
	kaffe/kaffevm/boehm-gc/boehm/configure.ac,
	kaffe/kaffevm/boehm-gc/boehm/darwin_stop_world.c,
	kaffe/kaffevm/boehm-gc/boehm/dyn_load.c,
	kaffe/kaffevm/boehm-gc/boehm/finalize.c,
	kaffe/kaffevm/boehm-gc/boehm/mach_dep.c,
	kaffe/kaffevm/boehm-gc/boehm/mark.c,
	kaffe/kaffevm/boehm-gc/boehm/misc.c,
	kaffe/kaffevm/boehm-gc/boehm/os_dep.c,
	kaffe/kaffevm/boehm-gc/boehm/powerpc_darwin_mach_dep.s,
	kaffe/kaffevm/boehm-gc/boehm/pthread_support.c,
	kaffe/kaffevm/boehm-gc/boehm/reclaim.c,
	kaffe/kaffevm/boehm-gc/boehm/solaris_pthreads.c,
	kaffe/kaffevm/boehm-gc/boehm/solaris_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/specific.c,
	kaffe/kaffevm/boehm-gc/boehm/threadlibs.c,
	kaffe/kaffevm/boehm-gc/boehm/version.h,
	kaffe/kaffevm/boehm-gc/boehm/win32_threads.c,
	kaffe/kaffevm/boehm-gc/boehm/cord/cordprnt.c,
	kaffe/kaffevm/boehm-gc/boehm/cord/cordtest.c,
	kaffe/kaffevm/boehm-gc/boehm/doc/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/doc/README,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.changes,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.environment,
	kaffe/kaffevm/boehm-gc/boehm/doc/README.solaris2,
	kaffe/kaffevm/boehm-gc/boehm/include/Makefile.in,
	kaffe/kaffevm/boehm-gc/boehm/include/gc.h,
	kaffe/kaffevm/boehm-gc/boehm/include/gc_cpp.h,
	kaffe/kaffevm/boehm-gc/boehm/include/new_gc_alloc.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_hdrs.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_locks.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gc_priv.h,
	kaffe/kaffevm/boehm-gc/boehm/include/private/gcconfig.h: Upgraded
	to Boehm-GC 6.4.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(gcMan): Fixed memory statistics printing.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/FileChannelImpl.c
	(throwIOException): Use ExceptionCheck instead of ExceptionOccurred.

2005-05-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/xprof/callGraph.c
	(writeCallGraph): Fixlet for call graph dump.

2005-05-04  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/classMethod.c, 
	(resolveInterfaces): Hold a strong reference on interfaces to
	prevent it from being garbage collected before the destruction of
	the class object.

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Remove the strong reference.
	(walkClass): Do not walk interfaces anymore as there is already a
	strong reference on it.
	
	* kaffe/kaffevm/utf8const.c
	(utf8ConstInit): Symbol cleanup for kaffeh.

	* kaffe/kaffevm/kaffe-gc/gc-refs.c
	(KaffeGC_addWeakRef): Release the lock before going into malloc and
	acquire it again after.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c: 
	(jthread_exit) Fixed jthread_exit in case of unexpected error
	returned by repsem_wait.

	* config/sysdepCallMethod-ffi.h,
	config/alpha/jit-alpha.def,
	config/arm/jit3-arm.def,
	config/i386/jit-i386.def,
	config/i386/jit3-i386.def,
	config/m68k/jit-m68k.def,
	config/m68k/jit3-m68k.def,
	config/powerpc/jit3-powerpc.def,
	config/sparc/jit-sparc.def,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/code-analyse.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/external.c,
	kaffe/kaffevm/findInJar.c,
	kaffe/kaffevm/gtypes.h,
	kaffe/kaffevm/itypes.c,
	kaffe/kaffevm/jar.c,
	kaffe/kaffevm/kaffe.def,
	kaffe/kaffevm/reference.c,
	kaffe/kaffevm/stackTrace.c,
	kaffe/kaffevm/support.c,
	kaffe/kaffevm/thread.c,
	kaffe/kaffevm/gcj/gcj-except.c,
	kaffe/kaffevm/intrp/machine.c,
	kaffe/kaffevm/jit/basecode.c,
	kaffe/kaffevm/jit/icode.c,
	kaffe/kaffevm/jit/labels.c,
	kaffe/kaffevm/jit/machine.c,
	kaffe/kaffevm/jit/registers.c,
	kaffe/kaffevm/jit3/basecode.c,
	kaffe/kaffevm/jit3/icode.c,
	kaffe/kaffevm/jit3/machine.c,
	kaffe/kaffevm/jit3/registers.c,
	kaffe/kaffevm/kaffe-gc/gc-incremental.c,
	kaffe/kaffevm/kaffe-gc/gc-mem.c,
	kaffe/kaffevm/systems/beos-native/signal.c,
	kaffe/kaffevm/systems/oskit-pthreads/signal.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	libraries/clib/native/Method.c,
	libraries/clib/native/Runtime.c: Renamed ABORT and EXIT to
	KAFFEVM_ABORT and KAFFEVM_EXIT.

	* libraries/javalib/gnu/java/net/PlainSocketImpl.java:
	(connect) Imported internal checkings for socketConnect from GNU Classpath.
	
	* test/regression/SerialUID.java: Report the full stack trace of
	the exception.

2005-05-03  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/lang/ProcessInputStream.java: Removed,
	since unused.
	
2005-05-03  Dalibor Topic  <robilad@kaffe.org>

	* include/jsyscall.h (SystemCallInterface): Changed prototypes to 
	use socklen_t where appropriate.
	
	* kaffe/kaffevm/systems/unix-jthreads/syscalls.c,
	kaffe/kaffevm/systems/unix-jthreads/jthread.c,
	kaffe/kaffevm/systems/unix-pthreads/syscalls.c (jthreadedGetPeerName 
	jthreadedGetSockOpt, jthreadedGetSockName, jthreadedAccept, 
	jthreadedRecvfrom): Use socklen_t instead of int to fix compiler warnigs.

	* kaffe/kaffevm/systems/oskit-pthreads/syscalls.c (oskit_pthread_getsockopt) 
	(oskit_pthread_getsockname, oskit_pthread_getpeername, oskit_pthread_accept,
	(oskit_pthread_recvfrom): Use socklen_t instead of int to fix compiler warnigs.

	* libraries/clib/net/PlainDatagramSocketImpl.c (
	gnu_java_net_PlainDatagramSocketImpl_bind,
	gnu_java_net_PlainDatagramSocketImpl_peek,
	gnu_java_net_PlainDatagramSocketImpl_receive0,
	gnu_java_net_PlainDatagramSocketImpl_socketGetOption,
	gnu_java_net_PlainDatagramSocketImpl_getTTL): Use socklen_t where
	appropriate.

	* libraries/clib/net/PlainSocketImpl.c (
	gnu_java_net_PlainSocketImpl_socketConnect,
	gnu_java_net_PlainSocketImpl_socketBind,
	gnu_java_net_PlainSocketImpl_socketAccept,
	gnu_java_net_PlainSocketImpl_socketGetOption): Use socklen_t where
	appropriate.
	
	* libraries/javalib/java/security/AccessControlContext.java 
	(checkPermission): Improved exception messages.

2005-05-01  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/jit3/machine.c (finishInsnSequence): Fixed
	cast warning with jch->pool.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check if second parameter of scalb is an int.

	Reported by:  Riccardo Mottola <zuse@libero.it>,
	              Michael Franz  <mvfranz@gmail.com>

2005-04-29  Jim Huang  <jserv@kaffe.org>

	* libraries/clib/awt/qt/evt.cc
	(EventDispatcher::eventFilter): Prevent incorrect getSourceIdx
	return value.
	* libraries/clib/awt/qt/gra.cc
	(Java_java_awt_Toolkit_graInitGraph): Release QPainter objects of 
	reused NativeGraphics Java objects.
	* libraries/javalib/awt-implementations/kaffe/java/awt/NativeGraphics.java
	(dispose): Avoid non-existing native graphic objects.
	* libraries/clib/awt/qt/toolkit.h:
	Fixlet to macro definitions.

	Patched by Alexander Boettcher  <ab764283@os.inf.tu-dresden.de>.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* Makefiles.am (EXTRA_DIST): Added ChangeLog.10 to 
	ChangeLog.16.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/java/util/ResourceBundle.java
	(getBundle): Improved exception message.

2005-04-29  Dalibor Topic  <robilad@kaffe.org>

	Fix for Tom (http://tom.loria.fr).

	* libraries/javalib/java/util/logging/Logger.java
	(getLogger): If resourceBundleName is null, just
	return the found result.

	Reported by: Antoine Reilles <Antoine.Reilles@loria.fr>

2005-04-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/kaffe/tools/jar/Jar.java
	(buildUnicityMap): New method.
	(addMapEntry): New method.
	(unicityMap): New field.
	(createJar): Use unicityMap directly.
	(updateFilesInJar): Use unicityMap directly.
	
2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* developers/patch-libtool-no-default-install.diff:
	New libtool patch to fix unnecessary (and make distcheck breaking) 
	installation of libltdl into prefix/share default.

	* Makefile.am (EXTRA_DIST): developers/Encode.java and 
	developers/EncodeEUC_JP.java removed. 
	developers/patch-libtool-openbsd33.diff and 
	developers/patch-libtool-no-default-install.diff added.

	* config/Makefile.am (EXTRA_DIST): generic/gentypes.h added.

	* developers/autogen.sh: Added new libtool patch.

2005-04-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/FileChannel.c
	(throwIOException): Clarified the reason we have a failed assertion.

2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/exception.c (dispatchException):
	Initialize handler to 0 to fix gcc 4 warning.

2005-04-27  Dalibor Topic  <robilad@kaffe.org>

	* FAQ/FAQ.automake,
	developers/autogen.sh: Updated to use libtool 1.5.16.

	* configure: Regenerated.

	* libltdl/COPYING.LIB,
	libltdl/Makefile.am,
	libltdl/Makefile.in,
	libltdl/acinclude.m4,
	libltdl/config.guess,
	libltdl/config.sub,
	libltdl/configure,
	libltdl/configure.ac,
	libltdl/install-sh,
	libltdl/ltdl.c,
 	libltdl/ltdl.h,
	libltdl/ltmain.sh,
	m4/libtool.m4,
	scripts/ltmain.sh:
	Updated to libtool 1.5.16.

2005-04-26  Dalibor Topic  <robilad@kaffe.org>

	* developers/autogen.sh,
	FAQ/FAQ.automake: Updated to use gettext 0.14.4.

2005-04-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config-hacks.h: Added some alias definition for fdlibm.

	* libraries/clib/fdlibm/mprec.h: Include config-hacks.h

2005-04-25  Ito Kazumitsu <kaz@maczuka.gcd.org>

	* libraries/javalib/java/net/NetworkInterface.java
	(getByName, getByInetAddress): call getNetworkInterfaces()
	so that condensed result may be returned.

2005-04-25  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/classMethod.c
	(buildInterfaceDispatchTable): Put a strong reference on itable2dtable
	to prevent it being freed before the class is actually destroyed.

	* kaffe/kaffevm/gcFuncs.c
	(destroyClass): Remove strong reference on itable2dtable.

2005-04-24  Eric Anholt <eta@lclark.edu>

	* kaffe/kaffevm/exception.c,
	kaffe/kaffevm/locks.c,
	kaffe/kaffevm/locks.h,
	kaffe/kaffevm/string.c,
	kaffe/kaffevm/intrp/checks.h,
	kaffe/kaffevm/intrp/icode.h,
	kaffe/kaffevm/jni/jni-base.c,
	kaffe/kaffevm/jni/jni-helpers.c,
	kaffe/kaffevm/jni/jni.c
	kaffe/kaffevm/jni/jni_funcs.h
	kaffe/kaffevm/kaffe-gc/gc-mem.c:
	Fixed a few warnings.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/netbsd1/md.h:
	Include <sys/signal.h> for sigcontext on NetBSD CVS head.

	* kaffe/kaffevm/systems/unix-pthreads/signal.c:
	Include jit-md.h to make sure that exceptionFrame is defined.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/signal.c 
	(nullException, floatingException): Removed prototypes 
	that were confusing the compiler on NetBSD CVS HEAD.
	(jthread_initexceptions): Moved further to the back 
	to make sure it picks up the declarations of 
	nullException and floatingException.
	
2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Tom Tromey  <tromey@redhat.com>

	* javax/swing/text/StyleConstants.java (StyleConstants): Now
	package-private.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Mark Wielaard  <mark@klomp.org>

	* java/net/URL.java (URL(URL,String,URLStreamHandler)): Add spec
	to MalformedURLException.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Michael Koch  <konqueror@gmx.de>

	* java/net/ServerSocket.java
	(getChannel): Improved javadoc comment.

2005-04-24  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am:
	Don't generate JNI headers for removed files.

	* libraries/clib/native/Makefile.am:
	Removed character set conversion sources.

	* libraries/clib/nio/Makefile.am:
	Added iconv linking flags.

	* libraries/javalib/Makefile.am.in:
	Removed serializes converters.

	* libraries/javalib/META-INF/services/java.nio.charset.spi.CharsetProvider:
	New file.

	* test/regression/CharCvt.java:
	Adapted to nio.

	* test/regression/Makefile.am:
	Taken out the sysdepCallMethod test as such things should now be tested in
	the JNI module.

	* developers/Encode.java,
	developers/EncodeEUC_JP.java,
	libraries/clib/native/ByteToCharDefault.c,
	libraries/clib/native/ByteToCharIconv.c,
	libraries/clib/native/CharToByteDefault.c,
	libraries/clib/native/CharToByteIconv.c,
	libraries/javalib/java/lang/String.java,
	libraries/javalib/kaffe/io/ByteToChar8859_1.java,
	libraries/javalib/kaffe/io/ByteToChar8859_2.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_3.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_4.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_5.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_6.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_7.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_8.ser,
	libraries/javalib/kaffe/io/ByteToChar8859_9.ser,
	libraries/javalib/kaffe/io/ByteToCharASCII.ser,
	libraries/javalib/kaffe/io/ByteToCharCP037.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1026.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1046.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1250.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1251.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1252.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1253.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1254.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1255.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1256.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1257.ser,
	libraries/javalib/kaffe/io/ByteToCharCP1258.ser,
	libraries/javalib/kaffe/io/ByteToCharCP850.ser,
	libraries/javalib/kaffe/io/ByteToCharCP852.ser,
	libraries/javalib/kaffe/io/ByteToCharCP855.ser,
	libraries/javalib/kaffe/io/ByteToCharCP857.ser,
	libraries/javalib/kaffe/io/ByteToCharCP860.ser,
	libraries/javalib/kaffe/io/ByteToCharCP861.ser,
	libraries/javalib/kaffe/io/ByteToCharCP862.ser,
	libraries/javalib/kaffe/io/ByteToCharCP863.ser,
	libraries/javalib/kaffe/io/ByteToCharCP864.ser,
	libraries/javalib/kaffe/io/ByteToCharCP865.ser,
	libraries/javalib/kaffe/io/ByteToCharCP866.ser,
	libraries/javalib/kaffe/io/ByteToCharCP868.ser,
	libraries/javalib/kaffe/io/ByteToCharCP869.ser,
	libraries/javalib/kaffe/io/ByteToCharCP870.ser,
	libraries/javalib/kaffe/io/ByteToCharCP871.ser,
	libraries/javalib/kaffe/io/ByteToCharCP875.ser,
	libraries/javalib/kaffe/io/ByteToCharCP918.ser,
	libraries/javalib/kaffe/io/ByteToCharConverter.java,
	libraries/javalib/kaffe/io/ByteToCharDefault.java,
	libraries/javalib/kaffe/io/ByteToCharHashBased.java,
	libraries/javalib/kaffe/io/ByteToCharIconv.java,
	libraries/javalib/kaffe/io/ByteToCharKOI8_R.ser,
	libraries/javalib/kaffe/io/ByteToCharMS932.java,
	libraries/javalib/kaffe/io/ByteToCharSHIFT_JIS.java,
	libraries/javalib/kaffe/io/ByteToCharUTF8.java,
	libraries/javalib/kaffe/io/CharToByte8859_1.java,
	libraries/javalib/kaffe/io/CharToByte8859_2.ser,
	libraries/javalib/kaffe/io/CharToByte8859_3.ser,
	libraries/javalib/kaffe/io/CharToByte8859_4.ser,
	libraries/javalib/kaffe/io/CharToByte8859_5.ser,
	libraries/javalib/kaffe/io/CharToByte8859_6.ser,
	libraries/javalib/kaffe/io/CharToByte8859_7.ser,
	libraries/javalib/kaffe/io/CharToByte8859_8.ser,
	libraries/javalib/kaffe/io/CharToByte8859_9.ser,
	libraries/javalib/kaffe/io/CharToByteASCII.ser,
	libraries/javalib/kaffe/io/CharToByteCP037.ser,
	libraries/javalib/kaffe/io/CharToByteCP1026.ser,
	libraries/javalib/kaffe/io/CharToByteCP1046.ser,
	libraries/javalib/kaffe/io/CharToByteCP1250.ser,
	libraries/javalib/kaffe/io/CharToByteCP1251.ser,
	libraries/javalib/kaffe/io/CharToByteCP1252.ser,
	libraries/javalib/kaffe/io/CharToByteCP1253.ser,
	libraries/javalib/kaffe/io/CharToByteCP1254.ser,
	libraries/javalib/kaffe/io/CharToByteCP1255.ser,
	libraries/javalib/kaffe/io/CharToByteCP1256.ser,
	libraries/javalib/kaffe/io/CharToByteCP1257.ser,
	libraries/javalib/kaffe/io/CharToByteCP1258.ser,
	libraries/javalib/kaffe/io/CharToByteCP850.ser,
	libraries/javalib/kaffe/io/CharToByteCP852.ser,
	libraries/javalib/kaffe/io/CharToByteCP855.ser,
	libraries/javalib/kaffe/io/CharToByteCP857.ser,
	libraries/javalib/kaffe/io/CharToByteCP860.ser,
	libraries/javalib/kaffe/io/CharToByteCP861.ser,
	libraries/javalib/kaffe/io/CharToByteCP862.ser,
	libraries/javalib/kaffe/io/CharToByteCP863.ser,
	libraries/javalib/kaffe/io/CharToByteCP864.ser,
	libraries/javalib/kaffe/io/CharToByteCP865.ser,
	libraries/javalib/kaffe/io/CharToByteCP866.ser,
	libraries/javalib/kaffe/io/CharToByteCP868.ser,
	libraries/javalib/kaffe/io/CharToByteCP869.ser,
	libraries/javalib/kaffe/io/CharToByteCP870.ser,
	libraries/javalib/kaffe/io/CharToByteCP871.ser,
	libraries/javalib/kaffe/io/CharToByteCP875.ser,
	libraries/javalib/kaffe/io/CharToByteCP918.ser,
	libraries/javalib/kaffe/io/CharToByteConverter.java,
	libraries/javalib/kaffe/io/CharToByteDefault.java,
	libraries/javalib/kaffe/io/CharToByteHashBased.java,
	libraries/javalib/kaffe/io/CharToByteIconv.java,
	libraries/javalib/kaffe/io/CharToByteKOI8_R.ser,
	libraries/javalib/kaffe/io/CharToByteMS932.java,
	libraries/javalib/kaffe/io/CharToByteSHIFT_JIS.java,
	libraries/javalib/kaffe/io/CharToByteUTF8.java,
	libraries/javalib/kaffe/io/CircularBuffer.java,
	libraries/javalib/kaffe/io/ClassLoaderObjectInputStream.java,
	libraries/javalib/kaffe/io/ConverterAlias.java,
	libraries/javalib/kaffe/io/KaffeCharset.java,
	libraries/javalib/kaffe/io/KaffeCharsetProvider.java:
	Removed no longer necessary files.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java:
	Removed file.encoding and file.encoding.pkg properties.

	Reported by:  Mark Wielaard  <mark@klomp.org>

2004-04-23  Jeroen van Wolffelaar <jeroen@wolffelaar.nl>

	* test/regression/TestScript.in:
	SIGKILL kaffe in testsuite when SIGTERM doesn't work,
	prevent timeouts during build.

2005-04-23  Supreet Sethi  <supreet@linux-delhi.org>

	* configure.ac: Added jdb script.

	* kaffe/scripts/Makefile.am: Added jdb script.

	* kaffe/scripts/jdb.in: place holder for tomcat.

2005-04-23  Daniel Bonniot  <bonniot@users.sourceforge.net>

	* kaffe/kaffevm/jit3/machine.c 
	[KAFFE_XDEBUGGING](installMethodCode):
	Handle class files without a SourceFile attribute
	more gracefully when xdebugging.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/Document.java:
	Added API documentation comments.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-23  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/AbstractDocument.java
	(getDocumentProperties): Implemented.
	(setDocumentProperties): Implemented.
	(getProperty): Implemented.
	(putProperty): Implemented.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c
	(connectSignals): Realize the window widget after connecting
	signals.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout
	(preferredLayoutSize): Fixed computation so that it correctly
	adds the top and bottom insets of the container.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuItemUI.java
	(paintText): Make use of the 'selectionForeground' UI default
	for text painting.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initSystemColorDefaults): Modified colors to match the
	BasicLookAndFeel in the reference implementation.
	(initComponentDefaults): Likewise.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-22  Michael Koch  <konqueror@gmx.de>

	* gnu/classpath/SystemProperties.java:
	Reformatted.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-21  Casey Marshall <csm@gnu.org>

	* gnu/java/security/der/DERValue.java
	(getValueAs): new method.
	* gnu/java/security/x509/ext/PrivateKeyUsagePeriod.java
	(<init>): read both dates with 'DERValue.getValueAs', with
	'GENERALIZED_TIME' as the argument.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicLookAndFeel.java
	(initComponentDefaults): Changed Button.border to be
	BasicBorders.getButtonBorder as it should be.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicTabbedPaneUI.java:
	(getMaximumSize): Return (Short.MAX_VALUE, Short.MAX_VALUE) as it
	should according to a mauve testcase, instead of the preferred
	size.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU inetlib:

	2005-04-20  Robert Mitchell  <mitchelr@ipfw.edu>

	* IMAPConnection.java: Avoid NullPointerException when the server
	returns no matches.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* java/io/OutputStreamWriter.java:
	(close): Do nothing on multiple closes.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/JMenu.java
	(add): add(Component) now calls PopupMenu.insert(..) instead of
	PopupMenu.add(..). add(..) is not implemented for Component,
	so JComponent.add(..) is called instead, adding the component
	in the wrong place.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(getDefaults): Call addCustomEntriesToTable on the theme.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonListener.java
	(mousePressed): replaced query to getModifiersEx with getModifiers.
	This method relied on faulty behaviour in getModifierEx.
	(mouseReleased): replaced query to getModifiersEx with getModifiers.
	This method relied on faulty behaviour in getModifierEx.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/DefaultTreeSelectionModel.java
	(constructor): Added implementation.
	(getRowMapper): Added implementation.
	(setSelectionMode): Added implementation.
	(getSelectionMode): Added implementation.
	(getSelectionPath): Added implementation.
	(getSelectionPaths): Added implementation.
	(getSelectionCount): Added implementation.
	(isSelectionEmpty): Added implementation.
	(getSelectionRows): Added implementation.
	(getMinSelectionRow): Added implementation.
	(getMaxSelectionRow): Added implementation.
	(getLeadSelectionRow): Added implementation.
	(getLeadSelectionPath): Added implementation.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* java/nio/charset/Charset.java:
	(defaultCharset()): New method.
	Status updated to 1.5

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-20  Sven de Marothy  <sven@physto.se>

	* gnu/java/io/EncodingManager.java: Removed charset alias properties.
	* gnu/java/io/decode/Decoder.java,
	* gnu/java/io/decode/Decoder8859_1.java,
	* gnu/java/io/decode/Decoder8859_13.java,
	* gnu/java/io/decode/Decoder8859_15.java,
	* gnu/java/io/decode/Decoder8859_2.java,
	* gnu/java/io/decode/Decoder8859_3.java,
	* gnu/java/io/decode/Decoder8859_4.java,
	* gnu/java/io/decode/Decoder8859_5.java,
	* gnu/java/io/decode/Decoder8859_6.java,
	* gnu/java/io/decode/Decoder8859_7.java,
	* gnu/java/io/decode/Decoder8859_8.java,
	* gnu/java/io/decode/Decoder8859_9.java,
	* gnu/java/io/decode/DecoderASCII.java,
	* gnu/java/io/decode/DecoderCp1047.java,
	* gnu/java/io/decode/DecoderEBCDIC_XML_US.java,
	* gnu/java/io/decode/DecoderEightBitLookup.java,
	* gnu/java/io/decode/DecoderUTF16BE.java,
	* gnu/java/io/decode/DecoderUTF16LE.java,
	* gnu/java/io/decode/DecoderUTF32BE.java,
	* gnu/java/io/decode/DecoderUTF32LE.java,
	* gnu/java/io/decode/DecoderUTF8.java,
	* gnu/java/io/decode/DecoderUnicodeBig.java,
	* gnu/java/io/decode/DecoderUnicodeLittle.java,
	* gnu/java/io/decode/DecoderWindows1250.java,
	* gnu/java/io/decode/DecoderWindows1252.java,
	* gnu/java/io/decode/package.html
	* gnu/java/io/encode/Encoder.java,
	* gnu/java/io/encode/Encoder8859_1.java,
	* gnu/java/io/encode/Encoder8859_13.java,
	* gnu/java/io/encode/Encoder8859_15.java,
	* gnu/java/io/encode/Encoder8859_2.java,
	* gnu/java/io/encode/Encoder8859_3.java,
	* gnu/java/io/encode/Encoder8859_4.java,
	* gnu/java/io/encode/Encoder8859_5.java,
	* gnu/java/io/encode/Encoder8859_6.java,
	* gnu/java/io/encode/Encoder8859_7.java,
	* gnu/java/io/encode/Encoder8859_8.java,
	* gnu/java/io/encode/Encoder8859_9.java,
	* gnu/java/io/encode/EncoderASCII.java,
	* gnu/java/io/encode/EncoderCp1047.java,
	* gnu/java/io/encode/EncoderEBCDIC_XML_US.java,
	* gnu/java/io/encode/EncoderEightBitLookup.java,
	* gnu/java/io/encode/EncoderUTF16BE.java,
	* gnu/java/io/encode/EncoderUTF16LE.java,
	* gnu/java/io/encode/EncoderUTF32BE.java,
	* gnu/java/io/encode/EncoderUTF32LE.java,
	* gnu/java/io/encode/EncoderUTF8.java,
	* gnu/java/io/encode/EncoderUnicodeBig.java,
	* gnu/java/io/encode/EncoderUnicodeLittle.java,
	* gnu/java/io/encode/EncoderWindows1250.java,
	* gnu/java/io/encode/EncoderWindows1252.java,
	* gnu/java/io/encode/package.html:
	Removed

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Michael Koch  <konqueror@gmx.de>

	* java/awt/geom/QuadCurve2D.java:
	Fixed Brian Gough's name for real.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicButtonUI.java
	(paint): This should not care about margin and insets
	at the same time, as insets already include the margin
	through the border.
	* javax/swing/plaf/basic/BasicGraphicsUtils.java
	(getPreferredButtonSize): Likewise.
	* javax/swing/plaf/metal/MetalBorders.java
	(getBorderInsets): Likewise.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicOptionPaneUI.java
	(createMessageArea): The JPanel that holds the message area
	doesn't need to override getPreferredSize. This prevents some
	message components from rendering nicely.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-19  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URL.java:
	(toURI()): Implemented.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* java/io/InputStreamReader.java:
	(read): Fix several bugs leading to incorrect length being returned.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* java/nio/ByteBufferImpl.java:
	(putChar): Inlined for speed.
	(put, get): Bulk methods can use arraycopy.
	* java/nio/CharBufferImpl.java:
	(put, get): Bulk methods can use arraycopy.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/tree/DefaultTreeSelectionModel.java:
	Added API documentation all over the class.

2005-04-23  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Sven de Marothy  <sven@physto.se>

	* include/Makefile.am,
	* native/jni/java-nio/Makefile.am: Added new files.
	* gnu/java/nio/charset/iconv/IconvCharset.java,
	* gnu/java/nio/charset/iconv/IconvDecoder.java,
	* gnu/java/nio/charset/iconv/IconvEncoder.java,
	* gnu/java/nio/charset/iconv/IconvMetaData.java,
	* gnu/java/nio/charset/iconv/IconvProvider.java,
	* native/jni/java-nio/gnu_java_nio_charset_iconv_IconvDecoder.c,
	* native/jni/java-nio/gnu_java_nio_charset_iconv_IconvEncoder.c,
	* include/gnu_java_nio_charset_iconv_IconvDecoder.h,
	* include/gnu_java_nio_charset_iconv_IconvEncoder.h:
	New files.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollPaneUI.java
	(installDefaults): Link managed JScrollPane in instance field.
	(uninstallDefaults): Unlink managed JScrollPane in instance field.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollBarUI.java
	(PropertyChangeHandler.propertyChange): Add default
	to switch statement to avoid errors with unusual values
	for orientation.
	(installComponents): Likewise.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicScrollBarUI.java
	(installUI): Install listeners after everything all, otherwise
	we get strange NPEs in some situations, especially with
	custom L&Fs.
	(createIncreaseButton): Orientation is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.
	(createDecreaseButton): Orientation is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.
	(installComponents): Orientation for buttons is expected to be
	SwingConstants.NORTH, ..SOUTH, ..WEST or ..EAST and not
	HORIZONTAL or VERTICAL.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* java/nio/ByteBufferImpl.java (get(), put(byte)): Inlined checks
	and field updates.
	* java/nio/CharBufferImpl.java
	(CharBufferImpl(CharBufferImpl)): Copy array_offset field.
	(get(), put(char)): Inlined checks and field updates. Fixed to
	take array_offset into account.
	(get(int), put(int, char)): Fixed to take array_offset into account.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* java/awt/GraphicsEnvironment.java
	(localGraphicsEnvironment): New field.
	(getLocalGraphicsEnvironment): Added support for java.awt.graphicsenv
	property.
	(isHeadless): Added support for java.awt.headless property.
	(isHeadlessInstance): Call headless().

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/JToolBar.java
	(addImpl): Adjust added AbstractButtons to look and feel like
	toolbar buttons.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-18  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/java/beans/IntrospectionIncubator.java
	(addToPropertyHash, addToListenerHash): Don't confuse get(),
	set(), is(), add() and remove() with properties or events.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/SimpleAttributeSet.java
	(addAttribute): Removed null pointer check.
	* javax/swing/text/StyleContext.java
	(NamedStyle.setResolveParent): Added null pointer check.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIManager.java:
	Make the UIManager respect the swing.defaultlaf system
	property.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-17  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/SimpleAttributeSet.java
	(addAttribute): Check for null and remove key in that case.
	This fixes http://gcc.gnu.org/bugzilla/show_bug.cgi?id=21064 .

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Roman Kennke  <roman@kennke.org>

	* java/awt/BorderLayout.java
	(calcSize): Check for overflow when component sizes are added.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/rmi/Naming.java:
	Added class documentation.
	(lookup(String)): Call parseURL and getName.
	(bind(String,java.rmi.Remote)): Likewise.
	(unbind(String)): Likewise.
	(rebind(String, java.rmi.Remote)): Likewise.
	(list(String)): Call parseURL.
	(parseURL(String)): New method to handle parsing and defaults.
	(getName(java.net.URL)): New method to handle finding the service name.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/net/URI.java:
	Added class documentation.
	(parseURI(String)): Only handle scheme-specific parts
	if URI is not opaque.  Allow for parts that can't be null.
	(toString()): Output the scheme-specific part whole, rather
	than as its possibly non-existent components.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* java/rmi/server/RemoteObject.java:
	Removed unused import statement.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath:

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* include/Makefile.am: Removed java_io_ObjectInputStream.h
	and added java_io_VMObjectInputStream.h.
	* java/io/ObjectInputStream.java
	(currentClassLoader): Removed.
	(allocateObject): Likewise.
	* native/jni/java-io/Makefile.am: Removed java_io_ObjectInputStream.c
	and added java_io_VMObjectInputStream.c.
	* native/jni/java-io/java_io_ObjectInputStream.c: Removed.
	* native/jni/java-io/java_io_VMObjectInputStream.c: New file.
	* vm/reference/java/io/VMObjectInputStream.java: Likewise.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* include/Makefile.am (NOINSTALL_DERIVED_HDRS):
	Added java_net_InetAddress.h and java_net_NetworkInterface.h.

	Reported by:  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* libraries/clib/native/Array.c,
	libraries/clib/native/Field.c,
	libraries/clib/native/Method.c:
	Fixed includes.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/native/java_lang_VMDouble.c:
	(parseDoubleFromChars) New function. Factored out from ...
	(Java_java_lang_VMDouble_parseDouble): Factored out the parsing.
	(dtoa_toString): New function. Factored out from ...
	(Java_java_lang_VMDouble_toString) : Factored out the conversion.
	Changed conversion mode to 2, as modes 0 and 1 don't round
	as the API spec demands. Invoke conversion function as often
	as necessary with growing precision until a reversible
	representaiton of the double in form of a string is reached.

2005-04-22  Dalibor Topic  <robilad@kaffe.org>

	* THIRDPARTY: Added information on fdlibm.

	* configure.ac (AC_CONFIG_FILES): 
	Added libraries/clib/fdlibm/Makefile.

	* include/Makefile.am (NOINSTALL_JNI_DERIVED_HDRS):
	Added java_lang_VMDouble.h and java_lang_VMFloat.h.
	(NOINSTALL_DERIVED_HDRS) Removed java_lang_Double.h and
	java_lang_Float.h.

	* libraries/clib/Makefile.am (SUBDIRS): Added fdlibm.

	* libraries/clib/native/Double.c,
	libraries/clib/native/Float.c: Removed.

	* libraries/clib/native/Makefile.am 
	(AM_CPPFLAGS): Added fdlibm.
	(LANG_SRCS) Removed Double.c and Float.c. 
	Added java_lang_VMDouble.c and java_lang_VMFloat.c.
	(libnative_la_DEPENDENCIES) Added fdlibm.

	* libraries/clib/native/java_lang_VMDouble.c,
	libraries/clib/native/java_lang_VMFloat.c,
	libraries/javalib/java/lang/VMDouble.java,
	libraries/javalib/java/lang/VMFloat.java:
	New files. Taken from GNU Classpath.

	* libraries/javalib/java/lang/Double.java,
	libraries/javalib/java/lang/Float.java:  
	Replaced by implementation from GNU Classpath.

	* libraries/clib/fdlibm/Makefile.am,
	libraries/clib/fdlibm/Makefile.in,
	libraries/clib/fdlibm/dtoa.c,
	libraries/clib/fdlibm/e_acos.c,
	libraries/clib/fdlibm/e_asin.c,
	libraries/clib/fdlibm/e_atan2.c,
	libraries/clib/fdlibm/e_exp.c,
	libraries/clib/fdlibm/e_fmod.c,
	libraries/clib/fdlibm/e_log.c,
	libraries/clib/fdlibm/e_pow.c,
	libraries/clib/fdlibm/e_rem_pio2.c,
	libraries/clib/fdlibm/e_remainder.c,
	libraries/clib/fdlibm/e_scalb.c,
	libraries/clib/fdlibm/e_sqrt.c,
	libraries/clib/fdlibm/fdlibm.h,
	libraries/clib/fdlibm/ieeefp.h,
	libraries/clib/fdlibm/java-assert.h,
	libraries/clib/fdlibm/k_cos.c,
	libraries/clib/fdlibm/k_rem_pio2.c,
	libraries/clib/fdlibm/k_sin.c,
	libraries/clib/fdlibm/k_tan.c,
	libraries/clib/fdlibm/mprec.c,
	libraries/clib/fdlibm/mprec.h,
	libraries/clib/fdlibm/s_atan.c,
	libraries/clib/fdlibm/s_ceil.c,
	libraries/clib/fdlibm/s_copysign.c,
	libraries/clib/fdlibm/s_cos.c,
	libraries/clib/fdlibm/s_fabs.c,
	libraries/clib/fdlibm/s_floor.c,
	libraries/clib/fdlibm/s_rint.c,
	libraries/clib/fdlibm/s_scalbn.c,
	libraries/clib/fdlibm/s_sin.c,
	libraries/clib/fdlibm/s_tan.c,
	libraries/clib/fdlibm/sf_fabs.c,
	libraries/clib/fdlibm/sf_rint.c,
	libraries/clib/fdlibm/strtod.c,
	libraries/clib/fdlibm/w_acos.c,
	libraries/clib/fdlibm/w_asin.c,
	libraries/clib/fdlibm/w_atan2.c,
	libraries/clib/fdlibm/w_exp.c,
	libraries/clib/fdlibm/w_fmod.c,
	libraries/clib/fdlibm/w_log.c,
	libraries/clib/fdlibm/w_pow.c,
	libraries/clib/fdlibm/w_remainder.c,
	libraries/clib/fdlibm/w_sqrt.c:
	New files. Taken from GNU Classpath.

2005-04-20  Dalibor Topic  <robilad@kaffe.org>

	* test/regression/Bean.java,
	test/regression/Reflect.java: Updated expected output.

	* libraries/clib/native/Object.c: Updated getClass signature.

	Resynced with GNU Classpath.

	2005-04-16  Michael Koch  <konqueror@gmx.de>

	* java/lang/Object.java
	(getClass): Refactored to call the native in java.lang.VMObject.
	* vm/reference/java/lang/VMObject.java
	(getClass): Likewise.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* java/text/DecimalFormatSymbols.java:
	Added retrieval of "XXX" instance in place of null.
	* java/util/Currency.java,
	(Currency(String)): New constructor for the XXX special case.
	(getInstance(String)): Allow special case of "XXX".

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Sven de Marothy  <sven@physto.se>

	* java/io/InputStreamReader.java,
	* java/io/OutputStreamWriter.java,
	* java/lang/String.java: Move to NIO charsets.
	* java/io/PrintStream.java: Inline conversion using String.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-14  Chris Burdess  <dog@gnu.org>

	* java/io/DataOutputStream.java (writeUTF): Use block write for
	output.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-19  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java
	(getBorderInsets): Likewise.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalInternalFrameUI.java
	(createUI): Do not share instances between components.
	* javax/swing/plaf/metal/MetalSliderUI.java
	(createUI): Do not share instances between components.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders:
	(PopupMenuBorder): Added.
	* javax/swing/plaf/metal/MetalLookAndFeel
	(initComponentDefaults): Added PopupMenuBorder.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalScrollBarUI.java:
	(createUI): Instances cannot be shared among JScrollPanes.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added defaults for Menu, MenuBar
	MenuEntry fonts.

	2005-04-18  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java:
	Adjusted insets of ButtonBorder.
	(RolloverMarginBorder): Added class for toolbar buttons.
	(getButtonBorder): Adjusted factory method to return a shared
	instance of button border.
	(getToolbarButtonBorder): Added factory method to return a shared
	instance of toolbar button border.
	(getMarginBorder): Added factory method to return a shared
	instance of margin border.
	* javax/swing/plaf/metal/MetalButtonUI.java
	(installDefauls): If button is child of a JToolBar then set
	special border on this button.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added Label.font.
	(initSystemColorDefaults): Added this method and adjusted the
	general control color.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Added newline between import blocks. Changed Map to
	HashMap in field declarations.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalBorders.java:
	Added.
	* javax/swing/plaf/metal/MetalButtonUI.java:
	(installDefaults): Install button font.
	* javax/swing/plaf/metal/MetalLookAndFeel.java:
	(initComponentDefaults): Added button border, font and margin.
	Changed components background color to the Metal current themes
	standard color.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalTabbedPaneUI.java
	(createUI): Create one MetalTabbedPaneUI per Component instead
	of sharing one instance.

	2005-04-15  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initComponentDefaults): Added to set Metal specific component
	defaults.

	2005-04-14  Mark Wielaard  <mark@klomp.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initClassDefaults): Call super.initClassDefaults().

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalLookAndFeel.java
	(initClassDefaults): Added to include the *UI classes.

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalComboBoxUI.java:
	Added.
	* javax/swing/plaf/metal/MetalDesktopIconUI.java:
	Added.
	* javax/swing/plaf/metal/MetalInternalFrameUI.java:
	Added.
	* javax/swing/plaf/metal/MetalPopupMenuSeparatorUI.java:
	Added.
	* javax/swing/plaf/metal/MetalProgressBarUI.java:
	Added.
	* javax/swing/plaf/metal/MetalRootPaneUI.java:
	Added.
	* javax/swing/plaf/metal/MetalScrollBarUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSeparatorUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSliderUI.java:
	Added.
	* javax/swing/plaf/metal/MetalSplitPaneUI.java:
	Added.
	* javax/swing/plaf/metal/MetalTextFieldUI.java:
	Added.
	* javax/swing/plaf/metal/MetalToggleButtonUI.java:

	2005-04-14  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalButtonUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalCheckBoxUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalLabelUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalScrollPaneUI.java:
	Fixed year in copyright notice.
	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Fixed year in copyright notice.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/metal/MetalButtonUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalCheckBoxUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalLabelUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalRadioButtonUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalScrollPaneUI.java:
	Added skeleton class.
	* javax/swing/plaf/metal/MetalTabbedPaneUI.java:
	Added skeleton class.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java:
	Reindented tabs to spaces.

	2005-04-13  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(MediaEntry.imageUpdate): Removed check for SOMEBITS, this
	confused the media tracker and lead to lockups. The LOADING
	bit is handled on other places.
	(addImage): Removed the 'start image tracking' stuff. This
	is not necessary and could confuse the media tracker.
	(checkAll): Improved the check for image status so that
	images that already complete images are detected. Also now
	are really all images checked and if necessary loaded. Before
	the method bailed out after the first incomplete image.
	(statusAll): Detect images that are complete after the
	call to Component.prepareImage(..).
	(checkID): The same as in checkAll.
	(statusID): The same as in statusAll.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuUI.java
	(getMaximumSize): Now returns preferredSize because JMenu should
	never be bigger than that.
	* javax/swing/JRootPane
	(RootLayout.layoutContainer): Make JMenuBars take the whole width.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/plaf/basic/BasicMenuBarUI.java:
	Fixed tabs to spaces.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/JRootPane.java:
	Fixed various tabs to be spaces.
	(RootLayout.layoutContainer): Made menubar left aligned.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/JComponent.java:
	Modified alignmentX and alignmentY to be 0.5 instead of 0.0.
	Untabified the file.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* javax/swing/BoxLayout.java:
	(layoutContainer): Made this layout manager respect the
	minimum, maximum and preferred size more correctly.

	2005-04-12  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(addImage): Synchronized list access.
	(waitForAll): Fixed comparison of time (changed < to >).
	(waitForID): Fixed comparison of time (changed < to >).
	(removeImage): Synchronized list access.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/io/FilePermission.java
	(serialVersionUID): Made private.
	(ALL_FILES): New constant.
	(implies): Handle '<<ALL FILES>>' case.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Audrius Meskauskas, Lithuania  <AudriusA@Bioinformatics.org>

	* javax/swing/text/html/HTMLDocument.java: New file.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* javax/swing/text/html/HTMLFrameHyperlinkEvent.java:
	Reformatted.
	* javax/swing/text/html/parser/AttributeList.java:
	Fixed order of modifiers.
	(AttributeList): Made final.
	* javax/swing/text/html/parser/ContentModel.java:
	Fixed html characters in javadocs.
	* javax/swing/text/html/parser/DTD.java
	(DTD): Don't implement java.io.Serializable directly.
	(getElement): Simplified.
	* javax/swing/text/html/parser/DTDConstants.java:
	Reformatted file.
	* javax/swing/text/html/parser/Element.java:
	Fixed order of modifiers.
	* javax/swing/text/html/parser/Parser.java:
	Reformatted. Don't use fully-qualified class names.
	* javax/swing/text/html/parser/ParserDelegator.java:
	Fixed order of modifiers.
	* javax/swing/text/rtf/RTFParser.java:
	Re-ordered import statements.
	* javax/swing/text/rtf/RTFScanner.java:
	Removed unused import statement.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/image/RasterOp.java:
	Fixed wrong formatting.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/print/PrinterJob.java
	(pageDialog): New method.
	(printDialog): Implemented.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/FontMetrics.java: Reformatted.
	(getFontRenderContext): Handle case when java.awt.Graphics context is
	given.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/awt/FontMetrics.java
	(getStringBounds): New methods.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-12  Michael Koch  <konqueror@gmx.de>

	* java/net/NetworkInterface.java
	(NetworkInterface): Made constructor package private.
	Introduced another constructor for more addresses on one
	interface.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	* libraries/clib/native/InetAddress.c:
	All native methods moved to class VMInetAddress.

	* libraries/clib/native/NetworkInterface.c:
	All native methods moved to class VMNetworkInterface.

	2005-04-11  Michael Koch  <konqueror@gmx.de>

	* java/net/InetAddress.java
	(static): Removed.
	(getLocalHostname): Likewise.
	(lookupInaddrAny): Likewise.
	(getHostByAddr): Likewise.
	(getHostByName): Likewise.
	* java/net/NetworkInterface.java
	(static): Likewise.
	(getRealNetworkInterfaces): Likewise.
	* vm/reference/java/net/VMInetAddress.java,
	vm/reference/java/net/VMNetworkInterface.java: New files.
	* include/Makefile.am: Build new header files.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-11  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	Added API documentation.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-11  Michael Koch  <konqueror@gmx.de>

	* javax/imageio/ImageIO.java (ReaderFormatFilter.filter):
	Fixed wrong casting.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-10  Sven de Marothy  <sven@physto.se>

	* java/text/SimpleDateFormat.java:
	(formatWithAttribute): Pad year before truncating digits.

2005-04-19  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-15  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/EncodingHelper.java: Added method

	2005-04-13  Sven de Marothy  <sven@physto.se>

	* java/nio/charset/Charset.java: Cached encoders shouldn't be static.

	2005-04-12  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/Provider.java: Add UnicodeLittle.
	* gnu/java/nio/charset/UnicodeLittle.java: New file.
	* gnu/java/nio/charset/UTF_16.java: UnicodeBig is an alias.
	* gnu/java/nio/charset/UTF_16BE.java,
	* gnu/java/nio/charset/UTF_16LE.java: No byte-order mark.
	* gnu/java/nio/charset/UTF_16Encoder.java (encodeLoop): Fixed bug.

	2005-04-08  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/UTF_8.java
	(Decoder): Previous fix was incorrect. Sorry.
	* java/nio/charset/Charset.java: Reset cached de/encoders.
	* java/nio/charset/CharsetDecoder.java,
	java/nio/charset/CharsetEncoder.java:
	Resize encoding/decoding result buffers.

	2005-04-08  Sven de Marothy  <sven@physto.se>

	* gnu/java/nio/charset/Provider.java: Add new charsets.
	* gnu/java/nio/charset/UTF_16.java: Default to using BOM.
	* gnu/java/nio/charset/UTF_16Decoder.java: Minor fixes.
	* gnu/java/nio/charset/UTF_16Encoder.java,
	Use NIO's built-in byte-ordering instead.
	* gnu/java/nio/charset/UTF_8.java,
	(Decoder): Correct values of maximum chars per byte.
	(decodeLoop): Handle 4-byte surrogates.
	* gnu/java/nio/charset/ByteCharset.java
	* gnu/java/nio/charset/Cp424.java
	* gnu/java/nio/charset/Cp437.java
	* gnu/java/nio/charset/Cp737.java
	* gnu/java/nio/charset/Cp775.java
	* gnu/java/nio/charset/Cp850.java
	* gnu/java/nio/charset/Cp852.java
	* gnu/java/nio/charset/Cp855.java
	* gnu/java/nio/charset/Cp857.java
	* gnu/java/nio/charset/Cp860.java
	* gnu/java/nio/charset/Cp861.java
	* gnu/java/nio/charset/Cp862.java
	* gnu/java/nio/charset/Cp863.java
	* gnu/java/nio/charset/Cp864.java
	* gnu/java/nio/charset/Cp865.java
	* gnu/java/nio/charset/Cp866.java
	* gnu/java/nio/charset/Cp869.java
	* gnu/java/nio/charset/Cp874.java
	* gnu/java/nio/charset/EncodingHelper.java
	* gnu/java/nio/charset/ISO_8859_13.java
	* gnu/java/nio/charset/ISO_8859_15.java
	* gnu/java/nio/charset/ISO_8859_2.java
	* gnu/java/nio/charset/ISO_8859_3.java
	* gnu/java/nio/charset/ISO_8859_4.java
	* gnu/java/nio/charset/ISO_8859_5.java
	* gnu/java/nio/charset/ISO_8859_6.java
	* gnu/java/nio/charset/ISO_8859_7.java
	* gnu/java/nio/charset/ISO_8859_8.java
	* gnu/java/nio/charset/ISO_8859_9.java
	* gnu/java/nio/charset/KOI_8.java
	* gnu/java/nio/charset/MS874.java
	* gnu/java/nio/charset/MacCentralEurope.java
	* gnu/java/nio/charset/MacCroatian.java
	* gnu/java/nio/charset/MacCyrillic.java
	* gnu/java/nio/charset/MacDingbat.java
	* gnu/java/nio/charset/MacGreek.java
	* gnu/java/nio/charset/MacIceland.java
	* gnu/java/nio/charset/MacRoman.java
	* gnu/java/nio/charset/MacRomania.java
	* gnu/java/nio/charset/MacSymbol.java
	* gnu/java/nio/charset/MacThai.java
	* gnu/java/nio/charset/MacTurkish.java
	* gnu/java/nio/charset/Windows1250.java
	* gnu/java/nio/charset/Windows1251.java
	* gnu/java/nio/charset/Windows1252.java
	* gnu/java/nio/charset/Windows1253.java
	* gnu/java/nio/charset/Windows1254.java
	* gnu/java/nio/charset/Windows1255.java
	* gnu/java/nio/charset/Windows1256.java
	* gnu/java/nio/charset/Windows1257.java
	* gnu/java/nio/charset/Windows1258.java
	New files.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* java/awt/MediaTracker.java
	(MediaEntry.imageUpdate): Fixed flags. The different flags
	must not be ORed together.
	(checkAll): Modified to handle different meaning of the flags.
	(waitForAll): Fixed so that it waits maximum the
	specified amount of milliseconds.
	(statusAll): Modified to handle different meaning of the flags.
	(waitForID): Fixed so that it waits maximum the
	specified amount of milliseconds.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/ImageIcon.java
	(ImageIcon): Use setImage instead of direct assignment.
	(setImage): Call loadImage to make sure that the image is loaded.
	(loadImage): Waits for the image to complete loading.
	(getImageLoadStatus): Added. Returns the load status of the
	image.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-08  Roman Kennke  <roman@kennke.org>

	* javax/swing/text/JTextComponent.java
	(JTextComponent): Added repaintListener which issues repaint
	requests when the underlying document changes.
	(setDocument): Adds repaintListener to document when the
	document is changed.
	* javax/swing/text/DefaultEditorKit.java:
	Removed repaint calls on JTextComponent. This is now handled
	through a DocumentListener in JTextComponent that repaints
	the component when needed.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-07  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIDefaults.java:
	Added API documentation for all methods.

	2005-04-06  Roman Kennke  <roman@kennke.org>

	* javax/swing/UIDefaults.java
	(put): Now uses new checkAndPut method instead of checking
	directly.
	(putDefaults): Fixed so that it accepts null-values and
	treats them like remove(key).
	(checkAndPut): Added. This checks for null-values and calls
	put or remove.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU inetlib.

	2005-04-06  Chris Burdess  <dog@gnu.org>

	* CRLFInputStream.java: New algorithm, returning CRLF-delimited
	chunks on each read.

	2005-02-17  Chris Burdess  <dog@gnu.org>

	* BASE64.java: Truncate encoded byte array.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-07  Chris Burdess  <dog@gnu.org>

	* gnu/java/net/CRLFInputStream.java: Rewrite to return
	CRLF-delimited chunks.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-05  Roman Kennke  <roman@kennke.org>

	* gnu/java/awt/peer/gtk/GdkScreenGraphicsDevice.java
	(getDisplayMode): Added. Returns the current display mode.
	(isFullScreenSupported): Added.
	* java/awt/GraphicsDevice.java
	(setFullScreenWindow): Implemented a primitive fullscreen mode.
	This resizes and relocates the fullscreen window so that it uses
	the whole screen. This is not a fully accelerated fullscreen
	exclusive mode.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-01  Tom Tromey  <tromey@redhat.com>

	* java/lang/AssertionError.java: Typo fix.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-31  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* javax/swing/text/JTextComponent.java (viewToModel): New method.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-31  Michael Koch  <konqueror@gmx.de>

	* gnu/java/awt/peer/gtk/GdkGraphics.java
	(getClipBounds): Handle clip being null.
	(setClip): Likewise.
	* java/beans/beancontext/BeanContextSupport.java
	(add): Implemented.
	(addAll): Likewise.
	(clear): Likewise.
	(removeAll): Likewise.
	(retainAll): Likewise.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Sven de Marothy  <sven@physto.se>

	* gnu/java/awt/peer/gtk/GdkGraphics.java:
	(drawImage): Don't notify the image observer for offscreen images.
	* gnu/java/awt/peer/gtk/GtkImagePainter.java:
	(setPixels): Don't notify the image observer.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/beans/beancontext/BeanContextServicesSupport.java
	(BeanContextServicesSupport): Reimplemented.
	(addBeanContextServicesListener): Implemented.
	(initialize): Likewise.
	(removeBeanContextServicesListener): Likewise.
	* java/beans/beancontext/BeanContextSupport.java
	(add): Likewise.
	(addBeanContextMembershipListener): Likewise.
	(getLocale): Likewise.
	(initialize): Likewise.
	(iterator): Likewise.
	(remove): Likewise.
	(toArray): Likewise.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/awt/image/ConvolveOp.java:
	Removed comment added by eclipse.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* gnu/xml/aelfred2/XmlParser.java:
	Revert my typo fix.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-30  Michael Koch  <konqueror@gmx.de>

	* java/awt/geom/CubicCurve2D.java,
	java/awt/geom/QuadCurve2D.java:
	Fixed typo in name of Brian Cough.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Re-indented to match GNU Classpath's indentation style more closely.

2005-04-18  Michael Franz  <mvfranz@gmail.com>
	
	* FAQ/FAQ.debugging: Added new informations on how to debug kaffe
	easily.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-29  Jeroen Frijters  <jeroen@frijters.net>

	* gnu/classpath/SystemProperties.java (static): Converted encoding
	aliases to lower case and removed redudant aliases.

2005-04-18  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Tom Tromey  <tromey@redhat.com>

	* java/lang/ClassLoader.java (loadClass): Resolve class even if
	it was already found.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Tom Tromey  <tromey@redhat.com>

	* java/net/URL.java (DEFAULT_SEARCH_PATH): Added
	org.metastatic.jessie.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-28  Sven de Marothy  <sven@physto.se>

	* gnu/java/io/decode/DecoderUnicodeBig.java,
	* gnu/java/io/decode/DecoderUnicodeLittle.java,
	* gnu/java/io/encode/EncoderUnicodeBig.java,
	* gnu/java/io/encode/EncoderUnicodeLittle.java:
	New files.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/DomNode.java (notifyNode): grow listener array as
	required.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Jeroen Frijters  <jeroen@frijters.net>

	* java/awt/image/PixelGrabber.java (setPixels(int,int,int,int,
	ColorModel,byte[],int,int): Fixed byte to int conversion.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-26  Jeroen Frijters  <jeroen@frijters.net>

	* javax/imageio/spi/IIORegistry.java (IIORegistry):
	Don't assume that awt Toolkit is always ClasspathToolkit.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-23  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/xml/dom/html2/DomHTMLParser.java
	Changed 'enum' references to become 'enumeration'.

	2005-03-21  Audrius Meskauskas  <audriusa@bluewin.ch>

	* gnu/xml/dom/html2/DomHTMLParser.java: New file.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.
	
	2005-04-11  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* org/omg/CORBA/Request.java:
	(send_deferred): Added missing 'abstract' keyword.

	2005-04-10  Audrius Meskauskas  <audriusa@bluewin.ch>	

	* org/omg/CORBA/PRIVATE_MEMBER.java,
	org/omg/CORBA/PUBLIC_MEMBER.java,
	org/omg/CORBA/Request.java,
	org/omg/CORBA/StructMember.java,
	org/omg/CORBA/UnionMember.java,
	org/omg/CORBA/UNSUPPORTED_POLICY.java,
	org/omg/CORBA/UNSUPPORTED_POLICY_VALUE.java,
	org/omg/CORBA/ValueMember.java,
	org/omg/CORBA/VM_ABSTRACT.java,
	org/omg/CORBA/VM_CUSTOM.java,
	org/omg/CORBA/VM_NONE.java,
	org/omg/CORBA/VM_TRUNCATABLE.java,
	org/omg/CORBA/WrongTransaction.java,
	org/omg/CORBA/BAD_POLICY.java,
	org/omg/CORBA/BAD_POLICY_TYPE.java,
	org/omg/CORBA/BAD_POLICY_VALUE.java,
	org/omg/CORBA/Environment.java,
	org/omg/CORBA/IDLType.java,
	org/omg/CORBA/OMGVMCID.java: new files.

	2005-04-09  Audrius Meskauskas  <audriusa@bluewin.ch>	

	* org/omg/CORBA/DynAnyPackage/Invalid.java,
	org/omg/CORBA/DynAnyPackage/InvalidSeq.java,
	org/omg/CORBA/DynAnyPackage/InvalidValue.java,
	org/omg/CORBA/DynAnyPackage/TypeMismatch.java,
	org/omg/CORBA/DynAnyPackage/package.html: New files.

	2005-04-06   Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/CTX_RESTRICT_SCOPE.java,
	org/omg/CORBA/ExceptionList.java,
	org/omg/CORBA/NVList.java,
	PrincipalHolder.java: New classes.
	* org/omg/CORBA/Context.java: Completing
	part, dependent from classes above,
	org/omg/CORBA/MARSHAL.java: accessibility fixes.

	2005-03-31  Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/ORBPackage/InconsistentTypeCode.java,
	org/omg/CORBA/ORBPackage/InvalidName.java,
	org/omg/CORBA/ORBPackage/package.html: New files.

	2005-03-19  Audrius Meskauskas  <audriusa@bluewin.ch>

	* org/omg/CORBA/AnySeqHolder.java,
	org/omg/CORBA/AnySeqHelper.java,
	org/omg/CORBA/CompletionStatusHelper.java:
	New files.

2005-04-17  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/generic/gentypes.h: New file.

	* config/alpha/common.h,
	config/arm/common.h, 
	config/i386/atomic.h,
	config/i386/common.h,
	config/ia64/common.h, 
	config/m68k/common.h,
	config/mips/common.h,
	config/parisc/common.h,
	config/powerpc/common.h,
	config/s390/common.h,
	config/sh/common.h,
	config/sparc/common.h,
	config/x86_64/common.h: Include gentypes.h

	* config/generic/comparexch.h: Fixed include.
	
2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java: (preInit)
	Set java.specification.version to 1.4.

2005-04-17  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffe/version.c (printShortVersion): Changed first string
	to something more like JDK to make Kaffe useable from within 
	NetBeans 4.0 as a runtime.

	* libraries/javalib/gnu/classpath/VMSystemProperties.java: (preInit)
	Set java.vm.version to 1.1.5+cvs.

2005-04-16  Kurt Roeckx <kurt@roeckx.be>

	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(objectSizesPrint): Fixed dprintf format.
	
	* libraries/clib/nio/FileChannelImpl.c
	(Java_gnu_java_nio_channels_FileChannelImpl_read__): Fixed ret size.
	(Java_gnu_java_nio_channels_FileChannelImpl_write__I): Fixed ret size.

2005-04-16  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(Java_gnu_java_nio_VMSelector_select): Use strerror instead of
	strerror_r if it is not available.

2005-04-15  Guilhem Lavaux  <guilhem@kaffe.org>,
	Nektarios K. Papadopoulos <npapadop@inaccessnetworks.com>

	* m4/libxslt.m4: Added inclusion of xsltconfig.h

	* configure: Regenerated.
	
2005-04-15  Mike Castle <dalgoda@ix.netcom.com>

	* libraries/clib/awt/classpath-gtk/gtk-peer/Makefile.am
	(libjawt_la_CFLAGS): Fixed include path.

	* libraries/clib/awt/classpath-awt/gtk-peer/Makefile.in:
	Regenerated.
	
2005-04-14  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/version.c: Converted strings to intl strings.

	* po/POTFILES.in: Added kaffe/kaffe/version.c

	* po/kaffe.pot: Regenerated.

	* po/fr.po: Updated.

	* libraries/javalib/java/lang/ref/Reference.java
	(cleared): New field.
	(clear): Set cleared.
	(get): Return null if cleared is set.

	* po/zh_CN.po, po/zh_TW.po: Updated automatically.
	
2005-04-13  Jim Huang  <jserv@kaffe.org>

	* po/zh_CN.po,
	po/LINGUAS:
	Simplified Chinese translation contributed by DexterK Kidd 
	<dexterkidd@gmail.com>.

2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/javalib/java/lang/ref/Reference.java
	(cleared): New field.
	(get): Return null if cleared is set.
	(clear): Set cleared.

2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffe/version.c
	(printShortVersion): Print the default heap sizes and stack size.

	* kaffe/kaffevm/classMethod.h
	(Hjava_lang_Class): Removed unused finalizer_call.

	* kaffe/kaffevm/gcFuncs.c
	(initCollector): Strings/arrays must be finalized in case a weak
	reference is attached to the object.

	* kaffe/kaffevm/reference.c
	(KaffeVM_isReferenced): Fixed though the function is currently
	unused.
	(referenceObjectFinalizer, referenceFinalizer): Added DBG
	instructions.

	* kaffe/kaffevm/thread.c, kaffe/kaffevm/thread.h
	(attachFakedThreadInstance): Renamed into...
	(KaffeVM_attachFakedThreadInstance): Renamed from
	attachFakedThreadInstance.
	(KaffeVM_detachCurrenThread): New dummy function.

	* kaffe/kaffevm/utf8const.c: Removed a few 'if !defined(KAFFEH)'.

	* kaffe/kaffevm/jni/jni.c
	(KaffeJNI_AttachThread, KaffeJNI_AttachThreadAsDaemon): Use
	KaffeVM_* function now.
	
	* kaffe/kaffevm/kaffe-gc/gc-incremental.c
	(finishGC): Clarified a comment.
	(finaliserJob): Do not clear the stack anymore. Removed iLockRoot
	renamed. Invoke KaffeGC_clearWeakRef before finalizing.

	* kaffe/kaffevm/kaffe-gc/gc-refs.h
	(weakRefObject): Added new fields to keep track precisely of the
	allocation state of the object.

	* kaffe/kaffevm/kaffe-gc/gc-refs.c
	(resizeWeakReferenceObject): New auxiliary function.
	(KaffeGC_rmWeakRef): Check whether the object has been removed during GC calls.
	Do not resize dynamically the reference array.
	(KaffeGC_addWeakRef): Use resizeWeakReferenceObject.
	(KaffeGC_clearWeakRefs): Be gentle when destroying the weak
	reference object.

	* libraries/javalib/java/lang/ref/Reference.java
	(clear): Do not clear referent but clear queue according to Java API.
	
2005-04-12  Guilhem Lavaux  <guilhem@kaffe.org>
	Nektarios K. Papadopoulos <npapadop@inaccessnetworks.com>
	
	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c
	(jthreadedRecvFrom): Fixed parameter to waitForTimeout.

2005-04-11  Rei Odaira  <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/jit3/icode.c
	(div_int_const_optimize): Fixed rounding.

	* test/regression/NegativeDivideConst.java:
	Check the rounding result.
	
2005-04-11  Guilhem Lavaux  <guilhem@kaffe.org>
	Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: Patched again to use
	jthread syscall system.

2005-04-10  Guilhem Lavaux  <guilhem@kaffe.org>

	* test/jni/Makefile.am: Fixed dlopened libraries.

	* test/jni/Makefile.in: Regenerated.

2005-04-10  Guilhem Lavaux  <guilhem@kaffe.org>

	* configure.ac: Reset to 1.1.x-cvs
	
	* configure: Regenerated.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: Merged back from GNU
	Classpath with the right indentation.

2005-04-06  Guilhem Lavaux  <guilhem@kaffe.org>

	* Makefile.am
	(EXTRA_DIST): Added FAQ/FAQ.references.
	
	* kaffe/kaffevm/jni/jni-base.c
	(JNI_GetDefaultJavaVMInitArgs,
	JNI_CreateJavaVM): Updated support to JNI 1.4.
	
	* kaffe/kaffevm/jni/jni-helpers.c
	(KaffeJNI_NewDirectByteBuffer,
	KaffeJNI_GetDirectBufferAddress,
	KaffeJNI_GetDirectBufferCapacity): New functions.
	(KaffeJNI_FromReflectedMethod,
	KaffeJNI_FromReflectedField): Protected JNI call.
	
	* kaffe/kaffevm/jni/jni_funcs.h
	(KaffeJNI_NewDirectByteBuffer,
	KaffeJNI_GetDirectBufferAddress,
	KaffeJNI_GetDirectBufferCapacity): New functions.

	* kaffe/kaffevm/jni/jni.c
	(Kaffe_JNINativeInterface): Added the 3 new JNI calls.
	(Kaffe_GetEnv): Updated support to JNI 1.4.

	* libraries/clib/native/java_lang_ref_Reference.c
	(create): Check whether the referenced object is NULL.

	* libraries/clib/nio/java_nio_VMDirectByteBuffer.c:
	Imported latest version from GNU Classpath.

	* libraries/javalib/kaffe/lang/PrimordialClassLoader.java:
	Authorize loading gnu/classpath/RawData* classes from the user
	class loader.

	* Makefile.in: Regenerated.
	
2005-04-05  Supreet Sethi  <supreet@linux-delhi.org>

	* include/jsyscall.h:
	Adjust the sequence of including <sys/types.h> to fix build on 
	FreeBSD 4.x.

2005-04-05  Jim Huang  <jserv@kaffe.org>

	* kaffe/kaffevm/boehm-gc/gc2.c (createGC),
	kaffe/kaffevm/boehm-gc/gc2.h:
	Fix boehm-gc build.

2005-04-05  Dalibor Topic  <robilad@kaffe.org>

	* README: Set version to 1.1.5.
	* RELEASE-NOTES: Written.
	* configure.ac: Set version to 1.1.5.

2005-04-04  Jim Huang  <jserv@kaffe.org>

	Resynced with GNU Classpath.

	2005-04-01  Michael Koch  <konqueror@gmx.de>

	* java/io/PipedInputStream.java
	(read): Make sure a positive byte value is returned. Revised javadoc.
	Thanks to Olafur Bragason for reporting these bugs.

2005-04-04  Guilhem Lavaux  <guilhem@kaffe.org>,

	* FAQ/FAQ.references: New file

2005-04-04  Dalibor Topic  <robilad@kaffe.org>

	* config/Makefile.am:
	Added x86-64-freebsd2 port.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>,
	Mark Wielaard <mark@klomp.org>
	
	* libraries/javalib/java/lang/System.java
	(arraycopy): Cast to long to prevent integer overflow.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* config/ia64/hpux/config.frag,
	config/ia64/hpux/md.h: New files for ia64-hpux port. 
	It was a work of minutes to copy the files around and get
	Kaffe to build on the ia64-hpux box. 

	It works as well as alpha-linux-intrp-pthreads, passing 
	11 regression tests. I assume there is some 64 bit issue 
	plaguing both.

	* config/Makefile.am:
	Added new files.

	* README, WHATSNEW: Added the new port.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* config/ia64/sysdepCallMethod.h:
	Added guards.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/native/ClassLoader.c
	(defineClass): Throw an exception if length is negative.

	Reported by: Christian Thalinger <twisti@complang.tuwien.ac.at>

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c: 
	Added guards for <sys/select.h> and <sys/time.h>.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(select0): Fixed typo.

2005-04-03  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c
	(jthreadedSelect): Prepare dummy sets in case one of the parameter
	is NULL.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select): Return the error code.
	(select0): Decode the result code.
	
2005-04-03  Rei Odaira <ray@is.s.u-tokyo.ac.jp>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c
	(jthreadedSelect): Fixed timeout handling, fdset handling. maxFd,
	readsPending, writesPending updated properly.

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select, select0): Use a negative value to avoid confusion
	between the number of filedescriptor and the error value returned
	by select.

	* libraries/javalib/java/nio/channels/spi/AbstractSelectableChannel.java
	(register): Check for blocking state.

2005-04-03  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/Makefile.am 
	(libkthread_la_SOURCES): Added header files from 
	EXTRA_DIST.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* config/powerpc/darwin/config.frag:
	Added -no-cpp-precomp for darwin 5.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/rebuildLib.in (LIBDIR): 
	Removed another CDPATH usage.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in 
	[USE_PRECOMPILED_RT_JAR] (compile-tools-classes): 
	New target. 
	(tools.jar) Build only tools.jar classes.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-jthreads/jthread.c,
	kaffe/kaffevm/systems/unix-jthreads/jthread.h:
	(jthread_is_blocking): Added to the API for compatibility with
	unix-pthreads.

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/thread-internal.h:
	(jthread_exit): Changed shutdown loop to take into account
	modifications to activeThreads list.
	(jthread_is_blocking): New jthread call.
	
	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c
	(clearBlockState): Set active to 0 when exiting.

	* kaffe/kaffevm/systems/unix-pthreads/syscalls.c
	(jthreadedRecvFrom): Fixed logic to avoid eating all CPU.
	
	* config/katomic.h (__atomic_val_bysize, __atomic_bool_bysize): 
	If gcc is 2.95 then the syntax is also different.

2005-04-02  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in: (compile-classes)
	Removed CDPATH=: command that was confusing zsh on Darwin5.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-04-02  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_exit): Removed the use of pthread_cancel during
	final shutdown.

	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c
	(clearBlockState): Do not exit if the thread is in BS_THREAD
	blockstate it means the mutex be released.

2005-04-02  Riccardo Mottola <zuse@libero.it>

	* FAQ/FAQ.Known-Bugs:
	Added information on ulimit workarounds for old Darwin 
	systems.

2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/common.h,
	config/i386/common.h,
	config/ia64/common.h,
	config/m68k/common.h,
	config/mips/common.h,
	config/parisc/common.h,
	config/powerpc/common.h,
	config/s390/common.h,
	config/sh/common.h,
	config/sparc/common.h,
	config/x86_64/common.h:
	Include gccbuiltin.h.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>,
		      Riccardo Mottola <zuse@libero.it>

2005-04-01  gian paolo ciceri <gp.ciceri@acm.org>

	* config/katomic.h (__atomic_val_bysize, __atomic_bool_bysize): 
	Added versions for gcc 2.x variadic macro format.

2005-04-01  Supreet Sethi  <supreet@linux-delhi.org>

	* configure.ac: Check for uintmax_t and intmax_t.

	* config/i386/atomic.h: Only use uintmax_t and intmax_t if
	the types are available.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* java/awt/image/IndexColorModel.java
	(getRGB): Check if pixel is negative.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthread_suspendall, jthread_unsuspendall): Check whether the thread
	subsystem has been initialized as some architecture needs to invoke it
	for compare and exchange.

2005-04-01  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/locks.c
	(waitCond): Unlock completely the mutex (the lock may be recursive).

2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in (clean-local): 
	Remove tools.jar as well when cleaning up.
	
2005-04-01  Dalibor Topic  <robilad@kaffe.org>
	
	Define __builtin_expected away on gcc < 3.0

	* include/Makefile.am (noinst_HEADERS): Added gccbuiltin.h.

	* include/defs.h: Include gccbuiltin.h.

	* include/gccbuiltin.h: New file. Taken from gcc CVS
	file gcc/gcc/system.h.

	Reported by:  Riccardo Mottola <zuse@libero.it>
	
2005-04-01  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c (Java_gnu_java_nio_VMSelector_select): 
	Use strerror if strerror_r is not available.

	Reported by:  Michael Franz <mvfranz@gmail.com>,
	              Riccardo Mottola <zuse@libero.it>

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed completed tasks.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/threads.h (THREADSTACKSIZE): Doubled to fix
	stack size problem with nice's bootstrap.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	Moved gnu.bytecode into tools.jar to fix problems
	with nice's bootstrap.

	Reported by:  Daniel Bonniot  <bonniot@users.sourceforge.net>

	* kaffe/scripts/javap.in: Add tools.jar to classpath.

	* kaffe/scripts/kaffe.in: Don't add tools.jar to BOOTCLASSPATH.

	* libraries/javalib/Makefile.am.in: (jrelib_DATA) Added tools.jar.
	(JAR_CMD2) Don't add gnu.bytecode and gnu.classpath.tools.javap
	to rt.jar.
	(JAR_CMD7) Put gnu.bytecode and gnu.classpath.tools.javap into
	tools.jar.
	(tools.jar) New target.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/linux/md.c: Added missing arm/jit.h include.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/arm/linux/md.c: Added missing md.h include.

	Reported by:  gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/Makefile.am (libkaffevm_la_DEPENDENCIES): 
	Added libreplace.

	Reported by:  Michael Franz <mvfranz@gmail.com>
	
2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* test/regression/TestScript.in (SECURITY_PROVIDER_URL): 
	Use absolute path instead of realtive one to avoid problems with
	build and source directories being on different NFS volumes.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Set warning leel back to 
	-Wall to sort the most important ones out first.

2005-03-31  Dalibor Topic  <robilad@kaffe.org>

	* config/i386/jit3-i386.def,
	include/errors.h,
	include/kaffe_jni.h,
	kaffe/kaffevm/baseClasses.c,
	kaffe/kaffevm/exception.c,
	kaffe/kaffevm/exception.h,
	kaffe/kaffevm/soft.h,
	kaffe/kaffevm/support.h,
	kaffe/kaffevm/thread.c,
	kaffe/kaffevm/jit3/basecode.c,
	kaffe/kaffevm/jit3/codeproto.h,
	libraries/clib/native/Runtime.c:
	Removed NONRETURNING modifiers.
	
	* kaffe/kaffevm/access.h,
	kaffe/kaffevm/access.c (checkAccessFlags):
	Return const char*.

	* kaffe/kaffevm/exception.c (vmExcept_getSyncObj):
	Only define for interpreter.

	* kaffe/kaffevm/hashtab.c,
	kaffe/kaffevm/hashtab.h:
	Return const void *.

	* kaffe/kaffevm/ksem.c:
	Fixed comment.

	* kaffe/kaffevm/ksem.h: Indentation changes.

	* kaffe/kaffevm/reference.c:
	(KaffeVM_isReferenced) Made ref const.

	* kaffe/kaffevm/string.c,
	kaffe/kaffevm/utf8const.c,
	kaffe/kaffevm/jni/jni-string.c:
	Added casts to fix warnings.

	* kaffe/kaffevm/jit/machine.h,
	kaffe/kaffevm/jit/methodcalls.c,
	kaffe/kaffevm/jit3/registers.c:
	Added missing includes.

	* kaffe/kaffevm/jni/jni.c:
	Use THREAD_JNIENV instead of accessing the jniEnv
	field directly.

	* kaffe/kaffevm/systems/unix-pthreads/lock-impl.c,
	kaffe/kaffevm/systems/unix-pthreads/lock-impl.h:
	Whitespace fixes.

	* kaffe/kaffevm/verifier/verify2.c:
	(checkField) Made reason const.

	* libraries/clib/native/Array.c,
	libraries/clib/native/Class.c:
	Made all codepaths return from non-void functions.
	
2005-03-31  Gerrit P. Haase <gp@familiehaase.de>

	* kaffe/jvmpi/Makefile.am,
	kaffe/kaffe/Makefile.am,
	kaffe/kaffevm/Makefile.am,
	kaffe/xprof/Makefile.am,
	libraries/clib/awt/X/Makefile.am,
	libraries/clib/awt/nano-X/Makefile.am,
	libraries/clib/awt/qt/Makefile.am,
	libraries/clib/io/Makefile.am,
	libraries/clib/management/Makefile.am,
	libraries/clib/math/Makefile.am,
	libraries/clib/native/Makefile.am,
	libraries/clib/net/Makefile.am,
	libraries/clib/nio/Makefile.am,
	libraries/clib/security/Makefile.am,
	libraries/clib/zip/Makefile.am:
	(*_LDFLAGS) Added -no-undefined.
	(*_DEPENDENCIES) Added libkaffevm.

2005-03-29  Guilhem Lavaux  <guilhem@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c
	(helper_select): Use KSELECT instead of select.
	(select): Use GetStaticMethodID as the method is static.

2005-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/systems/unix-pthreads/thread-impl.c
	(jthreadInitialized): New static variable.
	(jthread_init): Set jthreadInitialized.
	(jthread_current): Return NULL if jthreadInitialized is false.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-28  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/string.c
	(stringWalk): Mark the object lock also.

	Reported by: gian paolo ciceri <gp.ciceri@acm.org>
	
2005-03-27  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/kaffe.def
	(GETSTATIC, FIELD_IS_CONSTANT): Removed inline optimization because
	final fields can be mutable.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-27  Gerrit P. Haase <gp@familiehaase.de>

	* include/jsyscall.h: Whitespace cleanups.

2005-03-27  Gerrit P. Haase <gp@familiehaase.de>

	* config/config-std.h: Removed whitespace from copyright header.
	Don't include windows specific headers on Cygwin.

2005-03-26  Ito Kazumitsu  <kaz@maczuka.gcd.org>

	* java/text/DecimalFormat.java (parse):
	Check whether the positive suffix matches the pattern. 

2005-03-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/lookup.c
	(getField): Update cname with the class name contained in the pool
	if getClass fails.

	* kaffe/kaffevm/constants.h: ConstSlot should be uintp as most of
	constants are pointers.

2005-03-26  Guilhem Lavaux  <guilhem@kaffe.org>

	* kaffe/kaffevm/lookup.c
	(getField): Use the resolved class name to get the name.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-26  Supreet Sethi  <supreet@linux-delhi.org>,
	    Dalibor Topic  <robilad@kaffe.org>

	* config/i386/atomic.h: Added checks for headers,
	include statement for <inttypes.h> and checks for
	fast types to fix build on FreeBSD 4.x.

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Moved include statement for config.h to the top to
	fix the build on Darwin6.

	Reported by:  Riccardo Mottola <zuse@libero.it>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/kaffe.def: (GETSTATIC) Cast
	short constants to jshort before moving them.

	Reported by:  Daniel Bonniot  <Daniel.Bonniot@inria.fr>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/nio/gnu_java_nio_VMSelector.c:
	Include <sys/types.h> to fix build on OS X.

	Reported by Michael Franz <mvfranz@gmail.com>

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Added new integration tasks.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	* po/kaffe.pot,
	po/fr.po,
	po/zh_TW.po,
	kaffe/kaffe/main.c (usage):
	Tweak usage messages about Nano-X backend.
	
2005-03-25  Antonio Tringali  <antonio.tringali@aliceposta.it>

	* kaffe/kaffevm/soft.c: (soft_cvtfi) Compare float against
	floating point constants to fix SIGILL on mips-linux.
	
2005-03-25  Bryan stergaard  <kloeri@gentoo.org>

	Warning fixes for alpha-linux.
	
	* kaffe/kaffeh/kaffeh-support.h,
	kaffe/kaffeh/support.c: (addCode, addLineNumbers,
	addLocalVariables, addCheckedExceptions): Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/classMethod.c,
	kaffe/kaffevm/classMethod.h: (addInnerClasses) Use size_t 
	instead of uint32 for len parameter.

	* kaffe/kaffevm/code.c,
	kaffe/kaffevm/code.h: (addCode, addLineNumbers, 
	addLocalVariables, addCheckedExceptions) Use size_t 
	instead of uint32 for len parameter.

2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/kaffevm/readClass.c (readAttributes): 
	Cast len to size_t to avoid new warnings on 64 bit platforms.

2005-03-25  Wolfgang Baer  <WBaer@gmx.de>,
	    Arnaud Vandyck  <avdyk@gnu.org>

	* kaffe/man/kaffe.1.xml: New file.
	* kaffe/man/kaffe.1.in: Regenerated.
	
2005-03-25  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/man/Makefile.am (EXTRA_DIST): Added kaffe.1.xml.
	Added rule to create man page from DocBook source.
	
2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/Makefile.am: (EXTRA_DIST) Replaced mips/atomicity.h
	by mips/atomic.h.

2005-03-25  Jim Huang  <jserv@kaffe.org>

	Resynced with GNU Classpath.
	This change is useful to get RSSOwl working.

	2005-03-21  Sven de Marothy  <sven@physto.se>

	* gnu/classpath/SystemProperties.java:
	Add missing aliases for "UnicodeBigUnmarked" and
	"UnicodeLittleUnmarked".

2005-03-24  Thiemo Seufer <ths@networkno.de>

	* config/mips/atomic.h: New glibc-style implementation.
	* config/mips/atomicity.h: Removed.
	* config/mips/common.h: Include atomic.h rather than atomicity.h.
	* config/mips/callKaffeException.h, config/mips/trampolines.S,
	config/mips/jit.h, config/mips/jit3-icode.h, config/mips/jit3-icode.h:
	Fixed some minor typos and inefficiencies.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* TODO: Removed all nasty bugs, as they were all fixed. Wow!
	Looks like the release is really getting closer.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/Makefile.am.in (EXTRA_DIST, dist-hook):
	Copy source code manually to avoid automake bugs. This fixes
	make distcheck again.

2005-03-24  Dalibor Topic  <robilad@kaffe.org>

	* config/sparc/atomic-sparc32.h: Removed glibc specific tags
	that broke build on sparc.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

	* libraries/clib/classpath/Makefile.am: Added classpath_jawt.h
	to sources. Fixes a make distcheck problem.

2005-03-23  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/javadoc.in,
	kaffe/scripts/compat/javadoc.in: Append installed antlr to
	bootclasspath. Now gjdoccing all of Kaffe's class library
	works out of the box.

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* config/mips/common.h: Really include generic atomic primitives.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>,
	    Dalibor Topic  <robilad@kaffe.org>

	* config/arm/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/config.h.in, configure: Regenerated.

	* config/mips/irix5/config.frag: Added need_stack_end=yes

	* configure.ac: Check for need_stack_end in config.frag and
	define SIGALTSTACK_NEEDS_END.

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/mips/common.h: Disabled atomicity.h

2005-03-22  Guilhem Lavaux  <guilhem@kaffe.org>

	* config/ia64/common.h: Removed the inclusion of atomicity.h

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* kaffe/scripts/compat/javadoc.in,
	kaffe/scripts/compat/javadoc.in:
	Added -Xmx512M to parameters used to invoke Kaffe to be able to 
	deal with running javadoc on Kaffe's source tree out of the box.

	* m4/m4/ac_prog_antlr.m4: Fixed antlr.jar test to bail out if 
	no antlr.jar can be found.
	
	Resynced with gjdoc.
	
	2005-03-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java: Added
	license boilerplate; updated copyright and license in usage
	output.

	2005-03-13  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Added method
	execute(String, String[]) and commented-out empty shells for
	additional execute methods.  Thanks to Jerry Haltom.
	
	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: add support for option
	-reflection; disable reflection by default.

	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java: only use
	reflection if enabled on command line.

	2005-03-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/ExecutableMemberDocImpl.java:
	properly parse the thrown exception immediately preceding the
	closing semicolon of an interface method declaration.

	Reported by Robert Schuster

	2005-03-04  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/SeeTagImpl.java: Removed bogus
	Thread.dumpStack() invocation.

	Reported by Arnaud Vandyck

	* src/gnu/classpath/tools/gjdoc/Main.java: Pass DocErrorReporter
	in reflected invocation of Doclet's validOptions() method.

	Reported by Christopher Oezbek

	2005-02-21  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java: fix
	support for option -title.

	2005-02-14  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java: fixed
	bug #11989: ParseException with -encoding UTF-8.
	
	Reported by Kalle Olavi Niemitalo.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/NotifyingInputStreamReader.java:
	correctly handle remaining undecoded bytes in the input buffer.

	* src/gnu/classpath/tools/MalformedInputEvent.java: added
	toString() method.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: do not catch Throwable,
	catch Exception instead so that Errors can fall through.

	2005-02-11  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: Also exit with return
	code 1 if the doclet raised any errors.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Fixed typo.

	2005-02-11  Michael Koch  <konqueror@gmx.de>

	* src/gnu/classpath/tools/gjdoc/Main.java
	(main): Exit with return code of '1' of execution is failing.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	fix private field access.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	force generation of overview page if a single package is
	documented and either -title, -doctitle or -overview has been
	specified.

	2005-02-10  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/gjdoc/Main.java: output warning when
	option -classpath hasn't been interceptded at the wrapper level;
	add -serialwarn and -nocomment to usage; better usage message for
	-serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	properly support optiosn -overview and -nocomment.  Replace option
	-noserialwarn with -serialwarn.

	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java,
	src/resources/htmldoclet/gjdochtml-clean-layout.css: add new style
	for overview page.

	2005-02-09  Julian Scheid  <julian@sektor37.de>

	* m4/ac_prog_antlr.m4: if $ANTLR_JAR is set, use that for locating
	antlr.jar; complain if $ANTLR_JAR specifies a non-existing file.

	* configure.ac: set autoconf prerequisite version to 2.59; set
	config macro directory; accept option --with-antlr-jar.

	2005-02-08  Julian Scheid  <julian@sektor37.de>

	* src/gnu/classpath/tools/doclets/AbstractDoclet.java:
	* src/gnu/classpath/tools/gjdoc/ClassDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/InheritDocTagImpl.java:
	* src/gnu/classpath/tools/gjdoc/Parser.java:
	* src/gnu/classpath/tools/gjdoc/RootDocImpl.java:
	* src/gnu/classpath/tools/gjdoc/TagImpl.java:
	refactor so that jikes doesn't warn anymore.

	* src/gnu/classpath/tools/doclets/htmldoclet/HtmlDoclet.java:
	* src/gnu/classpath/tools/doclets/htmldoclet/CssClass.java:
	* src/resources/htmldoclet/gjdochtml-clean-layout.css:
	some HTML output and CSS refactoring

	* src/gnu/classpath/tools/java2xhtml/Java2xhtml.java:
	s/numerical/numeric/g

2005-03-22  Dalibor Topic  <robilad@kaffe.org>

	* libraries/javalib/gnu/classpath/VMSystemProperties.java (VMSystemProperties): 
	Set build.compiler to jikes to allow out of the box Tomcat4 JSP examples to run.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Sven de Marothy  <sven@physto.se>

	* java/util/zip/GZIPInputStream.java:
	(GZIPInputStream): Read header in constructor.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Andrew John Hughes  <gnu_andrew@member.fsf.org>

	* gnu/javax/swing/text/html/parser/htmlAttributeSet.java:
	(getAttributeNames()): Replaced 'enum' with 'enumeration'.
	* gnu/javax/swing/text/html/parser/htmlValidator.java:
	(validateParameters(TagElement,htmlAttributeSet)):
	Replaced 'enum' with 'enumeration'.
	(validateAttribute(TagElement,htmlAttributeSet,
	                   Enumeration,Enumeration)):
	Likewise.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Audrius Meskauskas  <audriusa@bluewin.ch>

	* javax/swing/text/html/parser/Entity.java (getType): New method.
	* javax/swing/text/html/parser/DocumentParser.java:
	Inherit from javax.swing.text.html.parser.Parser.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

	* native/jni/java-nio/gnu_java_nio_VMSelector.c: Added important
	return statement after throwing exception.

	2005-03-18  Robert Schuster  <thebohemian@gmx>

	* native/jni/java-nio/gnu_java_nio_VMSelector.c: Implemented
	Java_gnu_java_nio_VMSelector_select.
	* configure.ac: Added check for sys/select.h and strerro_r().

	* libraries/clib/nio/SelectorImpl.c: Removed. Replaced by 
	gnu_java_nio_VMSelector.c.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-17  Chris Burdess  <dog@gnu.org>

	* gnu/xml/dom/html2/DomHTMLDocument.java: Fixed element creation and
	check for HTML/XHTML namespace.

2005-03-21  Dalibor Topic  <robilad@kaffe.org>

	Resynced with GNU Classpath.

	2005-03-16  Archie Cobbs  <archie@dellroad.org>

	* native/jni/java-nio/java_nio_VMDirectByteBuffer.c: use
	global native reference to wrap persistent jclass variable.
	* native/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkPixbufDecoder.c:
	use DeleteLocalRef() to avoid exhausting local native references.

2005-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Check for -mregnames. It lets us use common register 
	names on powerpc, and will hopefully make it simple to have a single 
	assembler trampoline fiole for both darwin and linux.

	* config/powerpc/trampolines.S: Changed powerpc floating point 
	registers names from 'frX' to 'fX' and built fine on ppc-linux.

2005-03-20  Dalibor Topic  <robilad@kaffe.org>

	* configure.ac: Don't check for no-cpp-precomp. It confuses
	libtool on 64 bit platforms to think that -fPIC is not supported, 
	leading to fascinating relinking errors. A better way for older
	darwin release must be found to deal with preprocessor breakage.
	It also lead to tons of pointless warning messages on all systems
	beside the -no-cpp-supporting ones, so it needs to go in this form.

	* replace/Makefile.am (libreplace_la_LDFLAGS): Removed -export-dynamic.

See ChangeLog.16 for earlier changes.
